%tr
  %td= virtual_datacenter.name
  %td{ :class => :status }
    - unless virtual_datacenter.status.nil?
      %span{ :class => virtual_datacenter.status[:status], :title => virtual_datacenter.status[:message] }= virtual_datacenter.status[:status].to_s.upcase
  %td= virtual_datacenter.user.first_name
  %td= virtual_datacenter.user.last_name
  %td= virtual_datacenter.user.email_address
  %td{ :class => :actions }
    = link_to "Edit", edit_admin_virtual_datacenter_path(virtual_datacenter)
    |
    = link_to "Delete", admin_virtual_datacenter_path(virtual_datacenter), :method => :delete, :confirm => "Are you sure you wish to delete this Virtual Datacenter?"
    - unless [:provisioned, :unapproved, :denied].include? virtual_datacenter.status[:status]
      |
      = link_to "Provision", provision_admin_virtual_datacenter_path(virtual_datacenter), :confirm => "Are you sure you wish to provision this Virtual Datacenter?"
    - if virtual_datacenter.status[:status] == :unapproved
      |
      = link_to "Approve", approve_admin_virtual_datacenter_path(virtual_datacenter), :confirm => "Are you sure you wish to approve this Virtual Datacenter?"
      |
      = link_to "Deny", deny_admin_virtual_datacenter_path(virtual_datacenter), :confirm => "Are you sure you wish to deny this Virtual Datacenter?"