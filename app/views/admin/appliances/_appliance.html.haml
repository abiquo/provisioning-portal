%tr
  %td= appliance.name
  %td{ :class => :status }
    - unless appliance.status.nil?
      %span{ :class => appliance.status[:status], :title => appliance.status[:message] }= appliance.status[:status].to_s.upcase
  %td= appliance.user.first_name
  %td= appliance.user.last_name
  %td= appliance.user.email_address
  %td{ :class => :actions }
    = link_to "Edit", edit_admin_appliance_path(appliance)
    |
    = link_to "Delete", admin_appliance_path(appliance), :method => :delete, :confirm => "Are you sure you wish to delete this Appliance?"
    - unless [:provisioned, :unapproved, :denied].include? appliance.status[:status]
      |
      = link_to "Provision", provision_admin_appliance_path(appliance), :confirm => "Are you sure you wish to provision this Appliance?"
    - if appliance.status[:status] == :unapproved
      |
      = link_to "Approve", approve_admin_appliance_path(appliance), :confirm => "Are you sure you wish to approve this Appliance?"
      |
      = link_to "Deny", deny_admin_appliance_path(appliance), :confirm => "Are you sure you wish to deny this Appliance?"