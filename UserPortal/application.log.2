13:55:21,860 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:55:21,926 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:55:21,926 INFO  ~  OfferID for icon 1
13:55:21,926 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:55:21,927 INFO  ~ ------------------------- EXITING displayIcon()---------
13:55:23,202 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:55:23,202 INFO  ~ Enterprie ID for current User 3
13:55:23,202 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:55:23,204 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:55:23,239 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
13:55:23,336 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:55:23,336 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id68_, offerpurch0_.expiration as expiration68_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_, offerpurch0_.leasePeriod as leasePer5_68_, offerpurch0_.offer_id as offer9_68_, offerpurch0_.serviceLevel as serviceL6_68_, offerpurch0_.start as start68_, offerpurch0_.user_idAbiquo as user10_68_, offerpurch0_.virtualApplianceState as virtualA8_68_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:55:23,337 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:55:23,408 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:55:23,408 INFO  ~ Enterprie ID for current User 3
13:55:23,408 INFO  ~ CURRENT USER EMAIL ID: david
13:55:23,408 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:55:23,409 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:55:23,447 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:55:23,447 INFO  ~  OfferID for icon 1
13:55:23,447 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:55:23,448 INFO  ~ ------------------------- EXITING displayIcon()---------
13:56:26,794 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:56:26,795 INFO  ~ Enterprie ID for current User 3
13:56:26,795 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:56:26,797 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:56:26,830 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
13:56:26,945 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:56:26,945 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id68_, offerpurch0_.expiration as expiration68_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_, offerpurch0_.leasePeriod as leasePer5_68_, offerpurch0_.offer_id as offer9_68_, offerpurch0_.serviceLevel as serviceL6_68_, offerpurch0_.start as start68_, offerpurch0_.user_idAbiquo as user10_68_, offerpurch0_.virtualApplianceState as virtualA8_68_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:56:26,946 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:56:27,002 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:56:27,002 INFO  ~ Enterprie ID for current User 3
13:56:27,002 INFO  ~ CURRENT USER EMAIL ID: david
13:56:27,003 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:56:27,004 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:56:27,030 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:56:27,030 INFO  ~  OfferID for icon 1
13:56:27,030 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:56:27,031 INFO  ~ ------------------------- EXITING displayIcon()---------
13:56:55,155 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
13:56:55,155 INFO  ~ CURRENT USER EMAIL ID: david
13:56:55,155 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:56:55,156 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
13:56:55,158 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_67_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_74_0_, nodes1_.cpu as cpu74_0_, nodes1_.description as descript3_74_0_, nodes1_.hd as hd74_0_, nodes1_.icon as icon74_0_, nodes1_.idImage as idImage74_0_, nodes1_.node_name as node7_74_0_, nodes1_.ram as ram74_0_, nodes1_1_.offer_id as offer1_75_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:56:56,204 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
13:56:56,204 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
13:56:56,233 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
13:56:56,302 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  david  david
13:57:11,454 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:57:11,454 INFO  ~  vdcname : POR-david-2012-09-25 13:57:11.454
13:57:11,832 INFO  ~  VDC to deploy: 
13:57:11,832 INFO  ~  Hypervisor to deploy: 
13:57:11,907 INFO  ~  Datacenter to deploy: 
13:57:11,907 INFO  ~  Network Built
13:57:11,907 INFO  ~ VDC built  
13:57:13,354 INFO  ~  1. VDC CREATED 
13:57:13,643 INFO  ~  2. VAPP CREATED 
13:57:13,688 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo66_0_, userportal0_.email as email66_0_, userportal0_.idEnterprise as idEnterp3_66_0_, userportal0_.nick as nick66_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
13:57:13,689 INFO  ~ --------------------
13:57:13,690 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:57:13,691 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
13:57:13,691 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.virtualAppliance=?
13:57:13,692 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
13:57:13,692 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_67_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_74_0_, nodes1_.cpu as cpu74_0_, nodes1_.description as descript3_74_0_, nodes1_.hd as hd74_0_, nodes1_.icon as icon74_0_, nodes1_.idImage as idImage74_0_, nodes1_.node_name as node7_74_0_, nodes1_.ram as ram74_0_, nodes1_1_.offer_id as offer1_75_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:57:14,004 INFO  ~  3. VM CREATED
13:57:14,004 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_74_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_72_0_, nodes_reso1_.resourceType as resource2_72_0_, nodes_reso1_.sequence as sequence72_0_, nodes_reso1_.value as value72_0_, nodes_reso1_1_.id_node as id1_73_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:57:14,181 INFO  ~  4. HARDDISKS ATTACHED 
13:57:14,181 INFO  ~  Handler created :
13:57:14,483 INFO  ~ STARTING MONITORING ......
13:57:14,483 INFO  ~ SAVING DEPLOY INFORMATION ......
13:57:14,486 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:57:14,488 INFO  ~ DEPLOY INFO SAVED ......
13:57:14,488 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
13:57:19,035 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:57:19,035 INFO  ~ Enterprie ID for current User 3
13:57:19,035 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:57:19,037 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:57:19,081 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
13:57:19,186 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:57:19,186 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id68_, offerpurch0_.expiration as expiration68_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_, offerpurch0_.leasePeriod as leasePer5_68_, offerpurch0_.offer_id as offer9_68_, offerpurch0_.serviceLevel as serviceL6_68_, offerpurch0_.start as start68_, offerpurch0_.user_idAbiquo as user10_68_, offerpurch0_.virtualApplianceState as virtualA8_68_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:57:19,188 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:57:19,284 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:57:19,284 INFO  ~ Enterprie ID for current User 3
13:57:19,284 INFO  ~ CURRENT USER EMAIL ID: david
13:57:19,285 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:57:19,286 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:57:19,302 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:57:19,302 INFO  ~  OfferID for icon 1
13:57:19,302 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:57:19,303 INFO  ~ ------------------------- EXITING displayIcon()---------
13:57:19,967 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:57:19,967 INFO  ~ Enterprie ID for current User 3
13:57:19,967 INFO  ~ CURRENT USER EMAIL ID: david
13:57:20,002 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
13:57:20,113 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:57:20,114 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id68_, offerpurch0_.expiration as expiration68_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_, offerpurch0_.leasePeriod as leasePer5_68_, offerpurch0_.offer_id as offer9_68_, offerpurch0_.serviceLevel as serviceL6_68_, offerpurch0_.start as start68_, offerpurch0_.user_idAbiquo as user10_68_, offerpurch0_.virtualApplianceState as virtualA8_68_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:57:20,115 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:57:20,249 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
13:57:20,251 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:57:20,252 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:57:23,404 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
13:57:23,490 INFO  ~  UNDEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  david  david
13:57:23,573 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:57:23,573 INFO  ~  vdcname : POR-david-2012-09-25 13:57:23.573
13:57:23,574 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id68_0_, offerpurch0_.expiration as expiration68_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_0_, offerpurch0_.leasePeriod as leasePer5_68_0_, offerpurch0_.offer_id as offer9_68_0_, offerpurch0_.serviceLevel as serviceL6_68_0_, offerpurch0_.start as start68_0_, offerpurch0_.user_idAbiquo as user10_68_0_, offerpurch0_.virtualApplianceState as virtualA8_68_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
13:57:23,819 WARN  ~ EXCEPTION OCCURED  IN deploy()
org.jclouds.abiquo.domain.exception.AbiquoException: VM-12 - The allowed power states for Virtual Machine deployment are ON, OFF, PAUSED, UNKNOWN  or ALLOCATED

	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.getExceptionToPropagate(AbiquoErrorHandler.java:112)
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:88)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.undeployVirtualAppliance(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.undeployVirtualAppliance(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualAppliance.undeploy(VirtualAppliance.java:271)
	at org.jclouds.abiquo.domain.cloud.VirtualAppliance.undeploy(VirtualAppliance.java:251)
	at controllers.Consumer.deleteOffer(Consumer.java:777)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
13:57:26,830 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:57:26,830 INFO  ~ Enterprie ID for current User 3
13:57:26,830 INFO  ~ CURRENT USER EMAIL ID: david
13:57:26,830 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:57:26,832 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:57:26,905 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:57:26,905 INFO  ~  OfferID for icon 1
13:57:26,905 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:57:26,906 INFO  ~ ------------------------- EXITING displayIcon()---------
13:57:28,173 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:57:28,174 INFO  ~ Enterprie ID for current User 3
13:57:28,174 INFO  ~ CURRENT USER EMAIL ID: david
13:57:28,205 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
13:57:28,291 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:57:28,292 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id68_, offerpurch0_.expiration as expiration68_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_, offerpurch0_.leasePeriod as leasePer5_68_, offerpurch0_.offer_id as offer9_68_, offerpurch0_.serviceLevel as serviceL6_68_, offerpurch0_.start as start68_, offerpurch0_.user_idAbiquo as user10_68_, offerpurch0_.virtualApplianceState as virtualA8_68_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:57:28,293 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:57:28,414 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:57:28,415 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:57:29,904 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:57:29,904 INFO  ~  CREATED VM : VirtualMachine [id=25, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_fcd2bb0c-a1f2-4e8f-bbf5-9fafd3663be0, password=vmpassword, ram=512, uuid=fcd2bb0c-a1f2-4e8f-bbf5-9fafd3663be0, vncAddress=null, vncPort=0]
13:57:29,963 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
13:57:29,963 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:57:29,963 INFO  ~  getVMDetais() params : vdc_id 22 vapp_id : 22 vm-id : 25
13:57:29,963 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_76_, mkt_config0_.deploy_enterprise_id as deploy2_76_, mkt_config0_.enterprise_name as enterprise3_76_, mkt_config0_.mkt_branding_css as mkt4_76_, mkt_config0_.mkt_branding_icon as mkt5_76_, mkt_config0_.mkt_deploy_pw as mkt6_76_, mkt_config0_.mkt_deploy_user as mkt7_76_, mkt_config0_.mkt_theme_css as mkt8_76_, mkt_config0_.mkt_url as mkt9_76_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:57:29,964 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:57:29,964 INFO  ~  AbiquoUtils context set to :null
13:57:29,964 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:57:31,768 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:57:31,768 INFO  ~ Enterprie ID for current User 3
13:57:31,769 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:57:31,770 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:57:31,823 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
13:57:31,924 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:57:31,924 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id68_, offerpurch0_.expiration as expiration68_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_, offerpurch0_.leasePeriod as leasePer5_68_, offerpurch0_.offer_id as offer9_68_, offerpurch0_.serviceLevel as serviceL6_68_, offerpurch0_.start as start68_, offerpurch0_.user_idAbiquo as user10_68_, offerpurch0_.virtualApplianceState as virtualA8_68_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:57:31,925 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:57:31,978 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:57:31,978 INFO  ~ Enterprie ID for current User 3
13:57:31,978 INFO  ~ CURRENT USER EMAIL ID: david
13:57:31,978 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:57:31,979 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:57:32,062 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:57:32,062 INFO  ~  OfferID for icon 1
13:57:32,062 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:57:32,063 INFO  ~ ------------------------- EXITING displayIcon()---------
13:57:32,613 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:57:32,614 INFO  ~ Enterprie ID for current User 3
13:57:32,614 INFO  ~ CURRENT USER EMAIL ID: david
13:57:32,646 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
13:57:32,741 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:57:32,741 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id68_, offerpurch0_.expiration as expiration68_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_, offerpurch0_.leasePeriod as leasePer5_68_, offerpurch0_.offer_id as offer9_68_, offerpurch0_.serviceLevel as serviceL6_68_, offerpurch0_.start as start68_, offerpurch0_.user_idAbiquo as user10_68_, offerpurch0_.virtualApplianceState as virtualA8_68_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:57:32,743 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:57:32,947 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
13:57:32,948 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:57:32,949 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:57:33,068 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:57:33,068 INFO  ~  OfferID for icon 1
13:57:33,069 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:57:33,069 INFO  ~ ------------------------- EXITING displayIcon()---------
13:57:35,365 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
13:57:35,439 INFO  ~  UNDEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  david  david
13:57:35,529 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:57:35,529 INFO  ~  vdcname : POR-david-2012-09-25 13:57:35.529
13:57:35,529 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id68_0_, offerpurch0_.expiration as expiration68_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_0_, offerpurch0_.leasePeriod as leasePer5_68_0_, offerpurch0_.offer_id as offer9_68_0_, offerpurch0_.serviceLevel as serviceL6_68_0_, offerpurch0_.start as start68_0_, offerpurch0_.user_idAbiquo as user10_68_0_, offerpurch0_.virtualApplianceState as virtualA8_68_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
13:57:47,540 DEBUG ~ /* delete models.OfferPurchased */ delete from OfferPurchased where id=?
13:57:47,540 INFO  ~ OFFER DELETED ......
13:57:47,540 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
13:57:53,414 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:57:53,414 INFO  ~ Enterprie ID for current User 3
13:57:53,414 INFO  ~ CURRENT USER EMAIL ID: david
13:57:53,414 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:57:53,416 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:57:53,494 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:57:53,494 INFO  ~  OfferID for icon 1
13:57:53,494 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:57:53,495 INFO  ~ ------------------------- EXITING displayIcon()---------
13:57:54,614 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:57:54,614 INFO  ~ Enterprie ID for current User 3
13:57:54,614 INFO  ~ CURRENT USER EMAIL ID: david
13:57:54,646 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
13:57:54,739 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:57:54,739 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id68_, offerpurch0_.expiration as expiration68_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_, offerpurch0_.leasePeriod as leasePer5_68_, offerpurch0_.offer_id as offer9_68_, offerpurch0_.serviceLevel as serviceL6_68_, offerpurch0_.start as start68_, offerpurch0_.user_idAbiquo as user10_68_, offerpurch0_.virtualApplianceState as virtualA8_68_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:57:54,740 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:57:54,740 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:57:55,894 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:57:55,894 INFO  ~ Enterprie ID for current User 3
13:57:55,894 INFO  ~ CURRENT USER EMAIL ID: david
13:57:55,894 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:57:55,896 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:57:55,965 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:57:55,965 INFO  ~  OfferID for icon 1
13:57:55,965 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:57:55,966 INFO  ~ ------------------------- EXITING displayIcon()---------
13:57:57,201 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:57:57,201 INFO  ~ Enterprie ID for current User 3
13:57:57,201 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:57:57,203 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:57:57,239 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
13:57:57,358 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:57:57,359 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id68_, offerpurch0_.expiration as expiration68_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_, offerpurch0_.leasePeriod as leasePer5_68_, offerpurch0_.offer_id as offer9_68_, offerpurch0_.serviceLevel as serviceL6_68_, offerpurch0_.start as start68_, offerpurch0_.user_idAbiquo as user10_68_, offerpurch0_.virtualApplianceState as virtualA8_68_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:57:57,359 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:57:57,418 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:57:57,418 INFO  ~ Enterprie ID for current User 3
13:57:57,418 INFO  ~ CURRENT USER EMAIL ID: david
13:57:57,418 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:57:57,419 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:57:57,543 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:57:57,543 INFO  ~  OfferID for icon 1
13:57:57,544 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:57:57,545 INFO  ~ ------------------------- EXITING displayIcon()---------
13:58:51,083 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
13:58:51,126 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:58:51,401 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
13:58:51,659 INFO  ~ -----INSIDE Index()-----
13:58:53,497 INFO  ~ CURRENT USER EMAIL ID: David
13:58:53,498 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:58:53,499 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:58:55,872 INFO  ~ -----INSIDE Index()-----
13:58:55,872 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:58:58,145 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
13:58:58,145 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
13:58:58,179 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:58:58,281 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
13:58:58,358 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:58:58,358 INFO  ~  vdcname : POR-David-2012-09-25 13:58:58.358
13:58:58,475 INFO  ~  VDC to deploy: 
13:58:58,475 INFO  ~  Hypervisor to deploy: 
13:58:58,538 INFO  ~  Datacenter to deploy: 
13:58:58,539 INFO  ~  Network Built
13:58:58,539 INFO  ~ VDC built  
13:58:59,862 INFO  ~  1. VDC CREATED 
13:59:00,108 INFO  ~  2. VAPP CREATED 
13:59:00,163 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo66_0_, userportal0_.email as email66_0_, userportal0_.idEnterprise as idEnterp3_66_0_, userportal0_.nick as nick66_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
13:59:00,165 INFO  ~ --------------------
13:59:00,165 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:59:00,166 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
13:59:00,167 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.virtualAppliance=?
13:59:00,167 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
13:59:00,168 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_67_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_74_0_, nodes1_.cpu as cpu74_0_, nodes1_.description as descript3_74_0_, nodes1_.hd as hd74_0_, nodes1_.icon as icon74_0_, nodes1_.idImage as idImage74_0_, nodes1_.node_name as node7_74_0_, nodes1_.ram as ram74_0_, nodes1_1_.offer_id as offer1_75_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:59:00,511 INFO  ~  3. VM CREATED
13:59:00,512 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_74_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_72_0_, nodes_reso1_.resourceType as resource2_72_0_, nodes_reso1_.sequence as sequence72_0_, nodes_reso1_.value as value72_0_, nodes_reso1_1_.id_node as id1_73_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:59:00,695 INFO  ~  4. HARDDISKS ATTACHED 
13:59:00,695 INFO  ~  Handler created :
13:59:01,040 INFO  ~ STARTING MONITORING ......
13:59:01,040 INFO  ~ SAVING DEPLOY INFORMATION ......
13:59:01,040 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:59:01,042 INFO  ~ DEPLOY INFO SAVED ......
13:59:01,042 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
13:59:03,948 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:59:03,948 INFO  ~ Enterprie ID for current User 
13:59:03,948 INFO  ~ CURRENT USER EMAIL ID: David
13:59:03,980 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:59:04,086 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:59:04,086 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id68_, offerpurch0_.expiration as expiration68_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_, offerpurch0_.leasePeriod as leasePer5_68_, offerpurch0_.offer_id as offer9_68_, offerpurch0_.serviceLevel as serviceL6_68_, offerpurch0_.start as start68_, offerpurch0_.user_idAbiquo as user10_68_, offerpurch0_.virtualApplianceState as virtualA8_68_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:59:04,087 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:59:04,285 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
13:59:04,286 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:59:04,294 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:59:11,417 INFO  ~ CURRENT USER EMAIL ID: David
13:59:11,417 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:59:11,419 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:59:13,120 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:59:13,120 INFO  ~ Enterprie ID for current User 
13:59:13,120 INFO  ~ CURRENT USER EMAIL ID: David
13:59:13,161 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:59:13,233 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:59:13,233 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id68_, offerpurch0_.expiration as expiration68_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_, offerpurch0_.leasePeriod as leasePer5_68_, offerpurch0_.offer_id as offer9_68_, offerpurch0_.serviceLevel as serviceL6_68_, offerpurch0_.start as start68_, offerpurch0_.user_idAbiquo as user10_68_, offerpurch0_.virtualApplianceState as virtualA8_68_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:59:13,234 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:59:13,387 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:59:13,388 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
13:59:16,681 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:59:16,681 INFO  ~  CREATED VM : VirtualMachine [id=26, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_a91a5818-ee47-41aa-b575-a028ec6d281e, password=vmpassword, ram=512, uuid=a91a5818-ee47-41aa-b575-a028ec6d281e, vncAddress=null, vncPort=0]
13:59:16,743 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
13:59:16,743 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:59:16,743 INFO  ~  getVMDetais() params : vdc_id 23 vapp_id : 23 vm-id : 26
13:59:16,743 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_76_, mkt_config0_.deploy_enterprise_id as deploy2_76_, mkt_config0_.enterprise_name as enterprise3_76_, mkt_config0_.mkt_branding_css as mkt4_76_, mkt_config0_.mkt_branding_icon as mkt5_76_, mkt_config0_.mkt_deploy_pw as mkt6_76_, mkt_config0_.mkt_deploy_user as mkt7_76_, mkt_config0_.mkt_theme_css as mkt8_76_, mkt_config0_.mkt_url as mkt9_76_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:59:16,744 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:59:16,744 INFO  ~  AbiquoUtils context set to :null
13:59:16,744 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:00:35,056 INFO  ~ CURRENT USER EMAIL ID: David
14:00:35,056 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:00:35,058 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:00:36,963 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:00:36,963 INFO  ~ Enterprie ID for current User 
14:00:41,397 INFO  ~ CURRENT USER EMAIL ID: David
14:00:45,571 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:00:48,732 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:00:48,733 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id68_, offerpurch0_.expiration as expiration68_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_, offerpurch0_.leasePeriod as leasePer5_68_, offerpurch0_.offer_id as offer9_68_, offerpurch0_.serviceLevel as serviceL6_68_, offerpurch0_.start as start68_, offerpurch0_.user_idAbiquo as user10_68_, offerpurch0_.virtualApplianceState as virtualA8_68_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:00:48,749 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:00:53,520 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
14:00:54,132 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:01:10,681 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
14:01:14,328 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo66_0_, userportal0_.email as email66_0_, userportal0_.idEnterprise as idEnterp3_66_0_, userportal0_.nick as nick66_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:14:42,276 ERROR ~ 

@6bnd1mcj1
Internal Server Error (500) for request GET /mobile/listOffersPurchased

No route found (In /app/views/Mobile/listOffersPurchased.html around line 24)
No route able to invoke action Mobile.manageOffer was found.

play.exceptions.NoRouteFoundException: No route found
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:82)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:242)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.listOffersPurchased(Mobile.java:218)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
14:14:55,998 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
14:14:55,998 ERROR ~ Table 'Deploy_Bundle' already exists
14:15:08,530 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
14:15:08,576 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:15:08,797 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
14:15:08,839 INFO  ~ -----INSIDE Index()-----
14:15:10,681 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:15:10,682 INFO  ~ Enterprie ID for current User 
14:15:10,682 INFO  ~ CURRENT USER EMAIL ID: david
14:15:10,725 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:15:10,797 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:15:10,798 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id90_, offerpurch0_.expiration as expiration90_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_, offerpurch0_.leasePeriod as leasePer5_90_, offerpurch0_.offer_id as offer9_90_, offerpurch0_.serviceLevel as serviceL6_90_, offerpurch0_.start as start90_, offerpurch0_.user_idAbiquo as user10_90_, offerpurch0_.virtualApplianceState as virtualA8_90_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:15:10,798 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:15:10,798 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:15:12,889 INFO  ~ CURRENT USER EMAIL ID: david
14:15:12,890 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:15:12,891 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:15:13,808 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:15:13,809 INFO  ~ Enterprie ID for current User 
14:15:13,809 INFO  ~ CURRENT USER EMAIL ID: david
14:15:13,851 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:15:13,949 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:15:13,949 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id90_, offerpurch0_.expiration as expiration90_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_, offerpurch0_.leasePeriod as leasePer5_90_, offerpurch0_.offer_id as offer9_90_, offerpurch0_.serviceLevel as serviceL6_90_, offerpurch0_.start as start90_, offerpurch0_.user_idAbiquo as user10_90_, offerpurch0_.virtualApplianceState as virtualA8_90_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:15:13,950 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:15:13,950 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:15:16,472 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:15:16,472 INFO  ~ Enterprie ID for current User 3
14:15:16,473 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:15:16,474 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:15:16,504 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:15:16,588 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:15:16,588 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id90_, offerpurch0_.expiration as expiration90_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_, offerpurch0_.leasePeriod as leasePer5_90_, offerpurch0_.offer_id as offer9_90_, offerpurch0_.serviceLevel as serviceL6_90_, offerpurch0_.start as start90_, offerpurch0_.user_idAbiquo as user10_90_, offerpurch0_.virtualApplianceState as virtualA8_90_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:15:16,589 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:15:16,745 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:15:16,745 INFO  ~ Enterprie ID for current User 3
14:15:16,745 INFO  ~ CURRENT USER EMAIL ID: david
14:15:16,745 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:15:16,746 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:15:18,153 INFO  ~ -----INSIDE LOGOUT()-----
14:15:24,766 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
14:15:24,802 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:15:24,981 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
14:15:26,004 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
14:15:26,036 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:15:26,581 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:15:26,892 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ where offer0_.virtualAppliance=?
14:15:26,988 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
14:15:26,988 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ where offer0_.defaultServiceLevel=?
14:15:26,989 INFO  ~ resultSet1 size :0
14:15:26,989 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
14:15:26,989 INFO  ~  resultSet1 size []
14:15:26,989 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
14:15:27,868 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
14:15:27,899 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:15:27,998 INFO  ~  virtualDC  : diamond
14:15:28,187 INFO  ~  va  : diamond
14:15:28,453 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
14:15:32,278 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:15:32,478 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ where offer0_.virtualAppliance=?
14:15:32,537 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
14:15:32,537 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ where offer0_.defaultServiceLevel=?
14:15:32,538 INFO  ~ resultSet1 size :0
14:15:32,538 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
14:15:32,538 INFO  ~  resultSet1 size []
14:15:32,538 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
14:15:32,547 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ where offer0_.id=? limit ?
14:15:32,555 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
14:15:32,555 INFO  ~ Session user in addToServiceCatalog(): admin
14:15:32,555 INFO  ~  and  vdc 1  & va_id : 1
14:15:32,555 INFO  ~  lease period 100 years
14:15:32,584 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:15:33,050 INFO  ~  description : sdafadf
14:15:33,073 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
14:15:33,075 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
14:15:33,076 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
14:15:33,076 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
14:15:33,077 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
14:15:35,905 INFO  ~ -----INSIDE LOGOUT()-----
14:15:41,301 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
14:15:41,343 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:15:41,514 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
14:15:41,531 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:15:41,531 INFO  ~ Enterprie ID for current User 3
14:15:41,531 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:15:41,532 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:15:41,562 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:15:42,015 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:15:42,015 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id90_, offerpurch0_.expiration as expiration90_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_, offerpurch0_.leasePeriod as leasePer5_90_, offerpurch0_.offer_id as offer9_90_, offerpurch0_.serviceLevel as serviceL6_90_, offerpurch0_.start as start90_, offerpurch0_.user_idAbiquo as user10_90_, offerpurch0_.virtualApplianceState as virtualA8_90_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:15:42,015 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:15:42,082 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:15:42,082 INFO  ~ Enterprie ID for current User 3
14:15:42,082 INFO  ~ CURRENT USER EMAIL ID: david
14:15:42,083 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:15:42,084 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:15:42,174 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:15:42,174 INFO  ~  OfferID for icon 1
14:15:42,174 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
14:15:42,175 INFO  ~ ------------------------- EXITING displayIcon()---------
14:15:43,771 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
14:15:43,771 INFO  ~ CURRENT USER EMAIL ID: david
14:15:43,771 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
14:15:43,773 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
14:15:43,789 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_89_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_96_0_, nodes1_.cpu as cpu96_0_, nodes1_.description as descript3_96_0_, nodes1_.hd as hd96_0_, nodes1_.icon as icon96_0_, nodes1_.idImage as idImage96_0_, nodes1_.node_name as node7_96_0_, nodes1_.ram as ram96_0_, nodes1_1_.offer_id as offer1_97_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
14:15:44,764 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
14:15:44,764 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
14:15:44,797 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:15:44,872 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  david  david
14:15:44,967 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
14:15:44,967 INFO  ~  vdcname : POR-david-2012-09-25 14:15:44.967
14:15:45,093 INFO  ~  VDC to deploy: 
14:15:45,093 INFO  ~  Hypervisor to deploy: 
14:15:45,190 INFO  ~  Datacenter to deploy: 
14:15:45,190 INFO  ~  Network Built
14:15:45,190 INFO  ~ VDC built  
14:15:46,583 INFO  ~  1. VDC CREATED 
14:15:46,776 INFO  ~  2. VAPP CREATED 
14:15:46,816 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo88_0_, userportal0_.email as email88_0_, userportal0_.idEnterprise as idEnterp3_88_0_, userportal0_.nick as nick88_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:15:46,867 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idEnterprise, nick, idAbiquo) values (?, ?, ?, ?)
14:15:46,868 INFO  ~ --------------------
14:15:46,869 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
14:15:46,870 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
14:15:46,870 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ where offer0_.virtualAppliance=?
14:15:46,871 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
14:15:46,872 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_89_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_96_0_, nodes1_.cpu as cpu96_0_, nodes1_.description as descript3_96_0_, nodes1_.hd as hd96_0_, nodes1_.icon as icon96_0_, nodes1_.idImage as idImage96_0_, nodes1_.node_name as node7_96_0_, nodes1_.ram as ram96_0_, nodes1_1_.offer_id as offer1_97_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
14:15:47,124 INFO  ~  3. VM CREATED
14:15:47,125 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_96_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_94_0_, nodes_reso1_.resourceType as resource2_94_0_, nodes_reso1_.sequence as sequence94_0_, nodes_reso1_.value as value94_0_, nodes_reso1_1_.id_node as id1_95_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
14:15:47,336 INFO  ~  4. HARDDISKS ATTACHED 
14:15:47,337 INFO  ~  Handler created :
14:15:47,755 INFO  ~ STARTING MONITORING ......
14:15:47,755 INFO  ~ SAVING DEPLOY INFORMATION ......
14:15:47,756 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
14:15:47,758 INFO  ~ DEPLOY INFO SAVED ......
14:15:47,758 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
14:15:50,746 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:15:50,746 INFO  ~ Enterprie ID for current User 3
14:15:50,747 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:15:50,749 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:15:50,787 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:15:50,892 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:15:50,892 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id90_, offerpurch0_.expiration as expiration90_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_, offerpurch0_.leasePeriod as leasePer5_90_, offerpurch0_.offer_id as offer9_90_, offerpurch0_.serviceLevel as serviceL6_90_, offerpurch0_.start as start90_, offerpurch0_.user_idAbiquo as user10_90_, offerpurch0_.virtualApplianceState as virtualA8_90_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:15:50,894 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:15:50,978 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:15:50,978 INFO  ~ Enterprie ID for current User 3
14:15:50,978 INFO  ~ CURRENT USER EMAIL ID: david
14:15:50,979 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:15:50,980 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:15:50,998 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:15:50,998 INFO  ~  OfferID for icon 1
14:15:50,998 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
14:15:50,999 INFO  ~ ------------------------- EXITING displayIcon()---------
14:15:52,815 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:15:52,815 INFO  ~ Enterprie ID for current User 3
14:15:52,815 INFO  ~ CURRENT USER EMAIL ID: david
14:15:52,851 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:15:52,955 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:15:52,955 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id90_, offerpurch0_.expiration as expiration90_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_, offerpurch0_.leasePeriod as leasePer5_90_, offerpurch0_.offer_id as offer9_90_, offerpurch0_.serviceLevel as serviceL6_90_, offerpurch0_.start as start90_, offerpurch0_.user_idAbiquo as user10_90_, offerpurch0_.virtualApplianceState as virtualA8_90_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:15:52,957 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:15:53,191 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
14:15:53,192 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:15:53,212 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
14:15:56,075 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:15:56,075 INFO  ~ Enterprie ID for current User 
14:15:56,075 INFO  ~ CURRENT USER EMAIL ID: David
14:15:56,109 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:15:56,227 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:15:56,227 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id90_, offerpurch0_.expiration as expiration90_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_, offerpurch0_.leasePeriod as leasePer5_90_, offerpurch0_.offer_id as offer9_90_, offerpurch0_.serviceLevel as serviceL6_90_, offerpurch0_.start as start90_, offerpurch0_.user_idAbiquo as user10_90_, offerpurch0_.virtualApplianceState as virtualA8_90_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:15:56,229 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:15:56,444 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:15:56,446 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
14:16:00,492 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:16:00,492 INFO  ~ Enterprie ID for current User 
14:16:00,493 INFO  ~ CURRENT USER EMAIL ID: David
14:16:00,528 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:16:00,636 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id90_0_, offerpurch0_.expiration as expiration90_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_0_, offerpurch0_.leasePeriod as leasePer5_90_0_, offerpurch0_.offer_id as offer9_90_0_, offerpurch0_.serviceLevel as serviceL6_90_0_, offerpurch0_.start as start90_0_, offerpurch0_.user_idAbiquo as user10_90_0_, offerpurch0_.virtualApplianceState as virtualA8_90_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:16:00,638 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo88_0_, userportal0_.email as email88_0_, userportal0_.idEnterprise as idEnterp3_88_0_, userportal0_.nick as nick88_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:16:00,639 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:16:03,147 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
14:16:03,147 INFO  ~  CREATED VM : VirtualMachine [id=27, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_5867ea01-87a5-4ded-967f-b249beec7b99, password=vmpassword, ram=512, uuid=5867ea01-87a5-4ded-967f-b249beec7b99, vncAddress=null, vncPort=0]
14:16:03,202 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
14:16:03,202 INFO  ~ ------------------------- INSIDE getVMDetais()----------
14:16:03,202 INFO  ~  getVMDetais() params : vdc_id 24 vapp_id : 24 vm-id : 27
14:16:03,202 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_98_, mkt_config0_.deploy_enterprise_id as deploy2_98_, mkt_config0_.enterprise_name as enterprise3_98_, mkt_config0_.mkt_branding_css as mkt4_98_, mkt_config0_.mkt_branding_icon as mkt5_98_, mkt_config0_.mkt_deploy_pw as mkt6_98_, mkt_config0_.mkt_deploy_user as mkt7_98_, mkt_config0_.mkt_theme_css as mkt8_98_, mkt_config0_.mkt_url as mkt9_98_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
14:16:03,203 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
14:16:03,203 INFO  ~  AbiquoUtils context set to :null
14:16:03,203 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:16:26,339 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:16:26,340 INFO  ~ Enterprie ID for current User 
14:16:26,340 INFO  ~ CURRENT USER EMAIL ID: David
14:16:26,377 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:16:26,487 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:16:26,487 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id90_, offerpurch0_.expiration as expiration90_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_, offerpurch0_.leasePeriod as leasePer5_90_, offerpurch0_.offer_id as offer9_90_, offerpurch0_.serviceLevel as serviceL6_90_, offerpurch0_.start as start90_, offerpurch0_.user_idAbiquo as user10_90_, offerpurch0_.virtualApplianceState as virtualA8_90_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:16:26,489 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:16:26,706 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
14:16:26,708 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:16:26,710 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
14:16:29,662 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:16:29,662 INFO  ~ Enterprie ID for current User 
14:16:29,662 INFO  ~ CURRENT USER EMAIL ID: David
14:16:29,694 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:16:29,780 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id90_0_, offerpurch0_.expiration as expiration90_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_0_, offerpurch0_.leasePeriod as leasePer5_90_0_, offerpurch0_.offer_id as offer9_90_0_, offerpurch0_.serviceLevel as serviceL6_90_0_, offerpurch0_.start as start90_0_, offerpurch0_.user_idAbiquo as user10_90_0_, offerpurch0_.virtualApplianceState as virtualA8_90_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:16:29,782 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo88_0_, userportal0_.email as email88_0_, userportal0_.idEnterprise as idEnterp3_88_0_, userportal0_.nick as nick88_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:16:29,782 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:16:29,871 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
14:16:29,872 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_89_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_96_0_, nodes1_.cpu as cpu96_0_, nodes1_.description as descript3_96_0_, nodes1_.hd as hd96_0_, nodes1_.icon as icon96_0_, nodes1_.idImage as idImage96_0_, nodes1_.node_name as node7_96_0_, nodes1_.ram as ram96_0_, nodes1_1_.offer_id as offer1_97_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
14:16:29,968 ERROR ~ 

@6bnd1mcj3
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=1

Template execution error (In /app/views/Mobile/manageOffer.html around line 24)
Execution error occured in template /app/views/Mobile/manageOffer.html. Exception raised was MissingPropertyException : No such property: template_name for class: models.Nodes.

play.exceptions.TemplateExecutionException: No such property: template_name for class: models.Nodes
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:86)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:257)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.manageOffer(Mobile.java:248)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: groovy.lang.MissingPropertyException: No such property: template_name for class: models.Nodes
	at /app/views/Mobile/manageOffer.html.(line:24)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:232)
	... 13 more
14:32:22,926 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
14:32:22,926 ERROR ~ Table 'Deploy_Bundle' already exists
14:32:40,513 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
14:32:40,547 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:32:40,737 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
14:32:40,939 INFO  ~ -----INSIDE Index()-----
14:32:43,706 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:32:43,706 INFO  ~ Enterprie ID for current User 
14:32:43,707 INFO  ~ CURRENT USER EMAIL ID: David
14:32:43,749 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:32:43,859 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:32:43,859 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:32:43,860 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:32:43,861 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:32:46,444 INFO  ~ CURRENT USER EMAIL ID: David
14:32:46,444 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:32:46,445 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:32:53,419 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:32:53,419 INFO  ~ Enterprie ID for current User 3
14:32:53,419 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:32:53,420 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:32:53,459 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:32:53,645 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:32:53,646 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:32:53,646 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:32:53,743 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:32:53,744 INFO  ~ Enterprie ID for current User 3
14:32:53,744 INFO  ~ CURRENT USER EMAIL ID: david
14:32:53,744 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:32:53,745 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:32:56,722 INFO  ~ -----INSIDE LOGOUT()-----
14:32:59,812 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
14:32:59,840 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:33:00,010 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
14:33:01,556 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
14:33:01,584 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:33:02,079 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:33:02,345 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.virtualAppliance=?
14:33:02,399 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
14:33:02,399 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.defaultServiceLevel=?
14:33:02,400 INFO  ~ resultSet1 size :0
14:33:02,400 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
14:33:02,400 INFO  ~  resultSet1 size []
14:33:02,400 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
14:33:02,709 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:33:02,982 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.virtualAppliance=?
14:33:03,043 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
14:33:03,044 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.defaultServiceLevel=?
14:33:03,044 INFO  ~ resultSet1 size :0
14:33:03,044 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
14:33:03,044 INFO  ~  resultSet1 size []
14:33:03,044 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
14:33:03,575 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:33:03,888 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.virtualAppliance=?
14:33:03,971 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
14:33:03,971 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.defaultServiceLevel=?
14:33:03,972 INFO  ~ resultSet1 size :0
14:33:03,972 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
14:33:03,972 INFO  ~  resultSet1 size []
14:33:03,972 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
14:33:05,131 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:33:05,395 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.virtualAppliance=?
14:33:05,483 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
14:33:05,484 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.defaultServiceLevel=?
14:33:05,484 INFO  ~ resultSet1 size :0
14:33:05,484 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
14:33:05,485 INFO  ~  resultSet1 size []
14:33:05,485 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
14:33:06,491 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
14:33:06,522 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:33:06,647 INFO  ~  virtualDC  : diamond
14:33:06,836 INFO  ~  va  : diamond
14:33:07,086 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
14:33:14,442 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:33:14,641 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.virtualAppliance=?
14:33:14,698 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
14:33:14,698 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.defaultServiceLevel=?
14:33:14,699 INFO  ~ resultSet1 size :0
14:33:14,699 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
14:33:14,699 INFO  ~  resultSet1 size []
14:33:14,699 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
14:33:14,708 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.id=? limit ?
14:33:14,715 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
14:33:14,715 INFO  ~ Session user in addToServiceCatalog(): admin
14:33:14,715 INFO  ~  and  vdc 1  & va_id : 1
14:33:14,715 INFO  ~  lease period 100 years
14:33:14,743 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:33:15,214 INFO  ~  description : sddfsdafsda
14:33:15,246 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
14:33:15,249 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
14:33:15,249 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
14:33:15,250 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
14:33:15,251 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
14:33:18,736 INFO  ~ -----INSIDE LOGOUT()-----
14:33:21,906 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
14:33:21,934 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:33:22,057 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
14:33:22,062 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:33:22,062 INFO  ~ Enterprie ID for current User 3
14:33:22,062 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:33:22,063 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:33:22,098 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:33:22,172 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:33:22,173 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:33:22,173 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:33:22,233 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:33:22,233 INFO  ~ Enterprie ID for current User 3
14:33:22,234 INFO  ~ CURRENT USER EMAIL ID: david
14:33:22,234 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:33:22,235 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:33:22,341 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:33:22,341 INFO  ~  OfferID for icon 1
14:33:22,342 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:33:22,343 INFO  ~ ------------------------- EXITING displayIcon()---------
14:33:24,964 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:33:24,965 INFO  ~ Enterprie ID for current User 
14:33:24,965 INFO  ~ CURRENT USER EMAIL ID: David
14:33:24,998 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:33:25,107 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:33:25,108 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:33:25,109 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:33:25,109 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:33:28,087 INFO  ~ CURRENT USER EMAIL ID: David
14:33:28,087 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:33:28,089 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:33:30,398 INFO  ~ -----INSIDE Index()-----
14:33:30,398 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:33:32,574 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
14:33:32,574 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
14:33:32,795 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:33:33,186 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
14:33:33,276 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
14:33:33,276 INFO  ~  vdcname : POR-David-2012-09-25 14:33:33.276
14:33:33,405 INFO  ~  VDC to deploy: 
14:33:33,405 INFO  ~  Hypervisor to deploy: 
14:33:33,479 INFO  ~  Datacenter to deploy: 
14:33:33,479 INFO  ~  Network Built
14:33:33,480 INFO  ~ VDC built  
14:33:35,322 INFO  ~  1. VDC CREATED 
14:33:35,561 INFO  ~  2. VAPP CREATED 
14:33:35,607 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo110_0_, userportal0_.email as email110_0_, userportal0_.idEnterprise as idEnterp3_110_0_, userportal0_.nick as nick110_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:33:35,665 INFO  ~ --------------------
14:33:35,665 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:33:35,667 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
14:33:35,668 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.virtualAppliance=?
14:33:35,669 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
14:33:35,669 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_111_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_118_0_, nodes1_.cpu as cpu118_0_, nodes1_.description as descript3_118_0_, nodes1_.hd as hd118_0_, nodes1_.icon as icon118_0_, nodes1_.idImage as idImage118_0_, nodes1_.node_name as node7_118_0_, nodes1_.ram as ram118_0_, nodes1_1_.offer_id as offer1_119_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
14:33:35,961 INFO  ~  3. VM CREATED
14:33:35,961 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_118_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_116_0_, nodes_reso1_.resourceType as resource2_116_0_, nodes_reso1_.sequence as sequence116_0_, nodes_reso1_.value as value116_0_, nodes_reso1_1_.id_node as id1_117_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
14:33:36,153 INFO  ~  4. HARDDISKS ATTACHED 
14:33:36,154 INFO  ~  Handler created :
14:33:36,590 INFO  ~ STARTING MONITORING ......
14:33:36,591 INFO  ~ SAVING DEPLOY INFORMATION ......
14:33:36,591 DEBUG ~ /* get current state models.UserPortal */ select userportal_.idAbiquo, userportal_.email as email110_, userportal_.idEnterprise as idEnterp3_110_, userportal_.nick as nick110_ from UserPortal userportal_ where userportal_.idAbiquo=?
14:33:36,593 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
14:33:36,595 WARN  ~ EXCEPTION OCCURED  IN deploy()
java.lang.IllegalStateException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.OfferPurchased.user -> models.UserPortal
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1211)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:798)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Mobile.deploy(Mobile.java:813)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.OfferPurchased.user -> models.UserPortal
	at org.hibernate.engine.CascadingAction$9.noCascade(CascadingAction.java:387)
	at org.hibernate.engine.Cascade.cascade(Cascade.java:172)
	at org.hibernate.event.def.AbstractFlushingEventListener.cascadeOnFlush(AbstractFlushingEventListener.java:175)
	at org.hibernate.event.def.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:166)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:88)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	... 9 more
14:33:47,619 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:33:47,619 INFO  ~ Enterprie ID for current User 3
14:33:47,619 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:33:47,621 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:33:47,660 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:33:47,769 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:33:47,769 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:33:47,770 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:33:47,823 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:33:47,823 INFO  ~ Enterprie ID for current User 3
14:33:47,823 INFO  ~ CURRENT USER EMAIL ID: david
14:33:47,823 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:33:47,824 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:33:47,840 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:33:47,840 INFO  ~  OfferID for icon 1
14:33:47,840 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:33:47,841 INFO  ~ ------------------------- EXITING displayIcon()---------
14:33:52,020 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
14:33:52,020 INFO  ~  CREATED VM : VirtualMachine [id=28, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_45e6c56b-52c4-457a-b7f0-022838cf4492, password=vmpassword, ram=512, uuid=45e6c56b-52c4-457a-b7f0-022838cf4492, vncAddress=null, vncPort=0]
14:33:52,085 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
14:33:52,085 INFO  ~ ------------------------- INSIDE getVMDetais()----------
14:33:52,085 INFO  ~  getVMDetais() params : vdc_id 25 vapp_id : 25 vm-id : 28
14:33:52,086 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_120_, mkt_config0_.deploy_enterprise_id as deploy2_120_, mkt_config0_.enterprise_name as enterprise3_120_, mkt_config0_.mkt_branding_css as mkt4_120_, mkt_config0_.mkt_branding_icon as mkt5_120_, mkt_config0_.mkt_deploy_pw as mkt6_120_, mkt_config0_.mkt_deploy_user as mkt7_120_, mkt_config0_.mkt_theme_css as mkt8_120_, mkt_config0_.mkt_url as mkt9_120_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
14:33:52,087 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
14:33:52,087 INFO  ~  AbiquoUtils context set to :null
14:33:52,088 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:35:30,426 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:35:30,427 INFO  ~ Enterprie ID for current User 3
14:35:30,427 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:35:30,428 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:35:30,474 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:35:30,672 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:35:30,673 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:35:30,673 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:35:30,784 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:35:30,785 INFO  ~ Enterprie ID for current User 3
14:35:30,785 INFO  ~ CURRENT USER EMAIL ID: david
14:35:30,785 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:35:30,786 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:35:30,803 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:35:30,803 INFO  ~  OfferID for icon 1
14:35:30,803 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:35:30,804 INFO  ~ ------------------------- EXITING displayIcon()---------
14:35:31,410 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:35:31,410 INFO  ~ Enterprie ID for current User 3
14:35:31,410 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:35:31,412 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:35:31,460 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:35:31,795 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:35:31,795 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:35:31,795 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:35:31,842 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:35:31,842 INFO  ~ Enterprie ID for current User 3
14:35:31,842 INFO  ~ CURRENT USER EMAIL ID: david
14:35:31,843 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:35:31,844 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:35:31,859 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:35:31,859 INFO  ~  OfferID for icon 1
14:35:31,859 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:35:31,861 INFO  ~ ------------------------- EXITING displayIcon()---------
14:35:33,265 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
14:35:33,265 INFO  ~ CURRENT USER EMAIL ID: david
14:35:33,265 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:35:33,266 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
14:35:33,280 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_111_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_118_0_, nodes1_.cpu as cpu118_0_, nodes1_.description as descript3_118_0_, nodes1_.hd as hd118_0_, nodes1_.icon as icon118_0_, nodes1_.idImage as idImage118_0_, nodes1_.node_name as node7_118_0_, nodes1_.ram as ram118_0_, nodes1_1_.offer_id as offer1_119_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
14:35:34,262 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
14:35:34,262 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
14:35:34,299 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:35:34,384 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  david  david
14:35:34,474 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
14:35:34,474 INFO  ~  vdcname : POR-david-2012-09-25 14:35:34.474
14:35:34,611 INFO  ~  VDC to deploy: 
14:35:34,611 INFO  ~  Hypervisor to deploy: 
14:35:34,681 INFO  ~  Datacenter to deploy: 
14:35:34,681 INFO  ~  Network Built
14:35:34,681 INFO  ~ VDC built  
14:35:36,144 INFO  ~  1. VDC CREATED 
14:35:36,454 INFO  ~  2. VAPP CREATED 
14:35:36,502 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo110_0_, userportal0_.email as email110_0_, userportal0_.idEnterprise as idEnterp3_110_0_, userportal0_.nick as nick110_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:35:36,564 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idEnterprise, nick, idAbiquo) values (?, ?, ?, ?)
14:35:36,565 INFO  ~ --------------------
14:35:36,566 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:35:36,567 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
14:35:36,567 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.virtualAppliance=?
14:35:36,568 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
14:35:36,569 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_111_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_118_0_, nodes1_.cpu as cpu118_0_, nodes1_.description as descript3_118_0_, nodes1_.hd as hd118_0_, nodes1_.icon as icon118_0_, nodes1_.idImage as idImage118_0_, nodes1_.node_name as node7_118_0_, nodes1_.ram as ram118_0_, nodes1_1_.offer_id as offer1_119_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
14:35:36,907 INFO  ~  3. VM CREATED
14:35:36,908 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_118_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_116_0_, nodes_reso1_.resourceType as resource2_116_0_, nodes_reso1_.sequence as sequence116_0_, nodes_reso1_.value as value116_0_, nodes_reso1_1_.id_node as id1_117_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
14:35:37,099 INFO  ~  4. HARDDISKS ATTACHED 
14:35:37,100 INFO  ~  Handler created :
14:35:37,370 INFO  ~ STARTING MONITORING ......
14:35:37,370 INFO  ~ SAVING DEPLOY INFORMATION ......
14:35:37,372 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
14:35:37,374 INFO  ~ DEPLOY INFO SAVED ......
14:35:37,374 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
14:35:41,043 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:35:41,044 INFO  ~ Enterprie ID for current User 3
14:35:41,044 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:35:41,046 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:35:41,079 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:35:41,191 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:35:41,191 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:35:41,194 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:35:41,333 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:35:41,333 INFO  ~ Enterprie ID for current User 3
14:35:41,333 INFO  ~ CURRENT USER EMAIL ID: david
14:35:41,333 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:35:41,334 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:35:41,409 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:35:41,409 INFO  ~  OfferID for icon 1
14:35:41,409 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:35:41,410 INFO  ~ ------------------------- EXITING displayIcon()---------
14:35:42,415 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:35:42,415 INFO  ~ Enterprie ID for current User 3
14:35:42,415 INFO  ~ CURRENT USER EMAIL ID: david
14:35:42,453 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:35:42,535 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:35:42,535 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:35:42,537 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:35:42,733 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
14:35:42,735 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:35:42,752 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:35:46,210 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:35:46,210 INFO  ~ Enterprie ID for current User 3
14:35:46,211 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:35:46,213 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:35:46,241 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:35:46,354 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:35:46,355 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:35:46,356 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:35:46,411 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:35:46,411 INFO  ~ Enterprie ID for current User 3
14:35:46,414 INFO  ~ CURRENT USER EMAIL ID: david
14:35:46,414 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:35:46,416 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:35:46,440 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:35:46,440 INFO  ~  OfferID for icon 1
14:35:46,440 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:35:46,442 INFO  ~ ------------------------- EXITING displayIcon()---------
14:35:48,107 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:35:48,107 INFO  ~ Enterprie ID for current User 3
14:35:48,107 INFO  ~ CURRENT USER EMAIL ID: david
14:35:48,136 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:35:48,231 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:35:48,231 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:35:48,232 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:35:48,448 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
14:35:48,449 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:35:48,450 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:35:48,530 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:35:48,531 INFO  ~  OfferID for icon 1
14:35:48,531 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:35:48,533 INFO  ~ ------------------------- EXITING displayIcon()---------
14:35:51,749 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:35:51,821 INFO  ~  UNDEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  david  david
14:35:51,888 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
14:35:51,888 INFO  ~  vdcname : POR-david-2012-09-25 14:35:51.888
14:35:51,888 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id112_0_, offerpurch0_.expiration as expiration112_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_0_, offerpurch0_.leasePeriod as leasePer5_112_0_, offerpurch0_.offer_id as offer9_112_0_, offerpurch0_.serviceLevel as serviceL6_112_0_, offerpurch0_.start as start112_0_, offerpurch0_.user_idAbiquo as user10_112_0_, offerpurch0_.virtualApplianceState as virtualA8_112_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:36:02,685 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
14:36:02,685 INFO  ~  CREATED VM : VirtualMachine [id=29, state=NOT_ALLOCATED, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_c733d952-bab7-4673-a1ee-6c5b44a5f10a, password=vmpassword, ram=512, uuid=c733d952-bab7-4673-a1ee-6c5b44a5f10a, vncAddress=null, vncPort=0]
14:36:02,685 INFO  ~ NULL JAP
14:36:02,687 WARN  ~ EXCEPTION OCCURED
java.lang.IllegalArgumentException: org.hibernate.hql.ast.QuerySyntaxException: User_Consumption is not mapped [ select p from User_Consumption as p where p.vdc_id = ?1]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1201)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:275)
	at controllers.Mails.updateUserConsumption_onFailure(Mails.java:202)
	at monitor.VmEventHandler.onFailure(VmEventHandler.java:122)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:286)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.hibernate.hql.ast.QuerySyntaxException: User_Consumption is not mapped [ select p from User_Consumption as p where p.vdc_id = ?1]
	at org.hibernate.hql.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:180)
	at org.hibernate.hql.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:111)
	at org.hibernate.hql.ast.tree.FromClause.addFromElement(FromClause.java:93)
	at org.hibernate.hql.ast.HqlSqlWalker.createFromElement(HqlSqlWalker.java:327)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3441)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3325)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.fromClause(HqlSqlBaseWalker.java:733)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:584)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:301)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:244)
	at org.hibernate.hql.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:254)
	at org.hibernate.hql.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:185)
	at org.hibernate.hql.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:101)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:80)
	at org.hibernate.engine.query.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:124)
	at org.hibernate.impl.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:156)
	at org.hibernate.impl.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:135)
	at org.hibernate.impl.SessionImpl.createQuery(SessionImpl.java:1770)
	at org.hibernate.ejb.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:272)
	... 17 more
14:36:03,790 DEBUG ~ /* delete models.OfferPurchased */ delete from OfferPurchased where id=?
14:36:03,791 INFO  ~ OFFER DELETED ......
14:36:03,791 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
14:36:07,006 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:36:07,006 INFO  ~ Enterprie ID for current User 3
14:36:07,006 INFO  ~ CURRENT USER EMAIL ID: david
14:36:07,006 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:36:07,008 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:36:07,082 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:36:07,082 INFO  ~  OfferID for icon 1
14:36:07,082 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:36:07,083 INFO  ~ ------------------------- EXITING displayIcon()---------
14:36:08,010 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:36:08,010 INFO  ~ Enterprie ID for current User 3
14:36:08,010 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:36:08,012 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:36:08,063 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:36:08,160 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:36:08,160 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:36:08,161 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:36:08,300 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:36:08,300 INFO  ~ Enterprie ID for current User 3
14:36:08,300 INFO  ~ CURRENT USER EMAIL ID: david
14:36:08,300 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:36:08,301 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:36:08,329 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:36:08,329 INFO  ~  OfferID for icon 1
14:36:08,329 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:36:08,330 INFO  ~ ------------------------- EXITING displayIcon()---------
14:36:43,314 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
14:36:43,356 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:36:43,536 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
14:36:45,170 INFO  ~ -----INSIDE Index()-----
14:36:47,878 INFO  ~ CURRENT USER EMAIL ID: David
14:36:47,878 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:36:47,880 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:36:49,982 INFO  ~ -----INSIDE Index()-----
14:36:49,983 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:36:51,910 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
14:36:51,910 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
14:36:51,951 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:36:52,046 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
14:36:52,149 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
14:36:52,149 INFO  ~  vdcname : POR-David-2012-09-25 14:36:52.149
14:36:52,279 INFO  ~  VDC to deploy: 
14:36:52,279 INFO  ~  Hypervisor to deploy: 
14:36:52,359 INFO  ~  Datacenter to deploy: 
14:36:52,359 INFO  ~  Network Built
14:36:52,359 INFO  ~ VDC built  
14:36:53,681 INFO  ~  1. VDC CREATED 
14:36:53,993 INFO  ~  2. VAPP CREATED 
14:36:54,030 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo110_0_, userportal0_.email as email110_0_, userportal0_.idEnterprise as idEnterp3_110_0_, userportal0_.nick as nick110_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:36:54,037 INFO  ~ --------------------
14:36:54,038 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:36:54,039 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
14:36:54,039 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.virtualAppliance=?
14:36:54,039 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
14:36:54,039 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_111_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_118_0_, nodes1_.cpu as cpu118_0_, nodes1_.description as descript3_118_0_, nodes1_.hd as hd118_0_, nodes1_.icon as icon118_0_, nodes1_.idImage as idImage118_0_, nodes1_.node_name as node7_118_0_, nodes1_.ram as ram118_0_, nodes1_1_.offer_id as offer1_119_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
14:36:54,440 INFO  ~  3. VM CREATED
14:36:54,441 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_118_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_116_0_, nodes_reso1_.resourceType as resource2_116_0_, nodes_reso1_.sequence as sequence116_0_, nodes_reso1_.value as value116_0_, nodes_reso1_1_.id_node as id1_117_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
14:36:54,787 INFO  ~  4. HARDDISKS ATTACHED 
14:36:54,788 INFO  ~  Handler created :
14:36:55,097 INFO  ~ STARTING MONITORING ......
14:36:55,098 INFO  ~ SAVING DEPLOY INFORMATION ......
14:36:55,098 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
14:36:55,101 INFO  ~ DEPLOY INFO SAVED ......
14:36:55,101 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
14:36:59,705 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:36:59,705 INFO  ~ Enterprie ID for current User 
14:36:59,705 INFO  ~ CURRENT USER EMAIL ID: David
14:36:59,751 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:36:59,854 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:36:59,855 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:36:59,856 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:37:00,095 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
14:37:00,097 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:37:00,099 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:37:05,614 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:37:05,614 INFO  ~ Enterprie ID for current User 
14:37:05,642 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:37:05,768 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id112_0_, offerpurch0_.expiration as expiration112_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_0_, offerpurch0_.leasePeriod as leasePer5_112_0_, offerpurch0_.offer_id as offer9_112_0_, offerpurch0_.serviceLevel as serviceL6_112_0_, offerpurch0_.start as start112_0_, offerpurch0_.user_idAbiquo as user10_112_0_, offerpurch0_.virtualApplianceState as virtualA8_112_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:37:05,770 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo110_0_, userportal0_.email as email110_0_, userportal0_.idEnterprise as idEnterp3_110_0_, userportal0_.nick as nick110_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:37:06,058 ERROR ~ 

@6bnd1mcj5
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=3

Execution exception (In /app/controllers/Mobile.java around line 257)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:257)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:37:10,452 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
14:37:10,453 INFO  ~  CREATED VM : VirtualMachine [id=30, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_e741fe1e-0a24-40ad-92f8-17d5a402ca07, password=vmpassword, ram=512, uuid=e741fe1e-0a24-40ad-92f8-17d5a402ca07, vncAddress=null, vncPort=0]
14:37:10,501 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
14:37:10,501 INFO  ~ ------------------------- INSIDE getVMDetais()----------
14:37:10,501 INFO  ~  getVMDetais() params : vdc_id 27 vapp_id : 27 vm-id : 30
14:37:10,501 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_120_, mkt_config0_.deploy_enterprise_id as deploy2_120_, mkt_config0_.enterprise_name as enterprise3_120_, mkt_config0_.mkt_branding_css as mkt4_120_, mkt_config0_.mkt_branding_icon as mkt5_120_, mkt_config0_.mkt_deploy_pw as mkt6_120_, mkt_config0_.mkt_deploy_user as mkt7_120_, mkt_config0_.mkt_theme_css as mkt8_120_, mkt_config0_.mkt_url as mkt9_120_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
14:37:10,501 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
14:37:10,501 INFO  ~  AbiquoUtils context set to :null
14:37:10,501 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:37:15,257 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:37:15,257 INFO  ~ Enterprie ID for current User 
14:37:15,307 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:37:15,396 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id112_0_, offerpurch0_.expiration as expiration112_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_0_, offerpurch0_.leasePeriod as leasePer5_112_0_, offerpurch0_.offer_id as offer9_112_0_, offerpurch0_.serviceLevel as serviceL6_112_0_, offerpurch0_.start as start112_0_, offerpurch0_.user_idAbiquo as user10_112_0_, offerpurch0_.virtualApplianceState as virtualA8_112_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:37:15,397 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo110_0_, userportal0_.email as email110_0_, userportal0_.idEnterprise as idEnterp3_110_0_, userportal0_.nick as nick110_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:37:15,714 ERROR ~ 

@6bnd1mcj6
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=3

Execution exception (In /app/controllers/Mobile.java around line 257)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:257)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:37:17,330 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:37:17,330 INFO  ~ Enterprie ID for current User 
14:37:17,367 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:37:17,485 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id112_0_, offerpurch0_.expiration as expiration112_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_0_, offerpurch0_.leasePeriod as leasePer5_112_0_, offerpurch0_.offer_id as offer9_112_0_, offerpurch0_.serviceLevel as serviceL6_112_0_, offerpurch0_.start as start112_0_, offerpurch0_.user_idAbiquo as user10_112_0_, offerpurch0_.virtualApplianceState as virtualA8_112_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:37:17,487 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo110_0_, userportal0_.email as email110_0_, userportal0_.idEnterprise as idEnterp3_110_0_, userportal0_.nick as nick110_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:37:17,810 ERROR ~ 

@6bnd1mcj7
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=3

Execution exception (In /app/controllers/Mobile.java around line 257)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:257)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:37:33,569 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
14:37:33,611 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:37:33,790 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
14:37:33,798 INFO  ~ -----INSIDE Index()-----
14:37:35,100 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:37:35,101 INFO  ~ Enterprie ID for current User 
14:37:35,101 INFO  ~ CURRENT USER EMAIL ID: david
14:37:35,136 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:37:35,228 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:37:35,229 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:37:35,230 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:37:35,430 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
14:37:35,432 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:37:35,433 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:37:37,835 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:37:37,835 INFO  ~ Enterprie ID for current User 
14:37:37,877 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:37:37,964 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id112_0_, offerpurch0_.expiration as expiration112_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_0_, offerpurch0_.leasePeriod as leasePer5_112_0_, offerpurch0_.offer_id as offer9_112_0_, offerpurch0_.serviceLevel as serviceL6_112_0_, offerpurch0_.start as start112_0_, offerpurch0_.user_idAbiquo as user10_112_0_, offerpurch0_.virtualApplianceState as virtualA8_112_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:37:37,965 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo110_0_, userportal0_.email as email110_0_, userportal0_.idEnterprise as idEnterp3_110_0_, userportal0_.nick as nick110_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:37:38,247 ERROR ~ 

@6bnd1mcj8
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=3

Execution exception (In /app/controllers/Mobile.java around line 257)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:257)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:38:19,889 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:38:19,889 INFO  ~ Enterprie ID for current User 
14:38:40,646 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
14:38:40,672 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:38:40,839 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
14:38:41,040 INFO  ~ -----INSIDE Index()-----
14:38:43,166 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:38:43,166 INFO  ~ Enterprie ID for current User 
14:38:43,166 INFO  ~ CURRENT USER EMAIL ID: david
14:38:43,194 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:38:43,326 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:38:43,326 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:38:43,328 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:38:43,550 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:38:43,566 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
14:38:44,699 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:38:44,699 INFO  ~ Enterprie ID for current User 
14:38:44,734 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:38:44,857 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id112_0_, offerpurch0_.expiration as expiration112_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_0_, offerpurch0_.leasePeriod as leasePer5_112_0_, offerpurch0_.offer_id as offer9_112_0_, offerpurch0_.serviceLevel as serviceL6_112_0_, offerpurch0_.start as start112_0_, offerpurch0_.user_idAbiquo as user10_112_0_, offerpurch0_.virtualApplianceState as virtualA8_112_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:38:44,858 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo110_0_, userportal0_.email as email110_0_, userportal0_.idEnterprise as idEnterp3_110_0_, userportal0_.nick as nick110_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:38:45,118 ERROR ~ 

@6bnd1mcj9
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=3

Execution exception (In /app/controllers/Mobile.java around line 257)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:257)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:47:56,970 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
14:47:56,970 ERROR ~ Table 'Deploy_Bundle' already exists
14:48:00,288 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:48:00,288 INFO  ~ Enterprie ID for current User 3
14:48:00,289 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:48:00,290 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:48:00,321 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:48:00,450 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:48:00,450 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id134_, offerpurch0_.expiration as expiration134_, offerpurch0_.idVirtualApplianceUser as idVirtua3_134_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_134_, offerpurch0_.leasePeriod as leasePer5_134_, offerpurch0_.offer_id as offer9_134_, offerpurch0_.serviceLevel as serviceL6_134_, offerpurch0_.start as start134_, offerpurch0_.user_idAbiquo as user10_134_, offerpurch0_.virtualApplianceState as virtualA8_134_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:48:00,451 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:48:00,599 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:48:00,599 INFO  ~ Enterprie ID for current User 3
14:48:00,599 INFO  ~ CURRENT USER EMAIL ID: david
14:48:00,599 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:48:00,600 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:48:03,478 INFO  ~ -----INSIDE LOGOUT()-----
14:48:06,877 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
14:48:06,915 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:48:07,135 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
14:48:08,618 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
14:48:08,655 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:48:09,166 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:48:09,463 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.virtualAppliance=?
14:48:09,558 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
14:48:09,558 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.defaultServiceLevel=?
14:48:09,559 INFO  ~ resultSet1 size :0
14:48:09,559 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
14:48:09,559 INFO  ~  resultSet1 size []
14:48:09,559 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
14:48:10,902 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
14:48:10,936 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:48:11,020 INFO  ~  virtualDC  : diamond
14:48:11,204 INFO  ~  va  : diamond
14:48:11,478 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
14:48:16,931 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:48:17,139 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.virtualAppliance=?
14:48:17,190 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
14:48:17,190 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.defaultServiceLevel=?
14:48:17,190 INFO  ~ resultSet1 size :0
14:48:17,190 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
14:48:17,190 INFO  ~  resultSet1 size []
14:48:17,190 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
14:48:17,200 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.id=? limit ?
14:48:17,207 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
14:48:17,207 INFO  ~ Session user in addToServiceCatalog(): admin
14:48:17,207 INFO  ~  and  vdc 1  & va_id : 1
14:48:17,207 INFO  ~  lease period 100 years
14:48:17,246 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:48:17,724 INFO  ~  description : fsdfa
14:48:17,747 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
14:48:17,749 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
14:48:17,750 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
14:48:17,750 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
14:48:17,751 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
14:48:21,817 INFO  ~ -----INSIDE LOGOUT()-----
14:48:24,755 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
14:48:24,788 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:48:24,984 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
14:48:25,005 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:48:25,005 INFO  ~ Enterprie ID for current User 3
14:48:25,006 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:48:25,007 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:48:25,038 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:48:25,253 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:48:25,253 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id134_, offerpurch0_.expiration as expiration134_, offerpurch0_.idVirtualApplianceUser as idVirtua3_134_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_134_, offerpurch0_.leasePeriod as leasePer5_134_, offerpurch0_.offer_id as offer9_134_, offerpurch0_.serviceLevel as serviceL6_134_, offerpurch0_.start as start134_, offerpurch0_.user_idAbiquo as user10_134_, offerpurch0_.virtualApplianceState as virtualA8_134_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:48:25,254 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:48:25,348 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:48:25,348 INFO  ~ Enterprie ID for current User 3
14:48:25,348 INFO  ~ CURRENT USER EMAIL ID: david
14:48:25,348 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:48:25,349 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:48:25,420 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:48:25,420 INFO  ~  OfferID for icon 1
14:48:25,420 DEBUG ~ /* load models.Offer */ select offer0_.id as id133_0_, offer0_.datacenter as datacenter133_0_, offer0_.defaultLeasePeriod as defaultL3_133_0_, offer0_.defaultNetworkType as defaultN4_133_0_, offer0_.defaultServiceLevel as defaultS5_133_0_, offer0_.hypervisorType as hypervis6_133_0_, offer0_.icon as icon133_0_, offer0_.iconName as iconName133_0_, offer0_.image as image133_0_, offer0_.longDescription as longDes10_133_0_, offer0_.name as name133_0_, offer0_.price as price133_0_, offer0_.serviceType as service13_133_0_, offer0_.shortDescription as shortDe14_133_0_, offer0_.state as state133_0_, offer0_.virtualAppliance as virtual16_133_0_, offer0_.virtualDatacenter as virtual17_133_0_, offer0_.virtualDatacenterName as virtual18_133_0_ from Offer offer0_ where offer0_.id=?
14:48:25,422 INFO  ~ ------------------------- EXITING displayIcon()---------
14:48:46,787 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
14:48:47,015 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:48:47,192 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
14:48:47,304 INFO  ~ -----INSIDE Index()-----
14:48:49,612 INFO  ~ CURRENT USER EMAIL ID: David
14:48:49,612 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:48:49,614 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:48:51,537 INFO  ~ -----INSIDE Index()-----
14:48:51,537 DEBUG ~ /* load models.Offer */ select offer0_.id as id133_0_, offer0_.datacenter as datacenter133_0_, offer0_.defaultLeasePeriod as defaultL3_133_0_, offer0_.defaultNetworkType as defaultN4_133_0_, offer0_.defaultServiceLevel as defaultS5_133_0_, offer0_.hypervisorType as hypervis6_133_0_, offer0_.icon as icon133_0_, offer0_.iconName as iconName133_0_, offer0_.image as image133_0_, offer0_.longDescription as longDes10_133_0_, offer0_.name as name133_0_, offer0_.price as price133_0_, offer0_.serviceType as service13_133_0_, offer0_.shortDescription as shortDe14_133_0_, offer0_.state as state133_0_, offer0_.virtualAppliance as virtual16_133_0_, offer0_.virtualDatacenter as virtual17_133_0_, offer0_.virtualDatacenterName as virtual18_133_0_ from Offer offer0_ where offer0_.id=?
14:48:53,334 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
14:48:53,334 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
14:48:53,380 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:48:53,493 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
14:48:53,593 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
14:48:53,593 INFO  ~  vdcname : POR-David-2012-09-25 14:48:53.593
14:48:53,742 INFO  ~  VDC to deploy: 
14:48:53,742 INFO  ~  Hypervisor to deploy: 
14:48:53,816 INFO  ~  Datacenter to deploy: 
14:48:53,816 INFO  ~  Network Built
14:48:53,816 INFO  ~ VDC built  
14:48:55,106 INFO  ~  1. VDC CREATED 
14:48:55,395 INFO  ~  2. VAPP CREATED 
14:48:55,444 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo132_0_, userportal0_.email as email132_0_, userportal0_.idEnterprise as idEnterp3_132_0_, userportal0_.nick as nick132_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:48:55,506 INFO  ~ --------------------
14:48:55,506 DEBUG ~ /* load models.Offer */ select offer0_.id as id133_0_, offer0_.datacenter as datacenter133_0_, offer0_.defaultLeasePeriod as defaultL3_133_0_, offer0_.defaultNetworkType as defaultN4_133_0_, offer0_.defaultServiceLevel as defaultS5_133_0_, offer0_.hypervisorType as hypervis6_133_0_, offer0_.icon as icon133_0_, offer0_.iconName as iconName133_0_, offer0_.image as image133_0_, offer0_.longDescription as longDes10_133_0_, offer0_.name as name133_0_, offer0_.price as price133_0_, offer0_.serviceType as service13_133_0_, offer0_.shortDescription as shortDe14_133_0_, offer0_.state as state133_0_, offer0_.virtualAppliance as virtual16_133_0_, offer0_.virtualDatacenter as virtual17_133_0_, offer0_.virtualDatacenterName as virtual18_133_0_ from Offer offer0_ where offer0_.id=?
14:48:55,508 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
14:48:55,508 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.virtualAppliance=?
14:48:55,509 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
14:48:55,509 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_133_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_140_0_, nodes1_.cpu as cpu140_0_, nodes1_.description as descript3_140_0_, nodes1_.hd as hd140_0_, nodes1_.icon as icon140_0_, nodes1_.idImage as idImage140_0_, nodes1_.node_name as node7_140_0_, nodes1_.ram as ram140_0_, nodes1_1_.offer_id as offer1_141_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
14:48:55,882 INFO  ~  3. VM CREATED
14:48:55,883 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_140_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_138_0_, nodes_reso1_.resourceType as resource2_138_0_, nodes_reso1_.sequence as sequence138_0_, nodes_reso1_.value as value138_0_, nodes_reso1_1_.id_node as id1_139_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
14:48:56,061 INFO  ~  4. HARDDISKS ATTACHED 
14:48:56,062 INFO  ~  Handler created :
14:48:56,377 INFO  ~ STARTING MONITORING ......
14:48:56,378 INFO  ~ SAVING DEPLOY INFORMATION ......
14:48:56,378 DEBUG ~ /* get current state models.UserPortal */ select userportal_.idAbiquo, userportal_.email as email132_, userportal_.idEnterprise as idEnterp3_132_, userportal_.nick as nick132_ from UserPortal userportal_ where userportal_.idAbiquo=?
14:48:56,380 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
14:48:56,382 WARN  ~ EXCEPTION OCCURED  IN deploy()
java.lang.IllegalStateException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.OfferPurchased.user -> models.UserPortal
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1211)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:798)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Mobile.deploy(Mobile.java:816)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.OfferPurchased.user -> models.UserPortal
	at org.hibernate.engine.CascadingAction$9.noCascade(CascadingAction.java:387)
	at org.hibernate.engine.Cascade.cascade(Cascade.java:172)
	at org.hibernate.event.def.AbstractFlushingEventListener.cascadeOnFlush(AbstractFlushingEventListener.java:175)
	at org.hibernate.event.def.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:166)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:88)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	... 9 more
14:49:11,781 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
14:49:11,781 INFO  ~  CREATED VM : VirtualMachine [id=31, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_2c5038d2-5123-41b3-b96f-8f3e976bd56c, password=vmpassword, ram=512, uuid=2c5038d2-5123-41b3-b96f-8f3e976bd56c, vncAddress=null, vncPort=0]
14:49:11,836 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
14:49:11,836 INFO  ~ ------------------------- INSIDE getVMDetais()----------
14:49:11,836 INFO  ~  getVMDetais() params : vdc_id 28 vapp_id : 28 vm-id : 31
14:49:11,837 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_142_, mkt_config0_.deploy_enterprise_id as deploy2_142_, mkt_config0_.enterprise_name as enterprise3_142_, mkt_config0_.mkt_branding_css as mkt4_142_, mkt_config0_.mkt_branding_icon as mkt5_142_, mkt_config0_.mkt_deploy_pw as mkt6_142_, mkt_config0_.mkt_deploy_user as mkt7_142_, mkt_config0_.mkt_theme_css as mkt8_142_, mkt_config0_.mkt_url as mkt9_142_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
14:49:11,838 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
14:49:11,838 INFO  ~  AbiquoUtils context set to :null
14:49:11,838 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:50:01,979 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:50:01,979 INFO  ~ Enterprie ID for current User 3
14:50:01,979 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:50:01,981 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:50:02,007 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:50:02,109 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:50:02,110 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id134_, offerpurch0_.expiration as expiration134_, offerpurch0_.idVirtualApplianceUser as idVirtua3_134_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_134_, offerpurch0_.leasePeriod as leasePer5_134_, offerpurch0_.offer_id as offer9_134_, offerpurch0_.serviceLevel as serviceL6_134_, offerpurch0_.start as start134_, offerpurch0_.user_idAbiquo as user10_134_, offerpurch0_.virtualApplianceState as virtualA8_134_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:50:02,110 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:50:02,226 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:50:02,226 INFO  ~ Enterprie ID for current User 3
14:50:02,226 INFO  ~ CURRENT USER EMAIL ID: david
14:50:02,226 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:50:02,228 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:50:02,250 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:50:02,250 INFO  ~  OfferID for icon 1
14:50:02,250 DEBUG ~ /* load models.Offer */ select offer0_.id as id133_0_, offer0_.datacenter as datacenter133_0_, offer0_.defaultLeasePeriod as defaultL3_133_0_, offer0_.defaultNetworkType as defaultN4_133_0_, offer0_.defaultServiceLevel as defaultS5_133_0_, offer0_.hypervisorType as hypervis6_133_0_, offer0_.icon as icon133_0_, offer0_.iconName as iconName133_0_, offer0_.image as image133_0_, offer0_.longDescription as longDes10_133_0_, offer0_.name as name133_0_, offer0_.price as price133_0_, offer0_.serviceType as service13_133_0_, offer0_.shortDescription as shortDe14_133_0_, offer0_.state as state133_0_, offer0_.virtualAppliance as virtual16_133_0_, offer0_.virtualDatacenter as virtual17_133_0_, offer0_.virtualDatacenterName as virtual18_133_0_ from Offer offer0_ where offer0_.id=?
14:50:02,251 INFO  ~ ------------------------- EXITING displayIcon()---------
14:50:12,004 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
14:50:12,004 INFO  ~ CURRENT USER EMAIL ID: david
14:50:12,004 DEBUG ~ /* load models.Offer */ select offer0_.id as id133_0_, offer0_.datacenter as datacenter133_0_, offer0_.defaultLeasePeriod as defaultL3_133_0_, offer0_.defaultNetworkType as defaultN4_133_0_, offer0_.defaultServiceLevel as defaultS5_133_0_, offer0_.hypervisorType as hypervis6_133_0_, offer0_.icon as icon133_0_, offer0_.iconName as iconName133_0_, offer0_.image as image133_0_, offer0_.longDescription as longDes10_133_0_, offer0_.name as name133_0_, offer0_.price as price133_0_, offer0_.serviceType as service13_133_0_, offer0_.shortDescription as shortDe14_133_0_, offer0_.state as state133_0_, offer0_.virtualAppliance as virtual16_133_0_, offer0_.virtualDatacenter as virtual17_133_0_, offer0_.virtualDatacenterName as virtual18_133_0_ from Offer offer0_ where offer0_.id=?
14:50:12,006 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
14:50:12,019 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_133_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_140_0_, nodes1_.cpu as cpu140_0_, nodes1_.description as descript3_140_0_, nodes1_.hd as hd140_0_, nodes1_.icon as icon140_0_, nodes1_.idImage as idImage140_0_, nodes1_.node_name as node7_140_0_, nodes1_.ram as ram140_0_, nodes1_1_.offer_id as offer1_141_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
14:50:17,273 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
14:50:17,273 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
14:50:17,301 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:50:17,373 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  david  david
14:50:17,468 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
14:50:17,468 INFO  ~  vdcname : POR-david-2012-09-25 14:50:17.468
14:50:17,573 INFO  ~  VDC to deploy: 
14:50:17,573 INFO  ~  Hypervisor to deploy: 
14:50:17,626 INFO  ~  Datacenter to deploy: 
14:50:17,626 INFO  ~  Network Built
14:50:17,627 INFO  ~ VDC built  
14:50:19,634 INFO  ~  1. VDC CREATED 
14:50:19,789 INFO  ~  2. VAPP CREATED 
14:50:19,823 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo132_0_, userportal0_.email as email132_0_, userportal0_.idEnterprise as idEnterp3_132_0_, userportal0_.nick as nick132_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:50:19,879 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idEnterprise, nick, idAbiquo) values (?, ?, ?, ?)
14:50:19,890 INFO  ~ --------------------
14:50:19,890 DEBUG ~ /* load models.Offer */ select offer0_.id as id133_0_, offer0_.datacenter as datacenter133_0_, offer0_.defaultLeasePeriod as defaultL3_133_0_, offer0_.defaultNetworkType as defaultN4_133_0_, offer0_.defaultServiceLevel as defaultS5_133_0_, offer0_.hypervisorType as hypervis6_133_0_, offer0_.icon as icon133_0_, offer0_.iconName as iconName133_0_, offer0_.image as image133_0_, offer0_.longDescription as longDes10_133_0_, offer0_.name as name133_0_, offer0_.price as price133_0_, offer0_.serviceType as service13_133_0_, offer0_.shortDescription as shortDe14_133_0_, offer0_.state as state133_0_, offer0_.virtualAppliance as virtual16_133_0_, offer0_.virtualDatacenter as virtual17_133_0_, offer0_.virtualDatacenterName as virtual18_133_0_ from Offer offer0_ where offer0_.id=?
14:50:19,891 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
14:50:19,892 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.virtualAppliance=?
14:50:19,893 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
14:50:19,893 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_133_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_140_0_, nodes1_.cpu as cpu140_0_, nodes1_.description as descript3_140_0_, nodes1_.hd as hd140_0_, nodes1_.icon as icon140_0_, nodes1_.idImage as idImage140_0_, nodes1_.node_name as node7_140_0_, nodes1_.ram as ram140_0_, nodes1_1_.offer_id as offer1_141_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
14:50:20,246 INFO  ~  3. VM CREATED
14:50:20,246 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_140_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_138_0_, nodes_reso1_.resourceType as resource2_138_0_, nodes_reso1_.sequence as sequence138_0_, nodes_reso1_.value as value138_0_, nodes_reso1_1_.id_node as id1_139_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
14:50:20,513 INFO  ~  4. HARDDISKS ATTACHED 
14:50:20,513 INFO  ~  Handler created :
14:50:20,879 INFO  ~ STARTING MONITORING ......
14:50:20,880 INFO  ~ SAVING DEPLOY INFORMATION ......
14:50:20,880 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
14:50:20,882 INFO  ~ DEPLOY INFO SAVED ......
14:50:20,965 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
14:50:24,853 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:50:24,853 INFO  ~ Enterprie ID for current User 3
14:50:24,853 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:50:24,855 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:50:24,885 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:50:24,989 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:50:24,990 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id134_, offerpurch0_.expiration as expiration134_, offerpurch0_.idVirtualApplianceUser as idVirtua3_134_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_134_, offerpurch0_.leasePeriod as leasePer5_134_, offerpurch0_.offer_id as offer9_134_, offerpurch0_.serviceLevel as serviceL6_134_, offerpurch0_.start as start134_, offerpurch0_.user_idAbiquo as user10_134_, offerpurch0_.virtualApplianceState as virtualA8_134_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:50:24,992 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:50:25,131 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:50:25,131 INFO  ~ Enterprie ID for current User 3
14:50:25,132 INFO  ~ CURRENT USER EMAIL ID: david
14:50:25,132 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:50:25,134 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:50:25,220 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:50:25,220 INFO  ~  OfferID for icon 1
14:50:25,220 DEBUG ~ /* load models.Offer */ select offer0_.id as id133_0_, offer0_.datacenter as datacenter133_0_, offer0_.defaultLeasePeriod as defaultL3_133_0_, offer0_.defaultNetworkType as defaultN4_133_0_, offer0_.defaultServiceLevel as defaultS5_133_0_, offer0_.hypervisorType as hypervis6_133_0_, offer0_.icon as icon133_0_, offer0_.iconName as iconName133_0_, offer0_.image as image133_0_, offer0_.longDescription as longDes10_133_0_, offer0_.name as name133_0_, offer0_.price as price133_0_, offer0_.serviceType as service13_133_0_, offer0_.shortDescription as shortDe14_133_0_, offer0_.state as state133_0_, offer0_.virtualAppliance as virtual16_133_0_, offer0_.virtualDatacenter as virtual17_133_0_, offer0_.virtualDatacenterName as virtual18_133_0_ from Offer offer0_ where offer0_.id=?
14:50:25,222 INFO  ~ ------------------------- EXITING displayIcon()---------
14:50:31,347 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
14:50:31,347 INFO  ~  CREATED VM : VirtualMachine [id=32, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_f9ed96c1-dbf0-4777-9704-c80a2d657181, password=vmpassword, ram=512, uuid=f9ed96c1-dbf0-4777-9704-c80a2d657181, vncAddress=null, vncPort=0]
14:50:31,412 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
14:50:31,412 INFO  ~ ------------------------- INSIDE getVMDetais()----------
14:50:31,412 INFO  ~  getVMDetais() params : vdc_id 29 vapp_id : 29 vm-id : 32
14:50:31,413 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_142_, mkt_config0_.deploy_enterprise_id as deploy2_142_, mkt_config0_.enterprise_name as enterprise3_142_, mkt_config0_.mkt_branding_css as mkt4_142_, mkt_config0_.mkt_branding_icon as mkt5_142_, mkt_config0_.mkt_deploy_pw as mkt6_142_, mkt_config0_.mkt_deploy_user as mkt7_142_, mkt_config0_.mkt_theme_css as mkt8_142_, mkt_config0_.mkt_url as mkt9_142_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
14:50:31,413 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
14:50:31,414 INFO  ~  AbiquoUtils context set to :null
14:50:31,414 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:50:35,056 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
14:50:35,083 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:50:35,230 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
14:50:35,499 INFO  ~ -----INSIDE Index()-----
14:50:37,686 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:50:37,687 INFO  ~ Enterprie ID for current User 
14:50:37,687 INFO  ~ CURRENT USER EMAIL ID: David
14:50:37,725 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:50:37,817 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:50:37,818 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id134_, offerpurch0_.expiration as expiration134_, offerpurch0_.idVirtualApplianceUser as idVirtua3_134_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_134_, offerpurch0_.leasePeriod as leasePer5_134_, offerpurch0_.offer_id as offer9_134_, offerpurch0_.serviceLevel as serviceL6_134_, offerpurch0_.start as start134_, offerpurch0_.user_idAbiquo as user10_134_, offerpurch0_.virtualApplianceState as virtualA8_134_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:50:37,820 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:50:38,046 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
14:50:38,047 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:50:38,061 DEBUG ~ /* load models.Offer */ select offer0_.id as id133_0_, offer0_.datacenter as datacenter133_0_, offer0_.defaultLeasePeriod as defaultL3_133_0_, offer0_.defaultNetworkType as defaultN4_133_0_, offer0_.defaultServiceLevel as defaultS5_133_0_, offer0_.hypervisorType as hypervis6_133_0_, offer0_.icon as icon133_0_, offer0_.iconName as iconName133_0_, offer0_.image as image133_0_, offer0_.longDescription as longDes10_133_0_, offer0_.name as name133_0_, offer0_.price as price133_0_, offer0_.serviceType as service13_133_0_, offer0_.shortDescription as shortDe14_133_0_, offer0_.state as state133_0_, offer0_.virtualAppliance as virtual16_133_0_, offer0_.virtualDatacenter as virtual17_133_0_, offer0_.virtualDatacenterName as virtual18_133_0_ from Offer offer0_ where offer0_.id=?
14:50:40,226 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:50:40,226 INFO  ~ Enterprie ID for current User 
14:50:40,258 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
14:50:40,364 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id134_0_, offerpurch0_.expiration as expiration134_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_134_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_134_0_, offerpurch0_.leasePeriod as leasePer5_134_0_, offerpurch0_.offer_id as offer9_134_0_, offerpurch0_.serviceLevel as serviceL6_134_0_, offerpurch0_.start as start134_0_, offerpurch0_.user_idAbiquo as user10_134_0_, offerpurch0_.virtualApplianceState as virtualA8_134_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:50:40,366 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo132_0_, userportal0_.email as email132_0_, userportal0_.idEnterprise as idEnterp3_132_0_, userportal0_.nick as nick132_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:50:40,606 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:50:40,726 ERROR ~ 

@6bnd1mcjb
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=2

Execution exception (In /app/controllers/Mobile.java around line 260)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:260)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:50:49,100 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:50:49,100 INFO  ~ Enterprie ID for current User 
14:50:49,100 INFO  ~ CURRENT USER EMAIL ID: david
14:50:49,137 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:50:49,229 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:50:49,229 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id134_, offerpurch0_.expiration as expiration134_, offerpurch0_.idVirtualApplianceUser as idVirtua3_134_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_134_, offerpurch0_.leasePeriod as leasePer5_134_, offerpurch0_.offer_id as offer9_134_, offerpurch0_.serviceLevel as serviceL6_134_, offerpurch0_.start as start134_, offerpurch0_.user_idAbiquo as user10_134_, offerpurch0_.virtualApplianceState as virtualA8_134_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:50:49,230 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:50:49,461 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:50:49,463 DEBUG ~ /* load models.Offer */ select offer0_.id as id133_0_, offer0_.datacenter as datacenter133_0_, offer0_.defaultLeasePeriod as defaultL3_133_0_, offer0_.defaultNetworkType as defaultN4_133_0_, offer0_.defaultServiceLevel as defaultS5_133_0_, offer0_.hypervisorType as hypervis6_133_0_, offer0_.icon as icon133_0_, offer0_.iconName as iconName133_0_, offer0_.image as image133_0_, offer0_.longDescription as longDes10_133_0_, offer0_.name as name133_0_, offer0_.price as price133_0_, offer0_.serviceType as service13_133_0_, offer0_.shortDescription as shortDe14_133_0_, offer0_.state as state133_0_, offer0_.virtualAppliance as virtual16_133_0_, offer0_.virtualDatacenter as virtual17_133_0_, offer0_.virtualDatacenterName as virtual18_133_0_ from Offer offer0_ where offer0_.id=?
14:50:51,264 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:50:51,265 INFO  ~ Enterprie ID for current User 
14:50:51,296 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:50:51,399 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id134_0_, offerpurch0_.expiration as expiration134_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_134_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_134_0_, offerpurch0_.leasePeriod as leasePer5_134_0_, offerpurch0_.offer_id as offer9_134_0_, offerpurch0_.serviceLevel as serviceL6_134_0_, offerpurch0_.start as start134_0_, offerpurch0_.user_idAbiquo as user10_134_0_, offerpurch0_.virtualApplianceState as virtualA8_134_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:50:51,401 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo132_0_, userportal0_.email as email132_0_, userportal0_.idEnterprise as idEnterp3_132_0_, userportal0_.nick as nick132_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:50:51,611 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:50:51,719 ERROR ~ 

@6bnd1mcjc
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=2

Execution exception (In /app/controllers/Mobile.java around line 260)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:260)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:50:56,216 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:50:56,216 INFO  ~ Enterprie ID for current User 
14:50:56,216 INFO  ~ CURRENT USER EMAIL ID: david
14:50:56,248 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:50:56,352 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:50:56,353 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id134_, offerpurch0_.expiration as expiration134_, offerpurch0_.idVirtualApplianceUser as idVirtua3_134_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_134_, offerpurch0_.leasePeriod as leasePer5_134_, offerpurch0_.offer_id as offer9_134_, offerpurch0_.serviceLevel as serviceL6_134_, offerpurch0_.start as start134_, offerpurch0_.user_idAbiquo as user10_134_, offerpurch0_.virtualApplianceState as virtualA8_134_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:50:56,354 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:50:56,591 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:50:56,593 DEBUG ~ /* load models.Offer */ select offer0_.id as id133_0_, offer0_.datacenter as datacenter133_0_, offer0_.defaultLeasePeriod as defaultL3_133_0_, offer0_.defaultNetworkType as defaultN4_133_0_, offer0_.defaultServiceLevel as defaultS5_133_0_, offer0_.hypervisorType as hypervis6_133_0_, offer0_.icon as icon133_0_, offer0_.iconName as iconName133_0_, offer0_.image as image133_0_, offer0_.longDescription as longDes10_133_0_, offer0_.name as name133_0_, offer0_.price as price133_0_, offer0_.serviceType as service13_133_0_, offer0_.shortDescription as shortDe14_133_0_, offer0_.state as state133_0_, offer0_.virtualAppliance as virtual16_133_0_, offer0_.virtualDatacenter as virtual17_133_0_, offer0_.virtualDatacenterName as virtual18_133_0_ from Offer offer0_ where offer0_.id=?
14:50:58,806 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:50:58,807 INFO  ~ Enterprie ID for current User 
14:50:58,834 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:50:58,955 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id134_0_, offerpurch0_.expiration as expiration134_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_134_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_134_0_, offerpurch0_.leasePeriod as leasePer5_134_0_, offerpurch0_.offer_id as offer9_134_0_, offerpurch0_.serviceLevel as serviceL6_134_0_, offerpurch0_.start as start134_0_, offerpurch0_.user_idAbiquo as user10_134_0_, offerpurch0_.virtualApplianceState as virtualA8_134_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:50:58,956 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo132_0_, userportal0_.email as email132_0_, userportal0_.idEnterprise as idEnterp3_132_0_, userportal0_.nick as nick132_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:50:59,193 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:50:59,308 ERROR ~ 

@6bnd1mcjd
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=2

Execution exception (In /app/controllers/Mobile.java around line 260)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:260)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:51:46,969 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
14:51:46,969 ERROR ~ Table 'Deploy_Bundle' already exists
14:51:52,778 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:51:52,778 INFO  ~ Enterprie ID for current User 
14:51:52,778 INFO  ~ CURRENT USER EMAIL ID: david
14:51:52,812 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:51:52,912 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:51:52,912 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id156_, offerpurch0_.expiration as expiration156_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_, offerpurch0_.leasePeriod as leasePer5_156_, offerpurch0_.offer_id as offer9_156_, offerpurch0_.serviceLevel as serviceL6_156_, offerpurch0_.start as start156_, offerpurch0_.user_idAbiquo as user10_156_, offerpurch0_.virtualApplianceState as virtualA8_156_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:51:52,913 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:51:52,913 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:52:10,628 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:52:10,628 INFO  ~ Enterprie ID for current User 
14:52:10,657 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:52:10,856 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id156_0_, offerpurch0_.expiration as expiration156_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_0_, offerpurch0_.leasePeriod as leasePer5_156_0_, offerpurch0_.offer_id as offer9_156_0_, offerpurch0_.serviceLevel as serviceL6_156_0_, offerpurch0_.start as start156_0_, offerpurch0_.user_idAbiquo as user10_156_0_, offerpurch0_.virtualApplianceState as virtualA8_156_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:52:10,906 ERROR ~ 

@6bnd1mcje
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=2

Execution exception (In /app/controllers/Mobile.java around line 245)
NullPointerException occured : null

play.exceptions.JavaExecutionException
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.NullPointerException
	at controllers.Mobile.manageOffer(Mobile.java:245)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
14:52:14,505 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:52:14,505 INFO  ~ Enterprie ID for current User 
14:52:14,505 INFO  ~ CURRENT USER EMAIL ID: david
14:52:14,541 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:52:14,633 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:52:14,633 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id156_, offerpurch0_.expiration as expiration156_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_, offerpurch0_.leasePeriod as leasePer5_156_, offerpurch0_.offer_id as offer9_156_, offerpurch0_.serviceLevel as serviceL6_156_, offerpurch0_.start as start156_, offerpurch0_.user_idAbiquo as user10_156_, offerpurch0_.virtualApplianceState as virtualA8_156_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:52:14,634 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:52:14,634 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:52:20,448 INFO  ~ CURRENT USER EMAIL ID: david
14:52:20,448 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:52:20,450 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:52:24,746 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:52:24,746 INFO  ~ Enterprie ID for current User 3
14:52:24,747 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:52:24,748 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:52:24,784 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:52:24,912 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:52:24,912 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id156_, offerpurch0_.expiration as expiration156_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_, offerpurch0_.leasePeriod as leasePer5_156_, offerpurch0_.offer_id as offer9_156_, offerpurch0_.serviceLevel as serviceL6_156_, offerpurch0_.start as start156_, offerpurch0_.user_idAbiquo as user10_156_, offerpurch0_.virtualApplianceState as virtualA8_156_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:52:24,913 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:52:25,038 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:52:25,038 INFO  ~ Enterprie ID for current User 3
14:52:25,038 INFO  ~ CURRENT USER EMAIL ID: david
14:52:25,038 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:52:25,039 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:52:34,065 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
14:52:34,093 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:52:34,256 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
14:52:35,534 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
14:52:35,562 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:52:36,120 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:52:36,436 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.virtualAppliance=?
14:52:36,536 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
14:52:36,536 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.defaultServiceLevel=?
14:52:36,537 INFO  ~ resultSet1 size :0
14:52:36,538 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
14:52:36,538 INFO  ~  resultSet1 size []
14:52:36,538 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
14:52:37,292 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
14:52:37,325 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:52:37,395 INFO  ~  virtualDC  : diamond
14:52:37,499 INFO  ~  va  : diamond
14:52:38,043 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
14:52:42,635 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.id=? limit ?
14:52:42,641 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
14:52:42,641 INFO  ~ Session user in addToServiceCatalog(): admin
14:52:42,642 INFO  ~  and  vdc 1  & va_id : 1
14:52:42,642 INFO  ~  lease period 100 years
14:52:42,668 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:52:43,447 INFO  ~  description : asdfasdf
14:52:43,485 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
14:52:43,489 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
14:52:43,490 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
14:52:43,491 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
14:52:43,493 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
14:52:43,641 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:52:43,951 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.virtualAppliance=?
14:52:43,953 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
14:52:43,953 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.defaultServiceLevel=?
14:52:43,954 INFO  ~ resultSet1 size :1
14:52:43,954 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
14:52:43,954 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : server, Icon: play.db.jpa.Blob@5b081c05 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
14:52:43,954 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
14:52:44,003 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:52:44,003 INFO  ~  OfferID for icon 1
14:52:44,004 DEBUG ~ /* load models.Offer */ select offer0_.id as id155_0_, offer0_.datacenter as datacenter155_0_, offer0_.defaultLeasePeriod as defaultL3_155_0_, offer0_.defaultNetworkType as defaultN4_155_0_, offer0_.defaultServiceLevel as defaultS5_155_0_, offer0_.hypervisorType as hypervis6_155_0_, offer0_.icon as icon155_0_, offer0_.iconName as iconName155_0_, offer0_.image as image155_0_, offer0_.longDescription as longDes10_155_0_, offer0_.name as name155_0_, offer0_.price as price155_0_, offer0_.serviceType as service13_155_0_, offer0_.shortDescription as shortDe14_155_0_, offer0_.state as state155_0_, offer0_.virtualAppliance as virtual16_155_0_, offer0_.virtualDatacenter as virtual17_155_0_, offer0_.virtualDatacenterName as virtual18_155_0_ from Offer offer0_ where offer0_.id=?
14:52:44,006 INFO  ~ ------------------------- EXITING displayIcon()---------
14:52:48,718 INFO  ~ CURRENT USER EMAIL ID: admin
14:52:48,718 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:52:48,720 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:52:50,315 INFO  ~ -----INSIDE Index()-----
14:52:50,315 DEBUG ~ /* load models.Offer */ select offer0_.id as id155_0_, offer0_.datacenter as datacenter155_0_, offer0_.defaultLeasePeriod as defaultL3_155_0_, offer0_.defaultNetworkType as defaultN4_155_0_, offer0_.defaultServiceLevel as defaultS5_155_0_, offer0_.hypervisorType as hypervis6_155_0_, offer0_.icon as icon155_0_, offer0_.iconName as iconName155_0_, offer0_.image as image155_0_, offer0_.longDescription as longDes10_155_0_, offer0_.name as name155_0_, offer0_.price as price155_0_, offer0_.serviceType as service13_155_0_, offer0_.shortDescription as shortDe14_155_0_, offer0_.state as state155_0_, offer0_.virtualAppliance as virtual16_155_0_, offer0_.virtualDatacenter as virtual17_155_0_, offer0_.virtualDatacenterName as virtual18_155_0_ from Offer offer0_ where offer0_.id=?
14:52:51,811 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
14:52:51,812 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
14:52:51,851 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
14:52:51,967 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :2  admin  xabiquo
14:52:52,058 INFO  ~ CURRENT USER EMAIL ID: 
14:52:52,058 INFO  ~  vdcname : POR-admin-2012-09-25 14:52:52.057
14:52:52,204 INFO  ~  VDC to deploy: 
14:52:52,205 INFO  ~  Hypervisor to deploy: 
14:52:52,275 INFO  ~  Datacenter to deploy: 
14:52:52,275 INFO  ~  Network Built
14:52:52,275 INFO  ~ VDC built  
14:52:53,465 INFO  ~  1. VDC CREATED 
14:52:53,721 INFO  ~  2. VAPP CREATED 
14:52:53,770 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:52:53,829 INFO  ~ --------------------
14:52:53,829 DEBUG ~ /* load models.Offer */ select offer0_.id as id155_0_, offer0_.datacenter as datacenter155_0_, offer0_.defaultLeasePeriod as defaultL3_155_0_, offer0_.defaultNetworkType as defaultN4_155_0_, offer0_.defaultServiceLevel as defaultS5_155_0_, offer0_.hypervisorType as hypervis6_155_0_, offer0_.icon as icon155_0_, offer0_.iconName as iconName155_0_, offer0_.image as image155_0_, offer0_.longDescription as longDes10_155_0_, offer0_.name as name155_0_, offer0_.price as price155_0_, offer0_.serviceType as service13_155_0_, offer0_.shortDescription as shortDe14_155_0_, offer0_.state as state155_0_, offer0_.virtualAppliance as virtual16_155_0_, offer0_.virtualDatacenter as virtual17_155_0_, offer0_.virtualDatacenterName as virtual18_155_0_ from Offer offer0_ where offer0_.id=?
14:52:53,831 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
14:52:53,831 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.virtualAppliance=?
14:52:53,832 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
14:52:53,832 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_155_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_162_0_, nodes1_.cpu as cpu162_0_, nodes1_.description as descript3_162_0_, nodes1_.hd as hd162_0_, nodes1_.icon as icon162_0_, nodes1_.idImage as idImage162_0_, nodes1_.node_name as node7_162_0_, nodes1_.ram as ram162_0_, nodes1_1_.offer_id as offer1_163_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
14:52:54,282 INFO  ~  3. VM CREATED
14:52:54,283 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_162_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_160_0_, nodes_reso1_.resourceType as resource2_160_0_, nodes_reso1_.sequence as sequence160_0_, nodes_reso1_.value as value160_0_, nodes_reso1_1_.id_node as id1_161_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
14:52:54,461 INFO  ~  4. HARDDISKS ATTACHED 
14:52:54,461 INFO  ~  Handler created :
14:52:54,718 INFO  ~ STARTING MONITORING ......
14:52:54,719 INFO  ~ SAVING DEPLOY INFORMATION ......
14:52:54,719 DEBUG ~ /* get current state models.UserPortal */ select userportal_.idAbiquo, userportal_.email as email154_, userportal_.idEnterprise as idEnterp3_154_, userportal_.nick as nick154_ from UserPortal userportal_ where userportal_.idAbiquo=?
14:52:54,721 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
14:52:54,723 WARN  ~ EXCEPTION OCCURED  IN deploy()
java.lang.IllegalStateException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.OfferPurchased.user -> models.UserPortal
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1211)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:798)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Mobile.deploy(Mobile.java:814)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.OfferPurchased.user -> models.UserPortal
	at org.hibernate.engine.CascadingAction$9.noCascade(CascadingAction.java:387)
	at org.hibernate.engine.Cascade.cascade(Cascade.java:172)
	at org.hibernate.event.def.AbstractFlushingEventListener.cascadeOnFlush(AbstractFlushingEventListener.java:175)
	at org.hibernate.event.def.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:166)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:88)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	... 9 more
14:53:10,071 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
14:53:10,071 INFO  ~  CREATED VM : VirtualMachine [id=33, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_11c9b5e2-8f08-4ddb-9fc2-b88e031a200c, password=vmpassword, ram=512, uuid=11c9b5e2-8f08-4ddb-9fc2-b88e031a200c, vncAddress=null, vncPort=0]
14:53:10,121 INFO  ~  vapp enterprise :Enterprise [id=2, isReservationRestricted=false, name=marketplace]
14:53:10,121 INFO  ~ ------------------------- INSIDE getVMDetais()----------
14:53:10,121 INFO  ~  getVMDetais() params : vdc_id 30 vapp_id : 30 vm-id : 33
14:53:10,121 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_164_, mkt_config0_.deploy_enterprise_id as deploy2_164_, mkt_config0_.enterprise_name as enterprise3_164_, mkt_config0_.mkt_branding_css as mkt4_164_, mkt_config0_.mkt_branding_icon as mkt5_164_, mkt_config0_.mkt_deploy_pw as mkt6_164_, mkt_config0_.mkt_deploy_user as mkt7_164_, mkt_config0_.mkt_theme_css as mkt8_164_, mkt_config0_.mkt_url as mkt9_164_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
14:53:10,122 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
14:53:10,122 INFO  ~  AbiquoUtils context set to :null
14:53:10,123 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:54:13,372 INFO  ~ CURRENT USER EMAIL ID: david
14:54:13,373 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:54:13,375 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:54:14,880 INFO  ~ -----INSIDE Index()-----
14:54:14,881 DEBUG ~ /* load models.Offer */ select offer0_.id as id155_0_, offer0_.datacenter as datacenter155_0_, offer0_.defaultLeasePeriod as defaultL3_155_0_, offer0_.defaultNetworkType as defaultN4_155_0_, offer0_.defaultServiceLevel as defaultS5_155_0_, offer0_.hypervisorType as hypervis6_155_0_, offer0_.icon as icon155_0_, offer0_.iconName as iconName155_0_, offer0_.image as image155_0_, offer0_.longDescription as longDes10_155_0_, offer0_.name as name155_0_, offer0_.price as price155_0_, offer0_.serviceType as service13_155_0_, offer0_.shortDescription as shortDe14_155_0_, offer0_.state as state155_0_, offer0_.virtualAppliance as virtual16_155_0_, offer0_.virtualDatacenter as virtual17_155_0_, offer0_.virtualDatacenterName as virtual18_155_0_ from Offer offer0_ where offer0_.id=?
14:54:16,480 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
14:54:16,481 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
14:54:16,517 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:54:16,632 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  david  david
14:54:16,724 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
14:54:16,724 INFO  ~  vdcname : POR-david-2012-09-25 14:54:16.724
14:54:16,878 INFO  ~  VDC to deploy: 
14:54:16,878 INFO  ~  Hypervisor to deploy: 
14:54:16,957 INFO  ~  Datacenter to deploy: 
14:54:16,957 INFO  ~  Network Built
14:54:16,957 INFO  ~ VDC built  
14:54:18,376 INFO  ~  1. VDC CREATED 
14:54:18,703 INFO  ~  2. VAPP CREATED 
14:54:18,750 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:54:18,813 INFO  ~ --------------------
14:54:18,814 DEBUG ~ /* load models.Offer */ select offer0_.id as id155_0_, offer0_.datacenter as datacenter155_0_, offer0_.defaultLeasePeriod as defaultL3_155_0_, offer0_.defaultNetworkType as defaultN4_155_0_, offer0_.defaultServiceLevel as defaultS5_155_0_, offer0_.hypervisorType as hypervis6_155_0_, offer0_.icon as icon155_0_, offer0_.iconName as iconName155_0_, offer0_.image as image155_0_, offer0_.longDescription as longDes10_155_0_, offer0_.name as name155_0_, offer0_.price as price155_0_, offer0_.serviceType as service13_155_0_, offer0_.shortDescription as shortDe14_155_0_, offer0_.state as state155_0_, offer0_.virtualAppliance as virtual16_155_0_, offer0_.virtualDatacenter as virtual17_155_0_, offer0_.virtualDatacenterName as virtual18_155_0_ from Offer offer0_ where offer0_.id=?
14:54:18,815 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
14:54:18,816 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.virtualAppliance=?
14:54:18,816 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
14:54:18,816 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_155_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_162_0_, nodes1_.cpu as cpu162_0_, nodes1_.description as descript3_162_0_, nodes1_.hd as hd162_0_, nodes1_.icon as icon162_0_, nodes1_.idImage as idImage162_0_, nodes1_.node_name as node7_162_0_, nodes1_.ram as ram162_0_, nodes1_1_.offer_id as offer1_163_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
14:54:19,178 INFO  ~  3. VM CREATED
14:54:19,178 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_162_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_160_0_, nodes_reso1_.resourceType as resource2_160_0_, nodes_reso1_.sequence as sequence160_0_, nodes_reso1_.value as value160_0_, nodes_reso1_1_.id_node as id1_161_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
14:54:19,363 INFO  ~  4. HARDDISKS ATTACHED 
14:54:19,363 INFO  ~  Handler created :
14:54:19,650 INFO  ~ STARTING MONITORING ......
14:54:19,650 INFO  ~ SAVING DEPLOY INFORMATION ......
14:54:19,651 DEBUG ~ /* get current state models.UserPortal */ select userportal_.idAbiquo, userportal_.email as email154_, userportal_.idEnterprise as idEnterp3_154_, userportal_.nick as nick154_ from UserPortal userportal_ where userportal_.idAbiquo=?
14:54:19,652 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
14:54:19,653 WARN  ~ EXCEPTION OCCURED  IN deploy()
java.lang.IllegalStateException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.OfferPurchased.user -> models.UserPortal
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1211)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:798)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Mobile.deploy(Mobile.java:814)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.OfferPurchased.user -> models.UserPortal
	at org.hibernate.engine.CascadingAction$9.noCascade(CascadingAction.java:387)
	at org.hibernate.engine.Cascade.cascade(Cascade.java:172)
	at org.hibernate.event.def.AbstractFlushingEventListener.cascadeOnFlush(AbstractFlushingEventListener.java:175)
	at org.hibernate.event.def.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:166)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:88)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	... 9 more
14:54:30,155 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:54:30,155 INFO  ~ Enterprie ID for current User 3
14:54:30,155 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:54:30,157 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:54:30,210 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:54:30,280 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:54:30,280 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id156_, offerpurch0_.expiration as expiration156_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_, offerpurch0_.leasePeriod as leasePer5_156_, offerpurch0_.offer_id as offer9_156_, offerpurch0_.serviceLevel as serviceL6_156_, offerpurch0_.start as start156_, offerpurch0_.user_idAbiquo as user10_156_, offerpurch0_.virtualApplianceState as virtualA8_156_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:54:30,281 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:54:30,401 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:54:30,401 INFO  ~ Enterprie ID for current User 3
14:54:30,401 INFO  ~ CURRENT USER EMAIL ID: david
14:54:30,401 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:54:30,402 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:54:30,432 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:54:30,432 INFO  ~  OfferID for icon 1
14:54:30,432 DEBUG ~ /* load models.Offer */ select offer0_.id as id155_0_, offer0_.datacenter as datacenter155_0_, offer0_.defaultLeasePeriod as defaultL3_155_0_, offer0_.defaultNetworkType as defaultN4_155_0_, offer0_.defaultServiceLevel as defaultS5_155_0_, offer0_.hypervisorType as hypervis6_155_0_, offer0_.icon as icon155_0_, offer0_.iconName as iconName155_0_, offer0_.image as image155_0_, offer0_.longDescription as longDes10_155_0_, offer0_.name as name155_0_, offer0_.price as price155_0_, offer0_.serviceType as service13_155_0_, offer0_.shortDescription as shortDe14_155_0_, offer0_.state as state155_0_, offer0_.virtualAppliance as virtual16_155_0_, offer0_.virtualDatacenter as virtual17_155_0_, offer0_.virtualDatacenterName as virtual18_155_0_ from Offer offer0_ where offer0_.id=?
14:54:30,433 INFO  ~ ------------------------- EXITING displayIcon()---------
14:54:35,051 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
14:54:35,051 INFO  ~  CREATED VM : VirtualMachine [id=34, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_620ef9e4-6f1b-4acb-9431-abb77651c9fd, password=vmpassword, ram=512, uuid=620ef9e4-6f1b-4acb-9431-abb77651c9fd, vncAddress=null, vncPort=0]
14:54:35,121 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
14:54:35,121 INFO  ~ ------------------------- INSIDE getVMDetais()----------
14:54:35,121 INFO  ~  getVMDetais() params : vdc_id 31 vapp_id : 31 vm-id : 34
14:54:35,121 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_164_, mkt_config0_.deploy_enterprise_id as deploy2_164_, mkt_config0_.enterprise_name as enterprise3_164_, mkt_config0_.mkt_branding_css as mkt4_164_, mkt_config0_.mkt_branding_icon as mkt5_164_, mkt_config0_.mkt_deploy_pw as mkt6_164_, mkt_config0_.mkt_deploy_user as mkt7_164_, mkt_config0_.mkt_theme_css as mkt8_164_, mkt_config0_.mkt_url as mkt9_164_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
14:54:35,122 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
14:54:35,122 INFO  ~  AbiquoUtils context set to :null
14:54:35,123 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:54:41,728 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
14:54:41,728 INFO  ~ CURRENT USER EMAIL ID: david
14:54:41,728 DEBUG ~ /* load models.Offer */ select offer0_.id as id155_0_, offer0_.datacenter as datacenter155_0_, offer0_.defaultLeasePeriod as defaultL3_155_0_, offer0_.defaultNetworkType as defaultN4_155_0_, offer0_.defaultServiceLevel as defaultS5_155_0_, offer0_.hypervisorType as hypervis6_155_0_, offer0_.icon as icon155_0_, offer0_.iconName as iconName155_0_, offer0_.image as image155_0_, offer0_.longDescription as longDes10_155_0_, offer0_.name as name155_0_, offer0_.price as price155_0_, offer0_.serviceType as service13_155_0_, offer0_.shortDescription as shortDe14_155_0_, offer0_.state as state155_0_, offer0_.virtualAppliance as virtual16_155_0_, offer0_.virtualDatacenter as virtual17_155_0_, offer0_.virtualDatacenterName as virtual18_155_0_ from Offer offer0_ where offer0_.id=?
14:54:41,730 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
14:54:41,745 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_155_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_162_0_, nodes1_.cpu as cpu162_0_, nodes1_.description as descript3_162_0_, nodes1_.hd as hd162_0_, nodes1_.icon as icon162_0_, nodes1_.idImage as idImage162_0_, nodes1_.node_name as node7_162_0_, nodes1_.ram as ram162_0_, nodes1_1_.offer_id as offer1_163_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
14:54:42,816 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
14:54:42,816 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
14:54:42,843 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:54:42,921 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  david  david
14:54:42,998 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
14:54:42,998 INFO  ~  vdcname : POR-david-2012-09-25 14:54:42.998
14:54:43,115 INFO  ~  VDC to deploy: 
14:54:43,115 INFO  ~  Hypervisor to deploy: 
14:54:43,189 INFO  ~  Datacenter to deploy: 
14:54:43,189 INFO  ~  Network Built
14:54:43,189 INFO  ~ VDC built  
14:54:44,416 INFO  ~  1. VDC CREATED 
14:54:44,591 INFO  ~  2. VAPP CREATED 
14:54:44,637 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:54:44,675 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idEnterprise, nick, idAbiquo) values (?, ?, ?, ?)
14:54:44,699 INFO  ~ --------------------
14:54:44,699 DEBUG ~ /* load models.Offer */ select offer0_.id as id155_0_, offer0_.datacenter as datacenter155_0_, offer0_.defaultLeasePeriod as defaultL3_155_0_, offer0_.defaultNetworkType as defaultN4_155_0_, offer0_.defaultServiceLevel as defaultS5_155_0_, offer0_.hypervisorType as hypervis6_155_0_, offer0_.icon as icon155_0_, offer0_.iconName as iconName155_0_, offer0_.image as image155_0_, offer0_.longDescription as longDes10_155_0_, offer0_.name as name155_0_, offer0_.price as price155_0_, offer0_.serviceType as service13_155_0_, offer0_.shortDescription as shortDe14_155_0_, offer0_.state as state155_0_, offer0_.virtualAppliance as virtual16_155_0_, offer0_.virtualDatacenter as virtual17_155_0_, offer0_.virtualDatacenterName as virtual18_155_0_ from Offer offer0_ where offer0_.id=?
14:54:44,701 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
14:54:44,701 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.virtualAppliance=?
14:54:44,702 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
14:54:44,703 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_155_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_162_0_, nodes1_.cpu as cpu162_0_, nodes1_.description as descript3_162_0_, nodes1_.hd as hd162_0_, nodes1_.icon as icon162_0_, nodes1_.idImage as idImage162_0_, nodes1_.node_name as node7_162_0_, nodes1_.ram as ram162_0_, nodes1_1_.offer_id as offer1_163_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
14:54:44,952 INFO  ~  3. VM CREATED
14:54:44,952 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_162_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_160_0_, nodes_reso1_.resourceType as resource2_160_0_, nodes_reso1_.sequence as sequence160_0_, nodes_reso1_.value as value160_0_, nodes_reso1_1_.id_node as id1_161_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
14:54:45,209 INFO  ~  4. HARDDISKS ATTACHED 
14:54:45,209 INFO  ~  Handler created :
14:54:45,489 INFO  ~ STARTING MONITORING ......
14:54:45,489 INFO  ~ SAVING DEPLOY INFORMATION ......
14:54:45,490 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
14:54:45,491 INFO  ~ DEPLOY INFO SAVED ......
14:54:45,491 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
14:54:49,458 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
14:54:49,459 INFO  ~ Enterprie ID for current User 3
14:54:49,459 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ group by offer0_.defaultServiceLevel
14:54:49,461 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
14:54:49,496 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:54:49,615 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:54:49,615 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id156_, offerpurch0_.expiration as expiration156_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_, offerpurch0_.leasePeriod as leasePer5_156_, offerpurch0_.offer_id as offer9_156_, offerpurch0_.serviceLevel as serviceL6_156_, offerpurch0_.start as start156_, offerpurch0_.user_idAbiquo as user10_156_, offerpurch0_.virtualApplianceState as virtualA8_156_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:54:49,617 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:54:49,746 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:54:49,746 INFO  ~ Enterprie ID for current User 3
14:54:49,747 INFO  ~ CURRENT USER EMAIL ID: david
14:54:49,747 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:54:49,748 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:54:49,763 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:54:49,763 INFO  ~  OfferID for icon 1
14:54:49,763 DEBUG ~ /* load models.Offer */ select offer0_.id as id155_0_, offer0_.datacenter as datacenter155_0_, offer0_.defaultLeasePeriod as defaultL3_155_0_, offer0_.defaultNetworkType as defaultN4_155_0_, offer0_.defaultServiceLevel as defaultS5_155_0_, offer0_.hypervisorType as hypervis6_155_0_, offer0_.icon as icon155_0_, offer0_.iconName as iconName155_0_, offer0_.image as image155_0_, offer0_.longDescription as longDes10_155_0_, offer0_.name as name155_0_, offer0_.price as price155_0_, offer0_.serviceType as service13_155_0_, offer0_.shortDescription as shortDe14_155_0_, offer0_.state as state155_0_, offer0_.virtualAppliance as virtual16_155_0_, offer0_.virtualDatacenter as virtual17_155_0_, offer0_.virtualDatacenterName as virtual18_155_0_ from Offer offer0_ where offer0_.id=?
14:54:49,764 INFO  ~ ------------------------- EXITING displayIcon()---------
14:54:51,727 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:54:51,727 INFO  ~ Enterprie ID for current User 3
14:54:51,727 INFO  ~ CURRENT USER EMAIL ID: david
14:54:51,760 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:54:51,853 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:54:51,853 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id156_, offerpurch0_.expiration as expiration156_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_, offerpurch0_.leasePeriod as leasePer5_156_, offerpurch0_.offer_id as offer9_156_, offerpurch0_.serviceLevel as serviceL6_156_, offerpurch0_.start as start156_, offerpurch0_.user_idAbiquo as user10_156_, offerpurch0_.virtualApplianceState as virtualA8_156_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:54:51,855 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:54:52,097 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
14:54:52,098 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:54:52,119 DEBUG ~ /* load models.Offer */ select offer0_.id as id155_0_, offer0_.datacenter as datacenter155_0_, offer0_.defaultLeasePeriod as defaultL3_155_0_, offer0_.defaultNetworkType as defaultN4_155_0_, offer0_.defaultServiceLevel as defaultS5_155_0_, offer0_.hypervisorType as hypervis6_155_0_, offer0_.icon as icon155_0_, offer0_.iconName as iconName155_0_, offer0_.image as image155_0_, offer0_.longDescription as longDes10_155_0_, offer0_.name as name155_0_, offer0_.price as price155_0_, offer0_.serviceType as service13_155_0_, offer0_.shortDescription as shortDe14_155_0_, offer0_.state as state155_0_, offer0_.virtualAppliance as virtual16_155_0_, offer0_.virtualDatacenter as virtual17_155_0_, offer0_.virtualDatacenterName as virtual18_155_0_ from Offer offer0_ where offer0_.id=?
14:54:54,230 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
14:54:54,230 INFO  ~ Enterprie ID for current User 3
14:54:54,230 INFO  ~ CURRENT USER EMAIL ID: david
14:54:54,231 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
14:54:54,232 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
14:54:54,305 INFO  ~ ------------------------- INSIDE displayIcon()---------
14:54:54,305 INFO  ~  OfferID for icon 1
14:54:54,305 DEBUG ~ /* load models.Offer */ select offer0_.id as id155_0_, offer0_.datacenter as datacenter155_0_, offer0_.defaultLeasePeriod as defaultL3_155_0_, offer0_.defaultNetworkType as defaultN4_155_0_, offer0_.defaultServiceLevel as defaultS5_155_0_, offer0_.hypervisorType as hypervis6_155_0_, offer0_.icon as icon155_0_, offer0_.iconName as iconName155_0_, offer0_.image as image155_0_, offer0_.longDescription as longDes10_155_0_, offer0_.name as name155_0_, offer0_.price as price155_0_, offer0_.serviceType as service13_155_0_, offer0_.shortDescription as shortDe14_155_0_, offer0_.state as state155_0_, offer0_.virtualAppliance as virtual16_155_0_, offer0_.virtualDatacenter as virtual17_155_0_, offer0_.virtualDatacenterName as virtual18_155_0_ from Offer offer0_ where offer0_.id=?
14:54:54,306 INFO  ~ ------------------------- EXITING displayIcon()---------
14:54:54,801 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:54:54,801 INFO  ~ Enterprie ID for current User 3
14:54:54,801 INFO  ~ CURRENT USER EMAIL ID: david
14:54:54,828 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:54:54,934 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:54:54,934 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id156_, offerpurch0_.expiration as expiration156_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_, offerpurch0_.leasePeriod as leasePer5_156_, offerpurch0_.offer_id as offer9_156_, offerpurch0_.serviceLevel as serviceL6_156_, offerpurch0_.start as start156_, offerpurch0_.user_idAbiquo as user10_156_, offerpurch0_.virtualApplianceState as virtualA8_156_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:54:54,936 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:54:55,130 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:54:55,131 DEBUG ~ /* load models.Offer */ select offer0_.id as id155_0_, offer0_.datacenter as datacenter155_0_, offer0_.defaultLeasePeriod as defaultL3_155_0_, offer0_.defaultNetworkType as defaultN4_155_0_, offer0_.defaultServiceLevel as defaultS5_155_0_, offer0_.hypervisorType as hypervis6_155_0_, offer0_.icon as icon155_0_, offer0_.iconName as iconName155_0_, offer0_.image as image155_0_, offer0_.longDescription as longDes10_155_0_, offer0_.name as name155_0_, offer0_.price as price155_0_, offer0_.serviceType as service13_155_0_, offer0_.shortDescription as shortDe14_155_0_, offer0_.state as state155_0_, offer0_.virtualAppliance as virtual16_155_0_, offer0_.virtualDatacenter as virtual17_155_0_, offer0_.virtualDatacenterName as virtual18_155_0_ from Offer offer0_ where offer0_.id=?
14:54:55,772 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
14:54:55,772 INFO  ~  CREATED VM : VirtualMachine [id=35, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_071ce13d-98a6-4f8f-aa11-e8cbec379d4b, password=vmpassword, ram=512, uuid=071ce13d-98a6-4f8f-aa11-e8cbec379d4b, vncAddress=null, vncPort=0]
14:54:55,836 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
14:54:55,836 INFO  ~ ------------------------- INSIDE getVMDetais()----------
14:54:55,836 INFO  ~  getVMDetais() params : vdc_id 32 vapp_id : 32 vm-id : 35
14:54:55,837 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_164_, mkt_config0_.deploy_enterprise_id as deploy2_164_, mkt_config0_.enterprise_name as enterprise3_164_, mkt_config0_.mkt_branding_css as mkt4_164_, mkt_config0_.mkt_branding_icon as mkt5_164_, mkt_config0_.mkt_deploy_pw as mkt6_164_, mkt_config0_.mkt_deploy_user as mkt7_164_, mkt_config0_.mkt_theme_css as mkt8_164_, mkt_config0_.mkt_url as mkt9_164_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
14:54:55,837 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
14:54:55,837 INFO  ~  AbiquoUtils context set to :null
14:54:55,837 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:55:11,114 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
14:55:11,147 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:55:11,325 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
14:55:11,332 INFO  ~ -----INSIDE Index()-----
14:55:12,966 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:55:12,966 INFO  ~ Enterprie ID for current User 
14:55:12,966 INFO  ~ CURRENT USER EMAIL ID: david
14:55:12,993 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:55:13,084 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:55:13,085 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id156_, offerpurch0_.expiration as expiration156_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_, offerpurch0_.leasePeriod as leasePer5_156_, offerpurch0_.offer_id as offer9_156_, offerpurch0_.serviceLevel as serviceL6_156_, offerpurch0_.start as start156_, offerpurch0_.user_idAbiquo as user10_156_, offerpurch0_.virtualApplianceState as virtualA8_156_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:55:13,086 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:55:13,283 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
14:55:13,284 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:55:13,286 DEBUG ~ /* load models.Offer */ select offer0_.id as id155_0_, offer0_.datacenter as datacenter155_0_, offer0_.defaultLeasePeriod as defaultL3_155_0_, offer0_.defaultNetworkType as defaultN4_155_0_, offer0_.defaultServiceLevel as defaultS5_155_0_, offer0_.hypervisorType as hypervis6_155_0_, offer0_.icon as icon155_0_, offer0_.iconName as iconName155_0_, offer0_.image as image155_0_, offer0_.longDescription as longDes10_155_0_, offer0_.name as name155_0_, offer0_.price as price155_0_, offer0_.serviceType as service13_155_0_, offer0_.shortDescription as shortDe14_155_0_, offer0_.state as state155_0_, offer0_.virtualAppliance as virtual16_155_0_, offer0_.virtualDatacenter as virtual17_155_0_, offer0_.virtualDatacenterName as virtual18_155_0_ from Offer offer0_ where offer0_.id=?
14:55:15,135 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:55:15,135 INFO  ~ Enterprie ID for current User 
14:55:15,167 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:55:15,300 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id156_0_, offerpurch0_.expiration as expiration156_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_0_, offerpurch0_.leasePeriod as leasePer5_156_0_, offerpurch0_.offer_id as offer9_156_0_, offerpurch0_.serviceLevel as serviceL6_156_0_, offerpurch0_.start as start156_0_, offerpurch0_.user_idAbiquo as user10_156_0_, offerpurch0_.virtualApplianceState as virtualA8_156_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:55:15,302 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:55:15,624 ERROR ~ 

@6bnd1mcjg
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=3

Execution exception (In /app/controllers/Mobile.java around line 258)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:258)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:55:41,397 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
14:55:41,423 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:55:41,576 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
14:55:41,613 INFO  ~ -----INSIDE Index()-----
14:55:42,854 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:55:42,854 INFO  ~ Enterprie ID for current User 
14:55:42,854 INFO  ~ CURRENT USER EMAIL ID: david
14:55:42,892 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:55:42,988 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:55:42,989 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id156_, offerpurch0_.expiration as expiration156_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_, offerpurch0_.leasePeriod as leasePer5_156_, offerpurch0_.offer_id as offer9_156_, offerpurch0_.serviceLevel as serviceL6_156_, offerpurch0_.start as start156_, offerpurch0_.user_idAbiquo as user10_156_, offerpurch0_.virtualApplianceState as virtualA8_156_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:55:42,990 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:55:43,208 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:55:43,210 DEBUG ~ /* load models.Offer */ select offer0_.id as id155_0_, offer0_.datacenter as datacenter155_0_, offer0_.defaultLeasePeriod as defaultL3_155_0_, offer0_.defaultNetworkType as defaultN4_155_0_, offer0_.defaultServiceLevel as defaultS5_155_0_, offer0_.hypervisorType as hypervis6_155_0_, offer0_.icon as icon155_0_, offer0_.iconName as iconName155_0_, offer0_.image as image155_0_, offer0_.longDescription as longDes10_155_0_, offer0_.name as name155_0_, offer0_.price as price155_0_, offer0_.serviceType as service13_155_0_, offer0_.shortDescription as shortDe14_155_0_, offer0_.state as state155_0_, offer0_.virtualAppliance as virtual16_155_0_, offer0_.virtualDatacenter as virtual17_155_0_, offer0_.virtualDatacenterName as virtual18_155_0_ from Offer offer0_ where offer0_.id=?
14:55:45,046 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:55:45,046 INFO  ~ Enterprie ID for current User 
14:55:45,088 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:55:45,204 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id156_0_, offerpurch0_.expiration as expiration156_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_0_, offerpurch0_.leasePeriod as leasePer5_156_0_, offerpurch0_.offer_id as offer9_156_0_, offerpurch0_.serviceLevel as serviceL6_156_0_, offerpurch0_.start as start156_0_, offerpurch0_.user_idAbiquo as user10_156_0_, offerpurch0_.virtualApplianceState as virtualA8_156_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:55:45,205 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:55:45,508 ERROR ~ 

@6bnd1mcjh
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=3

Execution exception (In /app/controllers/Mobile.java around line 258)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:258)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:56:08,015 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:56:08,015 INFO  ~ Enterprie ID for current User 
14:56:08,015 INFO  ~ CURRENT USER EMAIL ID: david
14:56:08,043 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:56:08,148 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:56:08,148 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id156_, offerpurch0_.expiration as expiration156_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_, offerpurch0_.leasePeriod as leasePer5_156_, offerpurch0_.offer_id as offer9_156_, offerpurch0_.serviceLevel as serviceL6_156_, offerpurch0_.start as start156_, offerpurch0_.user_idAbiquo as user10_156_, offerpurch0_.virtualApplianceState as virtualA8_156_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:56:08,150 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:56:08,339 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:56:08,341 DEBUG ~ /* load models.Offer */ select offer0_.id as id155_0_, offer0_.datacenter as datacenter155_0_, offer0_.defaultLeasePeriod as defaultL3_155_0_, offer0_.defaultNetworkType as defaultN4_155_0_, offer0_.defaultServiceLevel as defaultS5_155_0_, offer0_.hypervisorType as hypervis6_155_0_, offer0_.icon as icon155_0_, offer0_.iconName as iconName155_0_, offer0_.image as image155_0_, offer0_.longDescription as longDes10_155_0_, offer0_.name as name155_0_, offer0_.price as price155_0_, offer0_.serviceType as service13_155_0_, offer0_.shortDescription as shortDe14_155_0_, offer0_.state as state155_0_, offer0_.virtualAppliance as virtual16_155_0_, offer0_.virtualDatacenter as virtual17_155_0_, offer0_.virtualDatacenterName as virtual18_155_0_ from Offer offer0_ where offer0_.id=?
14:56:09,962 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:56:09,962 INFO  ~ Enterprie ID for current User 
14:56:09,994 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:56:10,092 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id156_0_, offerpurch0_.expiration as expiration156_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_0_, offerpurch0_.leasePeriod as leasePer5_156_0_, offerpurch0_.offer_id as offer9_156_0_, offerpurch0_.serviceLevel as serviceL6_156_0_, offerpurch0_.start as start156_0_, offerpurch0_.user_idAbiquo as user10_156_0_, offerpurch0_.virtualApplianceState as virtualA8_156_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:56:10,093 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:56:10,348 ERROR ~ 

@6bnd1mcji
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=3

Execution exception (In /app/controllers/Mobile.java around line 258)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:258)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:56:35,884 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:56:35,884 INFO  ~ Enterprie ID for current User 
14:56:35,884 INFO  ~ CURRENT USER EMAIL ID: david
14:56:35,915 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:56:36,038 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:56:36,039 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id156_, offerpurch0_.expiration as expiration156_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_, offerpurch0_.leasePeriod as leasePer5_156_, offerpurch0_.offer_id as offer9_156_, offerpurch0_.serviceLevel as serviceL6_156_, offerpurch0_.start as start156_, offerpurch0_.user_idAbiquo as user10_156_, offerpurch0_.virtualApplianceState as virtualA8_156_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
14:56:36,040 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
14:56:36,223 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
14:56:36,225 DEBUG ~ /* load models.Offer */ select offer0_.id as id155_0_, offer0_.datacenter as datacenter155_0_, offer0_.defaultLeasePeriod as defaultL3_155_0_, offer0_.defaultNetworkType as defaultN4_155_0_, offer0_.defaultServiceLevel as defaultS5_155_0_, offer0_.hypervisorType as hypervis6_155_0_, offer0_.icon as icon155_0_, offer0_.iconName as iconName155_0_, offer0_.image as image155_0_, offer0_.longDescription as longDes10_155_0_, offer0_.name as name155_0_, offer0_.price as price155_0_, offer0_.serviceType as service13_155_0_, offer0_.shortDescription as shortDe14_155_0_, offer0_.state as state155_0_, offer0_.virtualAppliance as virtual16_155_0_, offer0_.virtualDatacenter as virtual17_155_0_, offer0_.virtualDatacenterName as virtual18_155_0_ from Offer offer0_ where offer0_.id=?
14:56:37,936 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:56:37,937 INFO  ~ Enterprie ID for current User 
14:56:37,976 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:56:38,076 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id156_0_, offerpurch0_.expiration as expiration156_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_0_, offerpurch0_.leasePeriod as leasePer5_156_0_, offerpurch0_.offer_id as offer9_156_0_, offerpurch0_.serviceLevel as serviceL6_156_0_, offerpurch0_.start as start156_0_, offerpurch0_.user_idAbiquo as user10_156_0_, offerpurch0_.virtualApplianceState as virtualA8_156_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:56:38,077 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:57:09,589 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:57:09,589 INFO  ~ Enterprie ID for current User 
14:57:09,627 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:57:09,865 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id156_0_, offerpurch0_.expiration as expiration156_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_0_, offerpurch0_.leasePeriod as leasePer5_156_0_, offerpurch0_.offer_id as offer9_156_0_, offerpurch0_.serviceLevel as serviceL6_156_0_, offerpurch0_.start as start156_0_, offerpurch0_.user_idAbiquo as user10_156_0_, offerpurch0_.virtualApplianceState as virtualA8_156_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:57:09,866 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:57:10,133 ERROR ~ 

@6bnd1mcjj
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=3

Execution exception (In /app/controllers/Mobile.java around line 258)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:258)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:57:20,778 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:57:20,778 INFO  ~ Enterprie ID for current User 
14:57:20,828 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:57:20,930 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id156_0_, offerpurch0_.expiration as expiration156_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_0_, offerpurch0_.leasePeriod as leasePer5_156_0_, offerpurch0_.offer_id as offer9_156_0_, offerpurch0_.serviceLevel as serviceL6_156_0_, offerpurch0_.start as start156_0_, offerpurch0_.user_idAbiquo as user10_156_0_, offerpurch0_.virtualApplianceState as virtualA8_156_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:57:20,931 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:57:21,214 ERROR ~ 

@6bnd1mcjk
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=3

Execution exception (In /app/controllers/Mobile.java around line 258)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:258)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:57:31,883 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:57:31,883 INFO  ~ Enterprie ID for current User 
14:57:31,916 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:57:32,020 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id156_0_, offerpurch0_.expiration as expiration156_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_0_, offerpurch0_.leasePeriod as leasePer5_156_0_, offerpurch0_.offer_id as offer9_156_0_, offerpurch0_.serviceLevel as serviceL6_156_0_, offerpurch0_.start as start156_0_, offerpurch0_.user_idAbiquo as user10_156_0_, offerpurch0_.virtualApplianceState as virtualA8_156_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:57:32,021 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:57:32,278 ERROR ~ 

@6bnd1mcjl
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=3

Execution exception (In /app/controllers/Mobile.java around line 258)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:258)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:57:37,715 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:57:37,715 INFO  ~ Enterprie ID for current User 
14:57:37,762 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:57:37,866 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id156_0_, offerpurch0_.expiration as expiration156_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_0_, offerpurch0_.leasePeriod as leasePer5_156_0_, offerpurch0_.offer_id as offer9_156_0_, offerpurch0_.serviceLevel as serviceL6_156_0_, offerpurch0_.start as start156_0_, offerpurch0_.user_idAbiquo as user10_156_0_, offerpurch0_.virtualApplianceState as virtualA8_156_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:57:37,867 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:57:38,106 ERROR ~ 

@6bnd1mcjm
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=3

Execution exception (In /app/controllers/Mobile.java around line 258)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:258)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:57:39,518 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:57:39,518 INFO  ~ Enterprie ID for current User 
14:57:39,554 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:57:39,676 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id156_0_, offerpurch0_.expiration as expiration156_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_0_, offerpurch0_.leasePeriod as leasePer5_156_0_, offerpurch0_.offer_id as offer9_156_0_, offerpurch0_.serviceLevel as serviceL6_156_0_, offerpurch0_.start as start156_0_, offerpurch0_.user_idAbiquo as user10_156_0_, offerpurch0_.virtualApplianceState as virtualA8_156_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:57:39,677 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:57:39,939 ERROR ~ 

@6bnd1mcjn
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=3

Execution exception (In /app/controllers/Mobile.java around line 258)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:258)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:57:45,376 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:57:45,377 INFO  ~ Enterprie ID for current User 
14:57:45,417 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:57:45,638 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id156_0_, offerpurch0_.expiration as expiration156_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_0_, offerpurch0_.leasePeriod as leasePer5_156_0_, offerpurch0_.offer_id as offer9_156_0_, offerpurch0_.serviceLevel as serviceL6_156_0_, offerpurch0_.start as start156_0_, offerpurch0_.user_idAbiquo as user10_156_0_, offerpurch0_.virtualApplianceState as virtualA8_156_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:57:45,640 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:57:45,924 ERROR ~ 

@6bnd1mcjo
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=3

Execution exception (In /app/controllers/Mobile.java around line 258)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:258)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:57:51,181 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:57:51,181 INFO  ~ Enterprie ID for current User 
14:57:51,208 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:57:51,629 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id156_0_, offerpurch0_.expiration as expiration156_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_0_, offerpurch0_.leasePeriod as leasePer5_156_0_, offerpurch0_.offer_id as offer9_156_0_, offerpurch0_.serviceLevel as serviceL6_156_0_, offerpurch0_.start as start156_0_, offerpurch0_.user_idAbiquo as user10_156_0_, offerpurch0_.virtualApplianceState as virtualA8_156_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:57:51,631 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:57:51,889 ERROR ~ 

@6bnd1mcjp
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=3

Execution exception (In /app/controllers/Mobile.java around line 258)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:258)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:57:57,090 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:57:57,091 INFO  ~ Enterprie ID for current User 
14:57:57,135 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:57:57,234 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id156_0_, offerpurch0_.expiration as expiration156_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_0_, offerpurch0_.leasePeriod as leasePer5_156_0_, offerpurch0_.offer_id as offer9_156_0_, offerpurch0_.serviceLevel as serviceL6_156_0_, offerpurch0_.start as start156_0_, offerpurch0_.user_idAbiquo as user10_156_0_, offerpurch0_.virtualApplianceState as virtualA8_156_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:57:57,235 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:57:57,537 ERROR ~ 

@6bnd1mck0
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=3

Execution exception (In /app/controllers/Mobile.java around line 258)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:258)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:58:03,075 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:58:03,075 INFO  ~ Enterprie ID for current User 
14:58:03,106 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:58:03,227 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id156_0_, offerpurch0_.expiration as expiration156_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_0_, offerpurch0_.leasePeriod as leasePer5_156_0_, offerpurch0_.offer_id as offer9_156_0_, offerpurch0_.serviceLevel as serviceL6_156_0_, offerpurch0_.start as start156_0_, offerpurch0_.user_idAbiquo as user10_156_0_, offerpurch0_.virtualApplianceState as virtualA8_156_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:58:03,229 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:58:11,408 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:58:11,408 INFO  ~ Enterprie ID for current User 
14:58:11,439 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:58:11,548 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id156_0_, offerpurch0_.expiration as expiration156_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_0_, offerpurch0_.leasePeriod as leasePer5_156_0_, offerpurch0_.offer_id as offer9_156_0_, offerpurch0_.serviceLevel as serviceL6_156_0_, offerpurch0_.start as start156_0_, offerpurch0_.user_idAbiquo as user10_156_0_, offerpurch0_.virtualApplianceState as virtualA8_156_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:58:11,549 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
14:58:11,825 ERROR ~ 

@6bnd1mck1
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=3

Execution exception (In /app/controllers/Mobile.java around line 258)
AuthorizationException occured : GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido

play.exceptions.JavaExecutionException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.rest.AuthorizationException: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.getVirtualMachineTemplate(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.getTemplate(VirtualMachine.java:202)
	at controllers.Mobile.manageOffer(Mobile.java:258)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost:80/api/admin/enterprises/2/datacenterrepositories/1/virtualmachinetemplates/1 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
14:58:18,957 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
14:58:18,957 INFO  ~ Enterprie ID for current User 
14:58:18,998 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
14:58:19,093 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id156_0_, offerpurch0_.expiration as expiration156_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_0_, offerpurch0_.leasePeriod as leasePer5_156_0_, offerpurch0_.offer_id as offer9_156_0_, offerpurch0_.serviceLevel as serviceL6_156_0_, offerpurch0_.start as start156_0_, offerpurch0_.user_idAbiquo as user10_156_0_, offerpurch0_.virtualApplianceState as virtualA8_156_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
14:58:19,095 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
15:01:09,526 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
15:01:09,558 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
15:01:09,678 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
15:01:09,992 INFO  ~ -----INSIDE Index()-----
15:01:12,213 INFO  ~ -----INSIDE Index()-----
15:01:12,213 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
15:01:12,240 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
15:01:12,535 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.virtualAppliance=?
15:01:12,583 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.virtualAppliance=?
15:01:12,682 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.virtualAppliance=?
15:01:12,771 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.virtualAppliance=?
15:01:17,459 INFO  ~ -----INSIDE Index()-----
15:01:17,460 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
15:01:31,252 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
15:01:31,287 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
15:01:31,420 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
15:01:31,804 INFO  ~ -----INSIDE Index()-----
15:01:34,644 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
15:01:34,645 INFO  ~ Enterprie ID for current User 
15:01:34,645 INFO  ~ CURRENT USER EMAIL ID: David
15:01:34,673 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
15:01:34,750 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
15:01:34,750 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id156_, offerpurch0_.expiration as expiration156_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_, offerpurch0_.leasePeriod as leasePer5_156_, offerpurch0_.offer_id as offer9_156_, offerpurch0_.serviceLevel as serviceL6_156_, offerpurch0_.start as start156_, offerpurch0_.user_idAbiquo as user10_156_, offerpurch0_.virtualApplianceState as virtualA8_156_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
15:01:34,752 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
15:01:34,886 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
15:01:34,888 DEBUG ~ /* load models.Offer */ select offer0_.id as id155_0_, offer0_.datacenter as datacenter155_0_, offer0_.defaultLeasePeriod as defaultL3_155_0_, offer0_.defaultNetworkType as defaultN4_155_0_, offer0_.defaultServiceLevel as defaultS5_155_0_, offer0_.hypervisorType as hypervis6_155_0_, offer0_.icon as icon155_0_, offer0_.iconName as iconName155_0_, offer0_.image as image155_0_, offer0_.longDescription as longDes10_155_0_, offer0_.name as name155_0_, offer0_.price as price155_0_, offer0_.serviceType as service13_155_0_, offer0_.shortDescription as shortDe14_155_0_, offer0_.state as state155_0_, offer0_.virtualAppliance as virtual16_155_0_, offer0_.virtualDatacenter as virtual17_155_0_, offer0_.virtualDatacenterName as virtual18_155_0_ from Offer offer0_ where offer0_.id=?
15:01:37,023 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
15:01:37,023 INFO  ~ Enterprie ID for current User 
15:01:37,054 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
15:01:37,142 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id156_0_, offerpurch0_.expiration as expiration156_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_0_, offerpurch0_.leasePeriod as leasePer5_156_0_, offerpurch0_.offer_id as offer9_156_0_, offerpurch0_.serviceLevel as serviceL6_156_0_, offerpurch0_.start as start156_0_, offerpurch0_.user_idAbiquo as user10_156_0_, offerpurch0_.virtualApplianceState as virtualA8_156_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
15:01:37,144 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo154_0_, userportal0_.email as email154_0_, userportal0_.idEnterprise as idEnterp3_154_0_, userportal0_.nick as nick154_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
15:02:06,426 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
15:02:06,562 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.virtualAppliance=?
15:02:06,609 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
15:02:06,609 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.defaultServiceLevel=?
15:02:06,610 INFO  ~ resultSet1 size :0
15:02:06,610 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
15:02:06,610 INFO  ~  resultSet1 size []
15:02:06,610 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
15:02:21,042 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
15:02:21,179 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.virtualAppliance=?
15:02:21,219 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
15:02:21,219 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.defaultServiceLevel=?
15:02:21,219 INFO  ~ resultSet1 size :0
15:02:21,219 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
15:02:21,219 INFO  ~  resultSet1 size []
15:02:21,220 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:13:04,683 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
10:13:04,686 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
10:13:05,087 WARN  ~ You're running Play! in DEV mode
10:13:05,168 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
10:14:27,713 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
10:14:27,938 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
10:14:33,261 WARN  ~ You're running Play! in DEV mode
10:14:34,427 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
10:15:12,020 INFO  ~ Connected to jdbc:mysql://localhost/portal
10:15:16,814 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
10:15:16,814 ERROR ~ Table 'Deploy_Bundle' already exists
10:15:23,657 INFO  ~ Application 'UserPortal' is now started !
10:15:33,820 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:15:34,685 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:36,231 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
10:15:40,038 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:15:40,109 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:41,848 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:42,165 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:15:42,404 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:42,404 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:15:42,406 INFO  ~ resultSet1 size :0
10:15:42,406 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:42,406 INFO  ~  resultSet1 size []
10:15:42,406 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:15:44,667 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:44,957 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:15:45,049 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:45,050 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:15:45,051 INFO  ~ resultSet1 size :0
10:15:45,051 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:45,051 INFO  ~  resultSet1 size []
10:15:45,051 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:15:46,371 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:46,694 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:15:46,766 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:46,766 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:15:46,768 INFO  ~ resultSet1 size :0
10:15:46,768 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:46,768 INFO  ~  resultSet1 size []
10:15:46,768 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:15:47,582 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:47,796 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:15:47,870 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:47,870 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:15:47,871 INFO  ~ resultSet1 size :0
10:15:47,871 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:47,871 INFO  ~  resultSet1 size []
10:15:47,871 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:15:48,260 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
10:15:48,304 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:48,376 INFO  ~  virtualDC  : diamond
10:15:48,521 INFO  ~  va  : diamond
10:15:48,699 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
10:15:55,289 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:55,479 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:15:55,543 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:55,544 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:15:55,545 INFO  ~ resultSet1 size :0
10:15:55,545 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:55,545 INFO  ~  resultSet1 size []
10:15:55,545 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:15:55,637 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=? limit ?
10:15:55,720 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
10:15:55,720 INFO  ~ Session user in addToServiceCatalog(): admin
10:15:55,720 INFO  ~  and  vdc 1  & va_id : 1
10:15:55,720 INFO  ~  lease period 100 years
10:15:55,761 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:57,221 INFO  ~  description : fsaf
10:15:57,425 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
10:15:57,548 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
10:15:57,549 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
10:15:57,550 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
10:15:57,552 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
10:16:04,667 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:16:04,907 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:16:04,980 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:16:04,980 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:16:04,981 INFO  ~ resultSet1 size :0
10:16:04,981 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:16:04,981 INFO  ~  resultSet1 size []
10:16:04,982 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:16:05,877 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:16:06,075 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:16:06,080 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:16:06,080 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:16:06,082 INFO  ~ resultSet1 size :1
10:16:06,082 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:16:06,083 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : server, Icon: play.db.jpa.Blob@70d04b77 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
10:16:06,083 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:16:06,139 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:16:06,139 INFO  ~  OfferID for icon 1
10:16:06,141 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
10:16:06,144 INFO  ~ ------------------------- EXITING displayIcon()---------
10:16:17,070 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:16:17,109 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
10:16:17,257 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:16:17,298 INFO  ~ -----INSIDE Index()-----
10:16:19,969 INFO  ~ CURRENT USER EMAIL ID: david
10:16:19,977 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:16:19,979 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:17:09,656 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:17:09,698 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:17:09,848 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:17:10,138 INFO  ~ -----INSIDE Index()-----
10:17:13,201 INFO  ~ CURRENT USER EMAIL ID: David
10:17:13,201 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:17:13,203 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:17:15,867 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:17:15,867 INFO  ~ Enterprie ID for current User 
10:17:15,868 INFO  ~ CURRENT USER EMAIL ID: David
10:17:15,907 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:17:16,014 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:17:16,014 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_2_, offerpurch0_.leasePeriod as leasePer5_2_, offerpurch0_.offer_id as offer9_2_, offerpurch0_.serviceLevel as serviceL6_2_, offerpurch0_.start as start2_, offerpurch0_.user_idAbiquo as user10_2_, offerpurch0_.virtualApplianceState as virtualA8_2_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:17:16,015 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:17:16,015 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:17:18,289 INFO  ~ CURRENT USER EMAIL ID: David
10:17:18,290 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:17:18,292 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:17:19,980 INFO  ~ -----INSIDE Index()-----
10:17:19,980 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
10:17:21,999 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:17:21,999 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
10:17:22,040 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:17:22,128 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
10:17:22,238 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:17:22,238 INFO  ~  vdcname : POR-David-2012-09-26 10:17:22.237
10:17:22,336 INFO  ~  VDC to deploy: 
10:17:22,336 INFO  ~  Hypervisor to deploy: 
10:17:22,493 INFO  ~  Datacenter to deploy: 
10:17:22,493 INFO  ~  Network Built
10:17:22,494 INFO  ~ VDC built  
10:17:26,513 INFO  ~  1. VDC CREATED 
10:17:26,720 INFO  ~  2. VAPP CREATED 
10:17:26,745 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo0_0_, userportal0_.email as email0_0_, userportal0_.idEnterprise as idEnterp3_0_0_, userportal0_.nick as nick0_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
10:17:26,779 INFO  ~ --------------------
10:17:26,779 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
10:17:26,781 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:17:26,781 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:17:26,782 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:17:26,783 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_8_0_, nodes1_.cpu as cpu8_0_, nodes1_.description as descript3_8_0_, nodes1_.hd as hd8_0_, nodes1_.icon as icon8_0_, nodes1_.idImage as idImage8_0_, nodes1_.node_name as node7_8_0_, nodes1_.ram as ram8_0_, nodes1_1_.offer_id as offer1_9_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:17:27,594 INFO  ~  3. VM CREATED
10:17:27,595 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_8_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_6_0_, nodes_reso1_.resourceType as resource2_6_0_, nodes_reso1_.sequence as sequence6_0_, nodes_reso1_.value as value6_0_, nodes_reso1_1_.id_node as id1_7_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:17:28,332 INFO  ~  4. HARDDISKS ATTACHED 
10:17:28,364 INFO  ~  Handler created :
10:17:29,416 INFO  ~ STARTING MONITORING ......
10:17:29,417 INFO  ~ SAVING DEPLOY INFORMATION ......
10:17:29,418 DEBUG ~ /* get current state models.UserPortal */ select userportal_.idAbiquo, userportal_.email as email0_, userportal_.idEnterprise as idEnterp3_0_, userportal_.nick as nick0_ from UserPortal userportal_ where userportal_.idAbiquo=?
10:17:29,419 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
10:17:29,499 WARN  ~ EXCEPTION OCCURED  IN deploy()
java.lang.IllegalStateException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.OfferPurchased.user -> models.UserPortal
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1211)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:798)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Mobile.deploy(Mobile.java:814)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.OfferPurchased.user -> models.UserPortal
	at org.hibernate.engine.CascadingAction$9.noCascade(CascadingAction.java:387)
	at org.hibernate.engine.Cascade.cascade(Cascade.java:172)
	at org.hibernate.event.def.AbstractFlushingEventListener.cascadeOnFlush(AbstractFlushingEventListener.java:175)
	at org.hibernate.event.def.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:166)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:88)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	... 9 more
10:17:54,947 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:17:54,947 INFO  ~  CREATED VM : VirtualMachine [id=36, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_2a8785d7-46d6-42d8-938b-ca695ed0e48b, password=vmpassword, ram=512, uuid=2a8785d7-46d6-42d8-938b-ca695ed0e48b, vncAddress=null, vncPort=0]
10:17:54,990 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
10:17:54,990 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:17:54,991 INFO  ~  getVMDetais() params : vdc_id 33 vapp_id : 33 vm-id : 36
10:17:54,991 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_10_, mkt_config0_.deploy_enterprise_id as deploy2_10_, mkt_config0_.enterprise_name as enterprise3_10_, mkt_config0_.mkt_branding_css as mkt4_10_, mkt_config0_.mkt_branding_icon as mkt5_10_, mkt_config0_.mkt_deploy_pw as mkt6_10_, mkt_config0_.mkt_deploy_user as mkt7_10_, mkt_config0_.mkt_theme_css as mkt8_10_, mkt_config0_.mkt_url as mkt9_10_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:17:54,992 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:17:54,992 INFO  ~  AbiquoUtils context set to :null
10:17:54,992 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:17:58,969 INFO  ~ -----INSIDE Index()-----
10:17:58,969 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
10:18:01,399 INFO  ~ CURRENT USER EMAIL ID: David
10:18:01,400 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:18:01,402 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:19:14,147 INFO  ~ -----INSIDE Index()-----
10:19:14,147 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
10:19:15,766 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:19:15,766 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
10:19:15,827 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:19:15,931 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
10:19:16,021 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:19:16,021 INFO  ~  vdcname : POR-David-2012-09-26 10:19:16.021
10:19:16,132 INFO  ~  VDC to deploy: 
10:19:16,132 INFO  ~  Hypervisor to deploy: 
10:19:16,192 INFO  ~  Datacenter to deploy: 
10:19:16,192 INFO  ~  Network Built
10:19:16,192 INFO  ~ VDC built  
10:19:17,763 INFO  ~  1. VDC CREATED 
10:19:17,954 INFO  ~  2. VAPP CREATED 
10:19:17,983 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo0_0_, userportal0_.email as email0_0_, userportal0_.idEnterprise as idEnterp3_0_0_, userportal0_.nick as nick0_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
10:19:18,032 INFO  ~ --------------------
10:19:18,032 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
10:19:18,034 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:19:18,034 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:19:18,035 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:19:18,036 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_8_0_, nodes1_.cpu as cpu8_0_, nodes1_.description as descript3_8_0_, nodes1_.hd as hd8_0_, nodes1_.icon as icon8_0_, nodes1_.idImage as idImage8_0_, nodes1_.node_name as node7_8_0_, nodes1_.ram as ram8_0_, nodes1_1_.offer_id as offer1_9_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:19:18,294 INFO  ~  3. VM CREATED
10:19:18,295 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_8_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_6_0_, nodes_reso1_.resourceType as resource2_6_0_, nodes_reso1_.sequence as sequence6_0_, nodes_reso1_.value as value6_0_, nodes_reso1_1_.id_node as id1_7_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:19:18,486 INFO  ~  4. HARDDISKS ATTACHED 
10:19:18,486 INFO  ~  Handler created :
10:19:18,771 INFO  ~ STARTING MONITORING ......
10:19:18,772 INFO  ~ SAVING DEPLOY INFORMATION ......
10:19:18,772 DEBUG ~ /* get current state models.UserPortal */ select userportal_.idAbiquo, userportal_.email as email0_, userportal_.idEnterprise as idEnterp3_0_, userportal_.nick as nick0_ from UserPortal userportal_ where userportal_.idAbiquo=?
10:19:18,772 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
10:19:18,774 WARN  ~ EXCEPTION OCCURED  IN deploy()
java.lang.IllegalStateException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.OfferPurchased.user -> models.UserPortal
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1211)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:798)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Mobile.deploy(Mobile.java:814)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.OfferPurchased.user -> models.UserPortal
	at org.hibernate.engine.CascadingAction$9.noCascade(CascadingAction.java:387)
	at org.hibernate.engine.Cascade.cascade(Cascade.java:172)
	at org.hibernate.event.def.AbstractFlushingEventListener.cascadeOnFlush(AbstractFlushingEventListener.java:175)
	at org.hibernate.event.def.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:166)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:88)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	... 9 more
10:19:34,051 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:19:34,051 INFO  ~  CREATED VM : VirtualMachine [id=37, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_db64ba15-e1d9-42cb-a749-a09086e55a14, password=vmpassword, ram=512, uuid=db64ba15-e1d9-42cb-a749-a09086e55a14, vncAddress=null, vncPort=0]
10:19:34,094 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
10:19:34,094 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:19:34,094 INFO  ~  getVMDetais() params : vdc_id 34 vapp_id : 34 vm-id : 37
10:19:34,095 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_10_, mkt_config0_.deploy_enterprise_id as deploy2_10_, mkt_config0_.enterprise_name as enterprise3_10_, mkt_config0_.mkt_branding_css as mkt4_10_, mkt_config0_.mkt_branding_icon as mkt5_10_, mkt_config0_.mkt_deploy_pw as mkt6_10_, mkt_config0_.mkt_deploy_user as mkt7_10_, mkt_config0_.mkt_theme_css as mkt8_10_, mkt_config0_.mkt_url as mkt9_10_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:19:34,096 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:19:34,096 INFO  ~  AbiquoUtils context set to :null
10:19:34,096 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:21:26,844 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
10:21:26,844 ERROR ~ Table 'Deploy_Bundle' already exists
10:21:32,125 INFO  ~ -----INSIDE Index()-----
10:21:32,126 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:21:32,245 ERROR ~ 

@6bnj976jk
Internal Server Error (500) for request GET /mobile/purchaseConfirmation?offerId=1

Template execution error (In /app/views/Mobile/purchaseConfirmation.html around line 25)
Execution error occured in template /app/views/Mobile/purchaseConfirmation.html. Exception raised was NullPointerException : Cannot get property 'datacenter' on null object.

play.exceptions.TemplateExecutionException: Cannot get property 'datacenter' on null object
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:86)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:257)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.purchaseConfirmation(Mobile.java:554)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.NullPointerException: Cannot get property 'datacenter' on null object
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:232)
	... 13 more
10:21:32,418 INFO  ~ CURRENT USER EMAIL ID: David
10:21:32,419 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:21:32,420 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:21:53,743 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:21:53,786 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
10:21:54,079 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
10:21:54,311 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:21:54,375 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:21:54,376 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:21:54,376 INFO  ~ resultSet1 size :0
10:21:54,376 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:21:54,376 INFO  ~  resultSet1 size []
10:21:54,376 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:22:36,396 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:22:36,435 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
10:22:36,612 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
10:22:36,871 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:22:36,930 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:22:36,930 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:22:36,931 INFO  ~ resultSet1 size :0
10:22:36,931 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:22:36,931 INFO  ~  resultSet1 size []
10:22:36,931 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:23:34,723 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:23:34,762 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
10:23:35,046 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
10:23:35,313 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:23:35,507 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:23:35,508 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:23:35,509 INFO  ~ resultSet1 size :0
10:23:35,509 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:23:35,509 INFO  ~  resultSet1 size []
10:23:35,509 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:24:46,097 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:24:46,142 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
10:24:46,442 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
10:24:46,693 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:24:46,755 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:24:46,756 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:24:46,756 INFO  ~ resultSet1 size :0
10:24:46,756 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:24:46,756 INFO  ~  resultSet1 size []
10:24:46,756 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:24:47,922 INFO  ~ -----INSIDE LOGOUT()-----
10:24:54,532 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:24:54,575 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:24:54,775 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
10:24:56,620 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:24:56,677 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:24:57,214 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:24:57,503 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:24:57,693 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:24:57,693 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:24:57,694 INFO  ~ resultSet1 size :0
10:24:57,694 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:24:57,694 INFO  ~  resultSet1 size []
10:24:57,694 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:24:59,826 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:25:00,114 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:25:00,184 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:25:00,184 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:25:00,185 INFO  ~ resultSet1 size :0
10:25:00,185 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:25:00,185 INFO  ~  resultSet1 size []
10:25:00,185 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:25:00,798 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:25:01,085 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:25:01,158 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:25:01,159 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:25:01,159 INFO  ~ resultSet1 size :0
10:25:01,159 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:25:01,159 INFO  ~  resultSet1 size []
10:25:01,159 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:25:02,072 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:25:02,331 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:25:02,395 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:25:02,396 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:25:02,397 INFO  ~ resultSet1 size :0
10:25:02,397 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:25:02,397 INFO  ~  resultSet1 size []
10:25:02,397 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:25:02,989 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
10:25:03,032 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:25:03,127 INFO  ~  virtualDC  : diamond
10:25:03,288 INFO  ~  va  : diamond
10:25:03,536 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
10:25:11,795 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.id=? limit ?
10:25:11,808 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
10:25:11,808 INFO  ~ Session user in addToServiceCatalog(): admin
10:25:11,808 INFO  ~  and  vdc 1  & va_id : 1
10:25:11,808 INFO  ~  lease period 100 years
10:25:11,862 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:25:12,532 INFO  ~  description : fasdf
10:25:12,560 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
10:25:12,566 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
10:25:12,567 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
10:25:12,568 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
10:25:12,570 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
10:25:12,756 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:25:13,189 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:25:13,191 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:25:13,191 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:25:13,192 INFO  ~ resultSet1 size :1
10:25:13,192 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:25:13,192 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : server, Icon: play.db.jpa.Blob@61fbfb1e , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
10:25:13,192 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:25:13,269 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:25:13,270 INFO  ~  OfferID for icon 1
10:25:13,270 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:25:13,271 INFO  ~ ------------------------- EXITING displayIcon()---------
10:25:15,179 INFO  ~ -----INSIDE LOGOUT()-----
10:25:19,366 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:25:19,409 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
10:25:19,567 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:25:19,588 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
10:25:19,588 INFO  ~ Enterprie ID for current User 3
10:25:19,588 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ group by offer0_.defaultServiceLevel
10:25:19,608 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
10:25:19,650 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
10:25:19,738 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:25:19,738 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:25:19,739 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:25:20,697 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
10:25:20,697 INFO  ~ Enterprie ID for current User 3
10:25:20,697 INFO  ~ CURRENT USER EMAIL ID: david
10:25:20,697 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:25:20,698 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:25:21,036 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:25:21,036 INFO  ~  OfferID for icon 1
10:25:21,036 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:25:21,038 INFO  ~ ------------------------- EXITING displayIcon()---------
10:25:59,905 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:25:59,955 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:26:00,104 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:26:00,370 INFO  ~ -----INSIDE Index()-----
10:26:03,664 INFO  ~ CURRENT USER EMAIL ID: David
10:26:03,664 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:26:03,666 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:26:05,634 INFO  ~ -----INSIDE Index()-----
10:26:05,634 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:26:12,977 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:26:12,977 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
10:26:20,214 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:26:28,177 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
10:26:36,132 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:26:36,350 INFO  ~  vdcname : POR-David-2012-09-26 10:26:35.927
10:26:38,046 INFO  ~  VDC to deploy: 
10:26:38,647 INFO  ~  Hypervisor to deploy: 
10:26:39,110 INFO  ~  Datacenter to deploy: 
10:26:44,832 INFO  ~  Network Built
10:26:48,262 INFO  ~ VDC built  
10:26:51,599 INFO  ~  1. VDC CREATED 
10:26:53,304 INFO  ~  2. VAPP CREATED 
10:26:54,888 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo22_0_, userportal0_.email as email22_0_, userportal0_.idEnterprise as idEnterp3_22_0_, userportal0_.nick as nick22_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
10:27:00,012 INFO  ~ --------------------
10:27:01,787 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:27:05,398 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:27:05,399 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:27:05,412 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:27:06,967 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_23_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_30_0_, nodes1_.cpu as cpu30_0_, nodes1_.description as descript3_30_0_, nodes1_.hd as hd30_0_, nodes1_.icon as icon30_0_, nodes1_.idImage as idImage30_0_, nodes1_.node_name as node7_30_0_, nodes1_.ram as ram30_0_, nodes1_1_.offer_id as offer1_31_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:27:12,545 INFO  ~  3. VM CREATED
10:27:17,483 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_30_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_28_0_, nodes_reso1_.resourceType as resource2_28_0_, nodes_reso1_.sequence as sequence28_0_, nodes_reso1_.value as value28_0_, nodes_reso1_1_.id_node as id1_29_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:27:23,144 INFO  ~  4. HARDDISKS ATTACHED 
10:27:24,212 INFO  ~  Handler created :
10:27:27,118 INFO  ~ STARTING MONITORING ......
10:27:29,305 INFO  ~ SAVING DEPLOY INFORMATION ......
10:27:30,859 DEBUG ~ /* get current state models.UserPortal */ select userportal_.idAbiquo, userportal_.email as email22_, userportal_.idEnterprise as idEnterp3_22_, userportal_.nick as nick22_ from UserPortal userportal_ where userportal_.idAbiquo=?
10:27:30,874 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
10:27:43,092 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:27:43,093 INFO  ~  CREATED VM : VirtualMachine [id=38, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_880f0a86-6ffb-4fd9-8e23-79de9acd5c5e, password=vmpassword, ram=512, uuid=880f0a86-6ffb-4fd9-8e23-79de9acd5c5e, vncAddress=null, vncPort=0]
10:27:43,159 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
10:27:43,159 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:27:43,159 INFO  ~  getVMDetais() params : vdc_id 35 vapp_id : 35 vm-id : 38
10:27:43,160 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_32_, mkt_config0_.deploy_enterprise_id as deploy2_32_, mkt_config0_.enterprise_name as enterprise3_32_, mkt_config0_.mkt_branding_css as mkt4_32_, mkt_config0_.mkt_branding_icon as mkt5_32_, mkt_config0_.mkt_deploy_pw as mkt6_32_, mkt_config0_.mkt_deploy_user as mkt7_32_, mkt_config0_.mkt_theme_css as mkt8_32_, mkt_config0_.mkt_url as mkt9_32_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:27:43,161 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:27:43,161 INFO  ~  AbiquoUtils context set to :null
10:27:43,161 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:29:05,734 WARN  ~ EXCEPTION OCCURED  IN deploy()
java.lang.IllegalStateException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.OfferPurchased.user -> models.UserPortal
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1211)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:798)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Mobile.deploy(Mobile.java:814)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.OfferPurchased.user -> models.UserPortal
	at org.hibernate.engine.CascadingAction$9.noCascade(CascadingAction.java:387)
	at org.hibernate.engine.Cascade.cascade(Cascade.java:172)
	at org.hibernate.event.def.AbstractFlushingEventListener.cascadeOnFlush(AbstractFlushingEventListener.java:175)
	at org.hibernate.event.def.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:166)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:88)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	... 9 more
10:29:19,571 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:29:19,630 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:29:19,788 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:29:19,999 INFO  ~ -----INSIDE Index()-----
10:29:21,895 INFO  ~ CURRENT USER EMAIL ID: David
10:29:21,896 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:29:21,898 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:29:24,070 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:29:24,070 INFO  ~ Enterprie ID for current User 
10:29:24,070 INFO  ~ CURRENT USER EMAIL ID: David
10:29:24,125 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:29:24,211 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:29:24,211 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:29:24,212 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:29:24,212 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:29:26,422 INFO  ~ CURRENT USER EMAIL ID: David
10:29:26,422 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:29:26,424 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:29:28,076 INFO  ~ -----INSIDE Index()-----
10:29:28,077 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:29:29,769 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:29:29,770 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
10:29:29,821 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:29:29,916 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
10:29:30,014 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:29:30,014 INFO  ~  vdcname : POR-David-2012-09-26 10:29:30.013
10:29:30,121 INFO  ~  VDC to deploy: 
10:29:30,121 INFO  ~  Hypervisor to deploy: 
10:29:30,183 INFO  ~  Datacenter to deploy: 
10:29:30,183 INFO  ~  Network Built
10:29:30,183 INFO  ~ VDC built  
10:29:31,563 INFO  ~  1. VDC CREATED 
10:29:31,856 INFO  ~  2. VAPP CREATED 
10:29:31,894 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo22_0_, userportal0_.email as email22_0_, userportal0_.idEnterprise as idEnterp3_22_0_, userportal0_.nick as nick22_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
10:29:31,938 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idEnterprise, nick, idAbiquo) values (?, ?, ?, ?)
10:29:31,938 INFO  ~ --------------------
10:29:31,938 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:29:31,939 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:29:31,940 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:29:31,940 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:29:31,941 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_23_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_30_0_, nodes1_.cpu as cpu30_0_, nodes1_.description as descript3_30_0_, nodes1_.hd as hd30_0_, nodes1_.icon as icon30_0_, nodes1_.idImage as idImage30_0_, nodes1_.node_name as node7_30_0_, nodes1_.ram as ram30_0_, nodes1_1_.offer_id as offer1_31_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:29:32,368 INFO  ~  3. VM CREATED
10:29:32,369 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_30_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_28_0_, nodes_reso1_.resourceType as resource2_28_0_, nodes_reso1_.sequence as sequence28_0_, nodes_reso1_.value as value28_0_, nodes_reso1_1_.id_node as id1_29_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:29:32,558 INFO  ~  4. HARDDISKS ATTACHED 
10:29:32,558 INFO  ~  Handler created :
10:29:32,894 INFO  ~ STARTING MONITORING ......
10:29:32,894 INFO  ~ SAVING DEPLOY INFORMATION ......
10:29:32,895 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
10:29:32,897 INFO  ~ DEPLOY INFO SAVED ......
10:29:32,897 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
10:29:36,214 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:29:36,214 INFO  ~ Enterprie ID for current User 
10:29:36,214 INFO  ~ CURRENT USER EMAIL ID: David
10:29:36,254 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:29:36,499 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:29:36,500 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:29:36,514 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:29:36,701 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
10:29:36,703 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:29:36,711 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:29:39,680 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:29:39,680 INFO  ~ Enterprie ID for current User 
10:29:39,716 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:29:39,800 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id24_0_, offerpurch0_.expiration as expiration24_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_0_, offerpurch0_.leasePeriod as leasePer5_24_0_, offerpurch0_.offer_id as offer9_24_0_, offerpurch0_.serviceLevel as serviceL6_24_0_, offerpurch0_.start as start24_0_, offerpurch0_.user_idAbiquo as user10_24_0_, offerpurch0_.virtualApplianceState as virtualA8_24_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
10:29:39,802 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo22_0_, userportal0_.email as email22_0_, userportal0_.idEnterprise as idEnterp3_22_0_, userportal0_.nick as nick22_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
10:29:48,277 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:29:48,278 INFO  ~  CREATED VM : VirtualMachine [id=39, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_fea2e9f0-0a7a-4518-8492-fd6a2881bb43, password=vmpassword, ram=512, uuid=fea2e9f0-0a7a-4518-8492-fd6a2881bb43, vncAddress=null, vncPort=0]
10:29:48,327 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
10:29:48,327 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:29:48,327 INFO  ~  getVMDetais() params : vdc_id 36 vapp_id : 36 vm-id : 39
10:29:48,327 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_32_, mkt_config0_.deploy_enterprise_id as deploy2_32_, mkt_config0_.enterprise_name as enterprise3_32_, mkt_config0_.mkt_branding_css as mkt4_32_, mkt_config0_.mkt_branding_icon as mkt5_32_, mkt_config0_.mkt_deploy_pw as mkt6_32_, mkt_config0_.mkt_deploy_user as mkt7_32_, mkt_config0_.mkt_theme_css as mkt8_32_, mkt_config0_.mkt_url as mkt9_32_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:29:48,328 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:29:48,328 INFO  ~  AbiquoUtils context set to :null
10:29:48,329 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:32:21,254 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:32:21,254 INFO  ~ Enterprie ID for current User 
10:32:21,254 INFO  ~ CURRENT USER EMAIL ID: David
10:32:21,291 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:32:21,388 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:32:21,388 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:32:21,390 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:32:21,588 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
10:32:21,590 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:32:21,592 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:32:25,215 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:32:25,215 INFO  ~ Enterprie ID for current User 
10:32:25,249 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:32:25,342 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id24_0_, offerpurch0_.expiration as expiration24_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_0_, offerpurch0_.leasePeriod as leasePer5_24_0_, offerpurch0_.offer_id as offer9_24_0_, offerpurch0_.serviceLevel as serviceL6_24_0_, offerpurch0_.start as start24_0_, offerpurch0_.user_idAbiquo as user10_24_0_, offerpurch0_.virtualApplianceState as virtualA8_24_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
10:32:25,345 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo22_0_, userportal0_.email as email22_0_, userportal0_.idEnterprise as idEnterp3_22_0_, userportal0_.nick as nick22_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
10:32:34,614 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:32:34,614 INFO  ~ Enterprie ID for current User 
10:32:34,614 INFO  ~ CURRENT USER EMAIL ID: David
10:32:34,657 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:32:34,857 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:32:34,857 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:32:34,859 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:32:35,055 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:32:35,057 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:33:41,803 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:33:41,843 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:33:41,988 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:33:42,066 INFO  ~ -----INSIDE Index()-----
10:33:46,244 INFO  ~ CURRENT USER EMAIL ID: David
10:33:46,244 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:33:46,246 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:33:48,890 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:33:48,890 INFO  ~ Enterprie ID for current User 
10:33:48,890 INFO  ~ CURRENT USER EMAIL ID: David
10:33:48,944 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:33:49,057 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:33:49,058 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:33:49,060 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:33:49,257 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:33:49,385 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:33:52,782 INFO  ~ CURRENT USER EMAIL ID: David
10:33:52,782 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:33:52,784 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:33:55,146 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:33:55,146 INFO  ~ Enterprie ID for current User 
10:33:55,146 INFO  ~ CURRENT USER EMAIL ID: David
10:33:55,187 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:33:55,285 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:33:55,286 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:33:55,287 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:33:55,464 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:33:55,465 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:33:56,435 INFO  ~ CURRENT USER EMAIL ID: David
10:33:56,435 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:33:56,436 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:34:07,354 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:34:07,408 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:34:07,539 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:34:07,773 INFO  ~ -----INSIDE Index()-----
10:34:09,752 INFO  ~ CURRENT USER EMAIL ID: David
10:34:09,753 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:34:09,754 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:03:18,252 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
11:03:18,388 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
11:03:18,851 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
11:03:18,931 INFO  ~ -----INSIDE Index()-----
11:03:21,458 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:03:21,458 INFO  ~ Enterprie ID for current User 
11:03:21,458 INFO  ~ CURRENT USER EMAIL ID: David
11:03:21,511 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
11:03:21,618 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
11:03:21,618 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
11:03:21,620 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
11:03:21,907 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
11:03:21,910 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
11:03:23,903 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:03:23,903 INFO  ~ Enterprie ID for current User 
11:03:23,951 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
11:03:24,049 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id24_0_, offerpurch0_.expiration as expiration24_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_0_, offerpurch0_.leasePeriod as leasePer5_24_0_, offerpurch0_.offer_id as offer9_24_0_, offerpurch0_.serviceLevel as serviceL6_24_0_, offerpurch0_.start as start24_0_, offerpurch0_.user_idAbiquo as user10_24_0_, offerpurch0_.virtualApplianceState as virtualA8_24_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
11:03:24,051 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo22_0_, userportal0_.email as email22_0_, userportal0_.idEnterprise as idEnterp3_22_0_, userportal0_.nick as nick22_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
11:03:59,619 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:03:59,619 INFO  ~ Enterprie ID for current User 
11:03:59,619 INFO  ~ CURRENT USER EMAIL ID: David
11:03:59,653 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
11:03:59,756 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
11:03:59,756 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
11:03:59,758 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
11:03:59,914 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
11:03:59,916 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
11:04:11,763 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:04:11,763 INFO  ~ Enterprie ID for current User 
11:04:11,816 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
11:04:11,927 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id24_0_, offerpurch0_.expiration as expiration24_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_0_, offerpurch0_.leasePeriod as leasePer5_24_0_, offerpurch0_.offer_id as offer9_24_0_, offerpurch0_.serviceLevel as serviceL6_24_0_, offerpurch0_.start as start24_0_, offerpurch0_.user_idAbiquo as user10_24_0_, offerpurch0_.virtualApplianceState as virtualA8_24_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
11:04:11,929 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo22_0_, userportal0_.email as email22_0_, userportal0_.idEnterprise as idEnterp3_22_0_, userportal0_.nick as nick22_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
11:04:44,052 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:04:44,052 INFO  ~ Enterprie ID for current User 
11:04:44,052 INFO  ~ CURRENT USER EMAIL ID: David
11:04:44,097 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
11:04:44,194 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
11:04:44,194 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
11:04:44,196 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
11:04:44,337 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
11:04:44,339 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
11:05:03,757 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:05:03,758 INFO  ~ Enterprie ID for current User 
11:05:03,792 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
11:05:03,875 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id24_0_, offerpurch0_.expiration as expiration24_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_0_, offerpurch0_.leasePeriod as leasePer5_24_0_, offerpurch0_.offer_id as offer9_24_0_, offerpurch0_.serviceLevel as serviceL6_24_0_, offerpurch0_.start as start24_0_, offerpurch0_.user_idAbiquo as user10_24_0_, offerpurch0_.virtualApplianceState as virtualA8_24_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
11:05:03,877 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo22_0_, userportal0_.email as email22_0_, userportal0_.idEnterprise as idEnterp3_22_0_, userportal0_.nick as nick22_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
11:15:37,896 INFO  ~ CURRENT USER EMAIL ID: david
11:15:37,954 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:15:37,955 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:15:40,424 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:15:40,424 INFO  ~ Enterprie ID for current User 
11:15:40,424 INFO  ~ CURRENT USER EMAIL ID: david
11:15:40,532 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
11:15:40,948 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
11:15:40,948 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
11:15:40,950 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
11:15:41,371 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
11:15:41,372 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
11:15:42,950 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:15:42,951 INFO  ~ Enterprie ID for current User 
11:15:42,998 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
11:15:43,093 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id24_0_, offerpurch0_.expiration as expiration24_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_0_, offerpurch0_.leasePeriod as leasePer5_24_0_, offerpurch0_.offer_id as offer9_24_0_, offerpurch0_.serviceLevel as serviceL6_24_0_, offerpurch0_.start as start24_0_, offerpurch0_.user_idAbiquo as user10_24_0_, offerpurch0_.virtualApplianceState as virtualA8_24_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
11:15:43,095 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo22_0_, userportal0_.email as email22_0_, userportal0_.idEnterprise as idEnterp3_22_0_, userportal0_.nick as nick22_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
11:16:44,887 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:16:44,887 INFO  ~ Enterprie ID for current User 
11:16:44,929 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
11:16:45,036 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id24_0_, offerpurch0_.expiration as expiration24_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_0_, offerpurch0_.leasePeriod as leasePer5_24_0_, offerpurch0_.offer_id as offer9_24_0_, offerpurch0_.serviceLevel as serviceL6_24_0_, offerpurch0_.start as start24_0_, offerpurch0_.user_idAbiquo as user10_24_0_, offerpurch0_.virtualApplianceState as virtualA8_24_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
11:16:45,038 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo22_0_, userportal0_.email as email22_0_, userportal0_.idEnterprise as idEnterp3_22_0_, userportal0_.nick as nick22_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
11:17:03,587 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:17:03,587 INFO  ~ Enterprie ID for current User 
11:17:03,587 INFO  ~ CURRENT USER EMAIL ID: David
11:17:03,629 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
11:17:03,723 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
11:17:03,723 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
11:17:03,724 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
11:17:03,911 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
11:17:03,913 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
11:17:07,165 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:17:07,166 INFO  ~ Enterprie ID for current User 
11:17:07,208 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
11:17:07,413 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id24_0_, offerpurch0_.expiration as expiration24_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_0_, offerpurch0_.leasePeriod as leasePer5_24_0_, offerpurch0_.offer_id as offer9_24_0_, offerpurch0_.serviceLevel as serviceL6_24_0_, offerpurch0_.start as start24_0_, offerpurch0_.user_idAbiquo as user10_24_0_, offerpurch0_.virtualApplianceState as virtualA8_24_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
11:17:07,414 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo22_0_, userportal0_.email as email22_0_, userportal0_.idEnterprise as idEnterp3_22_0_, userportal0_.nick as nick22_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
11:20:05,753 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:20:05,754 INFO  ~ Enterprie ID for current User 
11:20:05,754 INFO  ~ CURRENT USER EMAIL ID: David
11:20:05,801 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
11:20:05,897 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
11:20:05,897 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
11:20:05,899 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
11:20:06,105 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
11:20:06,108 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
11:20:09,209 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:20:09,209 INFO  ~ Enterprie ID for current User 
11:20:09,250 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
11:20:09,333 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id24_0_, offerpurch0_.expiration as expiration24_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_0_, offerpurch0_.leasePeriod as leasePer5_24_0_, offerpurch0_.offer_id as offer9_24_0_, offerpurch0_.serviceLevel as serviceL6_24_0_, offerpurch0_.start as start24_0_, offerpurch0_.user_idAbiquo as user10_24_0_, offerpurch0_.virtualApplianceState as virtualA8_24_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
11:20:09,335 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo22_0_, userportal0_.email as email22_0_, userportal0_.idEnterprise as idEnterp3_22_0_, userportal0_.nick as nick22_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
11:21:20,088 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:21:20,088 INFO  ~ Enterprie ID for current User 
11:21:20,089 INFO  ~ CURRENT USER EMAIL ID: David
11:21:20,433 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
11:21:21,087 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
11:21:21,087 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
11:21:21,089 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
11:21:21,305 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
11:21:21,307 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
11:21:24,542 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:21:24,542 INFO  ~ Enterprie ID for current User 
11:21:24,586 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
11:21:24,697 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id24_0_, offerpurch0_.expiration as expiration24_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_0_, offerpurch0_.leasePeriod as leasePer5_24_0_, offerpurch0_.offer_id as offer9_24_0_, offerpurch0_.serviceLevel as serviceL6_24_0_, offerpurch0_.start as start24_0_, offerpurch0_.user_idAbiquo as user10_24_0_, offerpurch0_.virtualApplianceState as virtualA8_24_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
11:21:24,699 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo22_0_, userportal0_.email as email22_0_, userportal0_.idEnterprise as idEnterp3_22_0_, userportal0_.nick as nick22_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
11:22:07,973 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:22:07,973 INFO  ~ Enterprie ID for current User 
11:22:07,973 INFO  ~ CURRENT USER EMAIL ID: David
11:22:08,022 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
11:22:08,133 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
11:22:08,134 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
11:22:08,167 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
11:22:08,374 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
11:22:08,376 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
11:22:12,762 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:22:12,762 INFO  ~ Enterprie ID for current User 
11:22:12,806 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
11:22:12,912 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id24_0_, offerpurch0_.expiration as expiration24_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_0_, offerpurch0_.leasePeriod as leasePer5_24_0_, offerpurch0_.offer_id as offer9_24_0_, offerpurch0_.serviceLevel as serviceL6_24_0_, offerpurch0_.start as start24_0_, offerpurch0_.user_idAbiquo as user10_24_0_, offerpurch0_.virtualApplianceState as virtualA8_24_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
11:22:12,914 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo22_0_, userportal0_.email as email22_0_, userportal0_.idEnterprise as idEnterp3_22_0_, userportal0_.nick as nick22_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:03:18,234 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:03:18,292 ERROR ~ Table 'Deploy_Bundle' already exists
12:04:39,338 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:04:39,395 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:04:39,613 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:04:39,780 INFO  ~ -----INSIDE Index()-----
12:04:44,220 INFO  ~ CURRENT USER EMAIL ID: David
12:04:44,221 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id45_, offer0_.datacenter as datacenter45_, offer0_.defaultLeasePeriod as defaultL3_45_, offer0_.defaultNetworkType as defaultN4_45_, offer0_.defaultServiceLevel as defaultS5_45_, offer0_.hypervisorType as hypervis6_45_, offer0_.icon as icon45_, offer0_.iconName as iconName45_, offer0_.image as image45_, offer0_.longDescription as longDes10_45_, offer0_.name as name45_, offer0_.price as price45_, offer0_.serviceType as service13_45_, offer0_.shortDescription as shortDe14_45_, offer0_.state as state45_, offer0_.virtualAppliance as virtual16_45_, offer0_.virtualDatacenter as virtual17_45_, offer0_.virtualDatacenterName as virtual18_45_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:04:44,267 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:04:47,162 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:04:47,162 INFO  ~ Enterprie ID for current User 
12:04:47,162 INFO  ~ CURRENT USER EMAIL ID: David
12:04:47,204 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:04:47,285 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:04:47,286 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id46_, offerpurch0_.expiration as expiration46_, offerpurch0_.idVirtualApplianceUser as idVirtua3_46_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_46_, offerpurch0_.leasePeriod as leasePer5_46_, offerpurch0_.offer_id as offer9_46_, offerpurch0_.serviceLevel as serviceL6_46_, offerpurch0_.start as start46_, offerpurch0_.user_idAbiquo as user10_46_, offerpurch0_.virtualApplianceState as virtualA8_46_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:04:47,287 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:04:47,287 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
12:04:49,178 INFO  ~ CURRENT USER EMAIL ID: David
12:04:49,179 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id45_, offer0_.datacenter as datacenter45_, offer0_.defaultLeasePeriod as defaultL3_45_, offer0_.defaultNetworkType as defaultN4_45_, offer0_.defaultServiceLevel as defaultS5_45_, offer0_.hypervisorType as hypervis6_45_, offer0_.icon as icon45_, offer0_.iconName as iconName45_, offer0_.image as image45_, offer0_.longDescription as longDes10_45_, offer0_.name as name45_, offer0_.price as price45_, offer0_.serviceType as service13_45_, offer0_.shortDescription as shortDe14_45_, offer0_.state as state45_, offer0_.virtualAppliance as virtual16_45_, offer0_.virtualDatacenter as virtual17_45_, offer0_.virtualDatacenterName as virtual18_45_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:04:49,180 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:04:54,821 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:04:54,821 INFO  ~ Enterprie ID for current User 3
12:04:54,821 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id45_, offer0_.datacenter as datacenter45_, offer0_.defaultLeasePeriod as defaultL3_45_, offer0_.defaultNetworkType as defaultN4_45_, offer0_.defaultServiceLevel as defaultS5_45_, offer0_.hypervisorType as hypervis6_45_, offer0_.icon as icon45_, offer0_.iconName as iconName45_, offer0_.image as image45_, offer0_.longDescription as longDes10_45_, offer0_.name as name45_, offer0_.price as price45_, offer0_.serviceType as service13_45_, offer0_.shortDescription as shortDe14_45_, offer0_.state as state45_, offer0_.virtualAppliance as virtual16_45_, offer0_.virtualDatacenter as virtual17_45_, offer0_.virtualDatacenterName as virtual18_45_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:04:54,834 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:04:54,874 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:04:54,956 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:04:54,957 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id46_, offerpurch0_.expiration as expiration46_, offerpurch0_.idVirtualApplianceUser as idVirtua3_46_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_46_, offerpurch0_.leasePeriod as leasePer5_46_, offerpurch0_.offer_id as offer9_46_, offerpurch0_.serviceLevel as serviceL6_46_, offerpurch0_.start as start46_, offerpurch0_.user_idAbiquo as user10_46_, offerpurch0_.virtualApplianceState as virtualA8_46_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:04:54,957 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:04:57,532 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:04:57,532 INFO  ~ Enterprie ID for current User 3
12:04:57,532 INFO  ~ CURRENT USER EMAIL ID: david
12:04:57,532 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id45_, offer0_.datacenter as datacenter45_, offer0_.defaultLeasePeriod as defaultL3_45_, offer0_.defaultNetworkType as defaultN4_45_, offer0_.defaultServiceLevel as defaultS5_45_, offer0_.hypervisorType as hypervis6_45_, offer0_.icon as icon45_, offer0_.iconName as iconName45_, offer0_.image as image45_, offer0_.longDescription as longDes10_45_, offer0_.name as name45_, offer0_.price as price45_, offer0_.serviceType as service13_45_, offer0_.shortDescription as shortDe14_45_, offer0_.state as state45_, offer0_.virtualAppliance as virtual16_45_, offer0_.virtualDatacenter as virtual17_45_, offer0_.virtualDatacenterName as virtual18_45_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:04:57,533 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:04:59,600 INFO  ~ -----INSIDE LOGOUT()-----
12:05:04,938 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:05:04,972 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:05:05,136 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
12:05:07,681 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:05:07,716 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:05:08,243 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:05:08,402 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id45_, offer0_.datacenter as datacenter45_, offer0_.defaultLeasePeriod as defaultL3_45_, offer0_.defaultNetworkType as defaultN4_45_, offer0_.defaultServiceLevel as defaultS5_45_, offer0_.hypervisorType as hypervis6_45_, offer0_.icon as icon45_, offer0_.iconName as iconName45_, offer0_.image as image45_, offer0_.longDescription as longDes10_45_, offer0_.name as name45_, offer0_.price as price45_, offer0_.serviceType as service13_45_, offer0_.shortDescription as shortDe14_45_, offer0_.state as state45_, offer0_.virtualAppliance as virtual16_45_, offer0_.virtualDatacenter as virtual17_45_, offer0_.virtualDatacenterName as virtual18_45_ from Offer offer0_ where offer0_.virtualAppliance=?
12:05:08,541 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:05:08,541 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id45_, offer0_.datacenter as datacenter45_, offer0_.defaultLeasePeriod as defaultL3_45_, offer0_.defaultNetworkType as defaultN4_45_, offer0_.defaultServiceLevel as defaultS5_45_, offer0_.hypervisorType as hypervis6_45_, offer0_.icon as icon45_, offer0_.iconName as iconName45_, offer0_.image as image45_, offer0_.longDescription as longDes10_45_, offer0_.name as name45_, offer0_.price as price45_, offer0_.serviceType as service13_45_, offer0_.shortDescription as shortDe14_45_, offer0_.state as state45_, offer0_.virtualAppliance as virtual16_45_, offer0_.virtualDatacenter as virtual17_45_, offer0_.virtualDatacenterName as virtual18_45_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:05:08,541 INFO  ~ resultSet1 size :0
12:05:08,542 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:05:08,542 INFO  ~  resultSet1 size []
12:05:08,542 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:05:10,071 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
12:05:10,111 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:05:10,178 INFO  ~  virtualDC  : diamond
12:05:10,293 INFO  ~  va  : diamond
12:05:10,455 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
12:05:16,973 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id45_, offer0_.datacenter as datacenter45_, offer0_.defaultLeasePeriod as defaultL3_45_, offer0_.defaultNetworkType as defaultN4_45_, offer0_.defaultServiceLevel as defaultS5_45_, offer0_.hypervisorType as hypervis6_45_, offer0_.icon as icon45_, offer0_.iconName as iconName45_, offer0_.image as image45_, offer0_.longDescription as longDes10_45_, offer0_.name as name45_, offer0_.price as price45_, offer0_.serviceType as service13_45_, offer0_.shortDescription as shortDe14_45_, offer0_.state as state45_, offer0_.virtualAppliance as virtual16_45_, offer0_.virtualDatacenter as virtual17_45_, offer0_.virtualDatacenterName as virtual18_45_ from Offer offer0_ where offer0_.id=? limit ?
12:05:16,982 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
12:05:16,982 INFO  ~ Session user in addToServiceCatalog(): admin
12:05:16,982 INFO  ~  and  vdc 1  & va_id : 1
12:05:16,982 INFO  ~  lease period 100 years
12:05:17,013 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:05:17,578 INFO  ~  description : sadfsda
12:05:17,642 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
12:05:17,674 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:05:17,675 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
12:05:17,676 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:05:17,677 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
12:05:17,895 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:05:18,062 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id45_, offer0_.datacenter as datacenter45_, offer0_.defaultLeasePeriod as defaultL3_45_, offer0_.defaultNetworkType as defaultN4_45_, offer0_.defaultServiceLevel as defaultS5_45_, offer0_.hypervisorType as hypervis6_45_, offer0_.icon as icon45_, offer0_.iconName as iconName45_, offer0_.image as image45_, offer0_.longDescription as longDes10_45_, offer0_.name as name45_, offer0_.price as price45_, offer0_.serviceType as service13_45_, offer0_.shortDescription as shortDe14_45_, offer0_.state as state45_, offer0_.virtualAppliance as virtual16_45_, offer0_.virtualDatacenter as virtual17_45_, offer0_.virtualDatacenterName as virtual18_45_ from Offer offer0_ where offer0_.virtualAppliance=?
12:05:18,064 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:05:18,064 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id45_, offer0_.datacenter as datacenter45_, offer0_.defaultLeasePeriod as defaultL3_45_, offer0_.defaultNetworkType as defaultN4_45_, offer0_.defaultServiceLevel as defaultS5_45_, offer0_.hypervisorType as hypervis6_45_, offer0_.icon as icon45_, offer0_.iconName as iconName45_, offer0_.image as image45_, offer0_.longDescription as longDes10_45_, offer0_.name as name45_, offer0_.price as price45_, offer0_.serviceType as service13_45_, offer0_.shortDescription as shortDe14_45_, offer0_.state as state45_, offer0_.virtualAppliance as virtual16_45_, offer0_.virtualDatacenter as virtual17_45_, offer0_.virtualDatacenterName as virtual18_45_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:05:18,065 INFO  ~ resultSet1 size :1
12:05:18,065 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:05:18,065 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : server, Icon: play.db.jpa.Blob@24954b7b , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
12:05:18,065 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:05:18,131 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:05:18,132 INFO  ~  OfferID for icon 1
12:05:18,132 DEBUG ~ /* load models.Offer */ select offer0_.id as id45_0_, offer0_.datacenter as datacenter45_0_, offer0_.defaultLeasePeriod as defaultL3_45_0_, offer0_.defaultNetworkType as defaultN4_45_0_, offer0_.defaultServiceLevel as defaultS5_45_0_, offer0_.hypervisorType as hypervis6_45_0_, offer0_.icon as icon45_0_, offer0_.iconName as iconName45_0_, offer0_.image as image45_0_, offer0_.longDescription as longDes10_45_0_, offer0_.name as name45_0_, offer0_.price as price45_0_, offer0_.serviceType as service13_45_0_, offer0_.shortDescription as shortDe14_45_0_, offer0_.state as state45_0_, offer0_.virtualAppliance as virtual16_45_0_, offer0_.virtualDatacenter as virtual17_45_0_, offer0_.virtualDatacenterName as virtual18_45_0_ from Offer offer0_ where offer0_.id=?
12:05:18,133 INFO  ~ ------------------------- EXITING displayIcon()---------
12:05:23,139 INFO  ~ -----INSIDE LOGOUT()-----
12:05:31,181 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:05:31,181 INFO  ~ Enterprie ID for current User 
12:05:31,182 INFO  ~ CURRENT USER EMAIL ID: David
12:05:31,212 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:05:31,320 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:05:31,320 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id46_, offerpurch0_.expiration as expiration46_, offerpurch0_.idVirtualApplianceUser as idVirtua3_46_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_46_, offerpurch0_.leasePeriod as leasePer5_46_, offerpurch0_.offer_id as offer9_46_, offerpurch0_.serviceLevel as serviceL6_46_, offerpurch0_.start as start46_, offerpurch0_.user_idAbiquo as user10_46_, offerpurch0_.virtualApplianceState as virtualA8_46_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:05:31,321 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:05:31,321 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
12:05:33,496 INFO  ~ CURRENT USER EMAIL ID: David
12:05:33,496 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id45_, offer0_.datacenter as datacenter45_, offer0_.defaultLeasePeriod as defaultL3_45_, offer0_.defaultNetworkType as defaultN4_45_, offer0_.defaultServiceLevel as defaultS5_45_, offer0_.hypervisorType as hypervis6_45_, offer0_.icon as icon45_, offer0_.iconName as iconName45_, offer0_.image as image45_, offer0_.longDescription as longDes10_45_, offer0_.name as name45_, offer0_.price as price45_, offer0_.serviceType as service13_45_, offer0_.shortDescription as shortDe14_45_, offer0_.state as state45_, offer0_.virtualAppliance as virtual16_45_, offer0_.virtualDatacenter as virtual17_45_, offer0_.virtualDatacenterName as virtual18_45_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:05:33,498 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:05:36,466 INFO  ~ -----INSIDE Index()-----
12:05:38,930 INFO  ~ CURRENT USER EMAIL ID: David
12:05:38,931 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id45_, offer0_.datacenter as datacenter45_, offer0_.defaultLeasePeriod as defaultL3_45_, offer0_.defaultNetworkType as defaultN4_45_, offer0_.defaultServiceLevel as defaultS5_45_, offer0_.hypervisorType as hypervis6_45_, offer0_.icon as icon45_, offer0_.iconName as iconName45_, offer0_.image as image45_, offer0_.longDescription as longDes10_45_, offer0_.name as name45_, offer0_.price as price45_, offer0_.serviceType as service13_45_, offer0_.shortDescription as shortDe14_45_, offer0_.state as state45_, offer0_.virtualAppliance as virtual16_45_, offer0_.virtualDatacenter as virtual17_45_, offer0_.virtualDatacenterName as virtual18_45_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:05:38,932 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:05:50,118 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:05:50,155 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:05:50,261 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:05:50,417 INFO  ~ -----INSIDE Index()-----
12:05:52,541 INFO  ~ CURRENT USER EMAIL ID: David
12:05:52,541 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id45_, offer0_.datacenter as datacenter45_, offer0_.defaultLeasePeriod as defaultL3_45_, offer0_.defaultNetworkType as defaultN4_45_, offer0_.defaultServiceLevel as defaultS5_45_, offer0_.hypervisorType as hypervis6_45_, offer0_.icon as icon45_, offer0_.iconName as iconName45_, offer0_.image as image45_, offer0_.longDescription as longDes10_45_, offer0_.name as name45_, offer0_.price as price45_, offer0_.serviceType as service13_45_, offer0_.shortDescription as shortDe14_45_, offer0_.state as state45_, offer0_.virtualAppliance as virtual16_45_, offer0_.virtualDatacenter as virtual17_45_, offer0_.virtualDatacenterName as virtual18_45_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:05:52,543 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:05:54,979 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:05:54,979 INFO  ~ Enterprie ID for current User 
12:05:54,979 INFO  ~ CURRENT USER EMAIL ID: David
12:05:55,011 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:05:55,098 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:05:55,098 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id46_, offerpurch0_.expiration as expiration46_, offerpurch0_.idVirtualApplianceUser as idVirtua3_46_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_46_, offerpurch0_.leasePeriod as leasePer5_46_, offerpurch0_.offer_id as offer9_46_, offerpurch0_.serviceLevel as serviceL6_46_, offerpurch0_.start as start46_, offerpurch0_.user_idAbiquo as user10_46_, offerpurch0_.virtualApplianceState as virtualA8_46_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:05:55,099 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:05:55,099 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
12:05:56,842 INFO  ~ CURRENT USER EMAIL ID: David
12:05:56,842 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id45_, offer0_.datacenter as datacenter45_, offer0_.defaultLeasePeriod as defaultL3_45_, offer0_.defaultNetworkType as defaultN4_45_, offer0_.defaultServiceLevel as defaultS5_45_, offer0_.hypervisorType as hypervis6_45_, offer0_.icon as icon45_, offer0_.iconName as iconName45_, offer0_.image as image45_, offer0_.longDescription as longDes10_45_, offer0_.name as name45_, offer0_.price as price45_, offer0_.serviceType as service13_45_, offer0_.shortDescription as shortDe14_45_, offer0_.state as state45_, offer0_.virtualAppliance as virtual16_45_, offer0_.virtualDatacenter as virtual17_45_, offer0_.virtualDatacenterName as virtual18_45_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:05:56,844 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:06:03,500 INFO  ~ -----INSIDE Index()-----
12:06:03,501 DEBUG ~ /* load models.Offer */ select offer0_.id as id45_0_, offer0_.datacenter as datacenter45_0_, offer0_.defaultLeasePeriod as defaultL3_45_0_, offer0_.defaultNetworkType as defaultN4_45_0_, offer0_.defaultServiceLevel as defaultS5_45_0_, offer0_.hypervisorType as hypervis6_45_0_, offer0_.icon as icon45_0_, offer0_.iconName as iconName45_0_, offer0_.image as image45_0_, offer0_.longDescription as longDes10_45_0_, offer0_.name as name45_0_, offer0_.price as price45_0_, offer0_.serviceType as service13_45_0_, offer0_.shortDescription as shortDe14_45_0_, offer0_.state as state45_0_, offer0_.virtualAppliance as virtual16_45_0_, offer0_.virtualDatacenter as virtual17_45_0_, offer0_.virtualDatacenterName as virtual18_45_0_ from Offer offer0_ where offer0_.id=?
12:06:05,225 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
12:06:05,225 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
12:06:05,265 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:06:05,356 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
12:06:05,447 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:06:05,447 INFO  ~  vdcname : POR-David-2012-09-26 12:06:05.446
12:06:05,550 INFO  ~  VDC to deploy: 
12:06:05,550 INFO  ~  Hypervisor to deploy: 
12:06:05,605 INFO  ~  Datacenter to deploy: 
12:06:05,605 INFO  ~  Network Built
12:06:05,605 INFO  ~ VDC built  
12:06:07,540 INFO  ~  1. VDC CREATED 
12:06:07,769 INFO  ~  2. VAPP CREATED 
12:06:07,791 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo44_0_, userportal0_.email as email44_0_, userportal0_.idEnterprise as idEnterp3_44_0_, userportal0_.nick as nick44_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:06:07,826 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idEnterprise, nick, idAbiquo) values (?, ?, ?, ?)
12:06:07,827 INFO  ~ --------------------
12:06:07,827 DEBUG ~ /* load models.Offer */ select offer0_.id as id45_0_, offer0_.datacenter as datacenter45_0_, offer0_.defaultLeasePeriod as defaultL3_45_0_, offer0_.defaultNetworkType as defaultN4_45_0_, offer0_.defaultServiceLevel as defaultS5_45_0_, offer0_.hypervisorType as hypervis6_45_0_, offer0_.icon as icon45_0_, offer0_.iconName as iconName45_0_, offer0_.image as image45_0_, offer0_.longDescription as longDes10_45_0_, offer0_.name as name45_0_, offer0_.price as price45_0_, offer0_.serviceType as service13_45_0_, offer0_.shortDescription as shortDe14_45_0_, offer0_.state as state45_0_, offer0_.virtualAppliance as virtual16_45_0_, offer0_.virtualDatacenter as virtual17_45_0_, offer0_.virtualDatacenterName as virtual18_45_0_ from Offer offer0_ where offer0_.id=?
12:06:07,829 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
12:06:07,829 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id45_, offer0_.datacenter as datacenter45_, offer0_.defaultLeasePeriod as defaultL3_45_, offer0_.defaultNetworkType as defaultN4_45_, offer0_.defaultServiceLevel as defaultS5_45_, offer0_.hypervisorType as hypervis6_45_, offer0_.icon as icon45_, offer0_.iconName as iconName45_, offer0_.image as image45_, offer0_.longDescription as longDes10_45_, offer0_.name as name45_, offer0_.price as price45_, offer0_.serviceType as service13_45_, offer0_.shortDescription as shortDe14_45_, offer0_.state as state45_, offer0_.virtualAppliance as virtual16_45_, offer0_.virtualDatacenter as virtual17_45_, offer0_.virtualDatacenterName as virtual18_45_ from Offer offer0_ where offer0_.virtualAppliance=?
12:06:07,830 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
12:06:07,830 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_45_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_52_0_, nodes1_.cpu as cpu52_0_, nodes1_.description as descript3_52_0_, nodes1_.hd as hd52_0_, nodes1_.icon as icon52_0_, nodes1_.idImage as idImage52_0_, nodes1_.node_name as node7_52_0_, nodes1_.ram as ram52_0_, nodes1_1_.offer_id as offer1_53_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:06:08,272 INFO  ~  3. VM CREATED
12:06:08,273 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_52_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_50_0_, nodes_reso1_.resourceType as resource2_50_0_, nodes_reso1_.sequence as sequence50_0_, nodes_reso1_.value as value50_0_, nodes_reso1_1_.id_node as id1_51_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:06:08,480 INFO  ~  4. HARDDISKS ATTACHED 
12:06:08,490 INFO  ~  Handler created :
12:06:09,071 INFO  ~ STARTING MONITORING ......
12:06:09,071 INFO  ~ SAVING DEPLOY INFORMATION ......
12:06:09,072 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
12:06:09,074 INFO  ~ DEPLOY INFO SAVED ......
12:06:09,074 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
12:06:12,335 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:06:12,335 INFO  ~ Enterprie ID for current User 
12:06:12,335 INFO  ~ CURRENT USER EMAIL ID: David
12:06:12,371 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:06:12,445 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:06:12,445 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id46_, offerpurch0_.expiration as expiration46_, offerpurch0_.idVirtualApplianceUser as idVirtua3_46_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_46_, offerpurch0_.leasePeriod as leasePer5_46_, offerpurch0_.offer_id as offer9_46_, offerpurch0_.serviceLevel as serviceL6_46_, offerpurch0_.start as start46_, offerpurch0_.user_idAbiquo as user10_46_, offerpurch0_.virtualApplianceState as virtualA8_46_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:06:12,447 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:06:12,543 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
12:06:12,544 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
12:06:12,560 DEBUG ~ /* load models.Offer */ select offer0_.id as id45_0_, offer0_.datacenter as datacenter45_0_, offer0_.defaultLeasePeriod as defaultL3_45_0_, offer0_.defaultNetworkType as defaultN4_45_0_, offer0_.defaultServiceLevel as defaultS5_45_0_, offer0_.hypervisorType as hypervis6_45_0_, offer0_.icon as icon45_0_, offer0_.iconName as iconName45_0_, offer0_.image as image45_0_, offer0_.longDescription as longDes10_45_0_, offer0_.name as name45_0_, offer0_.price as price45_0_, offer0_.serviceType as service13_45_0_, offer0_.shortDescription as shortDe14_45_0_, offer0_.state as state45_0_, offer0_.virtualAppliance as virtual16_45_0_, offer0_.virtualDatacenter as virtual17_45_0_, offer0_.virtualDatacenterName as virtual18_45_0_ from Offer offer0_ where offer0_.id=?
12:06:17,608 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:06:17,609 INFO  ~ Enterprie ID for current User 
12:06:17,655 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:06:17,735 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id46_0_, offerpurch0_.expiration as expiration46_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_46_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_46_0_, offerpurch0_.leasePeriod as leasePer5_46_0_, offerpurch0_.offer_id as offer9_46_0_, offerpurch0_.serviceLevel as serviceL6_46_0_, offerpurch0_.start as start46_0_, offerpurch0_.user_idAbiquo as user10_46_0_, offerpurch0_.virtualApplianceState as virtualA8_46_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:06:17,737 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo44_0_, userportal0_.email as email44_0_, userportal0_.idEnterprise as idEnterp3_44_0_, userportal0_.nick as nick44_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:06:29,390 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
12:06:29,390 INFO  ~  CREATED VM : VirtualMachine [id=40, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_e4649f0d-b9f8-4e60-8a11-b3112423e907, password=vmpassword, ram=512, uuid=e4649f0d-b9f8-4e60-8a11-b3112423e907, vncAddress=null, vncPort=0]
12:06:29,423 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
12:06:29,423 INFO  ~ ------------------------- INSIDE getVMDetais()----------
12:06:29,423 INFO  ~  getVMDetais() params : vdc_id 37 vapp_id : 37 vm-id : 40
12:06:29,423 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_54_, mkt_config0_.deploy_enterprise_id as deploy2_54_, mkt_config0_.enterprise_name as enterprise3_54_, mkt_config0_.mkt_branding_css as mkt4_54_, mkt_config0_.mkt_branding_icon as mkt5_54_, mkt_config0_.mkt_deploy_pw as mkt6_54_, mkt_config0_.mkt_deploy_user as mkt7_54_, mkt_config0_.mkt_theme_css as mkt8_54_, mkt_config0_.mkt_url as mkt9_54_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
12:06:29,424 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
12:06:29,425 INFO  ~  AbiquoUtils context set to :null
12:06:29,425 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:10:05,187 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:10:05,221 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:10:05,342 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:10:05,360 INFO  ~ -----INSIDE Index()-----
12:10:08,127 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:10:08,127 INFO  ~ Enterprie ID for current User 
12:10:08,127 INFO  ~ CURRENT USER EMAIL ID: david
12:10:08,157 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:10:08,263 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:10:08,264 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id46_, offerpurch0_.expiration as expiration46_, offerpurch0_.idVirtualApplianceUser as idVirtua3_46_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_46_, offerpurch0_.leasePeriod as leasePer5_46_, offerpurch0_.offer_id as offer9_46_, offerpurch0_.serviceLevel as serviceL6_46_, offerpurch0_.start as start46_, offerpurch0_.user_idAbiquo as user10_46_, offerpurch0_.virtualApplianceState as virtualA8_46_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:10:08,265 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:10:08,377 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
12:10:08,378 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
12:10:08,379 DEBUG ~ /* load models.Offer */ select offer0_.id as id45_0_, offer0_.datacenter as datacenter45_0_, offer0_.defaultLeasePeriod as defaultL3_45_0_, offer0_.defaultNetworkType as defaultN4_45_0_, offer0_.defaultServiceLevel as defaultS5_45_0_, offer0_.hypervisorType as hypervis6_45_0_, offer0_.icon as icon45_0_, offer0_.iconName as iconName45_0_, offer0_.image as image45_0_, offer0_.longDescription as longDes10_45_0_, offer0_.name as name45_0_, offer0_.price as price45_0_, offer0_.serviceType as service13_45_0_, offer0_.shortDescription as shortDe14_45_0_, offer0_.state as state45_0_, offer0_.virtualAppliance as virtual16_45_0_, offer0_.virtualDatacenter as virtual17_45_0_, offer0_.virtualDatacenterName as virtual18_45_0_ from Offer offer0_ where offer0_.id=?
12:10:12,538 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:10:12,538 INFO  ~ Enterprie ID for current User 
12:10:12,570 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:10:12,649 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id46_0_, offerpurch0_.expiration as expiration46_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_46_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_46_0_, offerpurch0_.leasePeriod as leasePer5_46_0_, offerpurch0_.offer_id as offer9_46_0_, offerpurch0_.serviceLevel as serviceL6_46_0_, offerpurch0_.start as start46_0_, offerpurch0_.user_idAbiquo as user10_46_0_, offerpurch0_.virtualApplianceState as virtualA8_46_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:10:12,657 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo44_0_, userportal0_.email as email44_0_, userportal0_.idEnterprise as idEnterp3_44_0_, userportal0_.nick as nick44_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:17:29,728 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:17:29,728 ERROR ~ Table 'Deploy_Bundle' already exists
12:17:33,591 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:17:33,591 INFO  ~ Enterprie ID for current User 
12:17:33,631 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:17:33,683 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id68_0_, offerpurch0_.expiration as expiration68_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_0_, offerpurch0_.leasePeriod as leasePer5_68_0_, offerpurch0_.offer_id as offer9_68_0_, offerpurch0_.serviceLevel as serviceL6_68_0_, offerpurch0_.start as start68_0_, offerpurch0_.user_idAbiquo as user10_68_0_, offerpurch0_.virtualApplianceState as virtualA8_68_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:17:34,030 ERROR ~ 

@6bnj976jn
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=1

Execution exception (In /app/controllers/Mobile.java around line 248)
NullPointerException occured : null

play.exceptions.JavaExecutionException
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.NullPointerException
	at controllers.Mobile.manageOffer(Mobile.java:248)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
12:17:47,898 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:17:47,948 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:17:48,095 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
12:17:49,870 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:17:49,901 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:17:50,869 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:17:51,010 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.virtualAppliance=?
12:17:51,238 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:17:51,238 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:17:51,239 INFO  ~ resultSet1 size :0
12:17:51,239 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:17:51,239 INFO  ~  resultSet1 size []
12:17:51,239 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:17:52,698 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:17:52,857 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.virtualAppliance=?
12:17:52,906 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:17:52,906 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:17:52,907 INFO  ~ resultSet1 size :0
12:17:52,907 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:17:52,907 INFO  ~  resultSet1 size []
12:17:52,907 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:17:54,039 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:17:54,176 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.virtualAppliance=?
12:17:54,221 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:17:54,221 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:17:54,222 INFO  ~ resultSet1 size :0
12:17:54,222 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:17:54,222 INFO  ~  resultSet1 size []
12:17:54,222 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:17:55,392 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
12:17:55,427 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:17:55,493 INFO  ~  virtualDC  : diamond
12:17:55,593 INFO  ~  va  : diamond
12:17:55,764 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
12:18:00,619 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.id=? limit ?
12:18:00,628 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
12:18:00,628 INFO  ~ Session user in addToServiceCatalog(): admin
12:18:00,628 INFO  ~  and  vdc 1  & va_id : 1
12:18:00,628 INFO  ~  lease period 100 years
12:18:00,657 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:18:01,120 INFO  ~  description : fafadf
12:18:01,148 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
12:18:01,176 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:18:01,176 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
12:18:01,177 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:18:01,179 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
12:18:01,340 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:18:01,498 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.virtualAppliance=?
12:18:01,499 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:18:01,499 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:18:01,500 INFO  ~ resultSet1 size :1
12:18:01,500 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:18:01,500 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : server, Icon: play.db.jpa.Blob@6ed33792 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
12:18:01,500 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:18:01,541 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:18:01,541 INFO  ~  OfferID for icon 1
12:18:01,542 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
12:18:01,543 INFO  ~ ------------------------- EXITING displayIcon()---------
12:18:03,895 INFO  ~ -----INSIDE LOGOUT()-----
12:18:07,651 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:18:07,682 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:18:07,793 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:18:07,816 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:18:07,816 INFO  ~ Enterprie ID for current User 3
12:18:07,816 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:18:07,893 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:18:07,927 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:18:08,003 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:18:08,004 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id68_, offerpurch0_.expiration as expiration68_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_, offerpurch0_.leasePeriod as leasePer5_68_, offerpurch0_.offer_id as offer9_68_, offerpurch0_.serviceLevel as serviceL6_68_, offerpurch0_.start as start68_, offerpurch0_.user_idAbiquo as user10_68_, offerpurch0_.virtualApplianceState as virtualA8_68_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:18:08,005 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:18:08,626 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:18:08,626 INFO  ~ Enterprie ID for current User 3
12:18:08,627 INFO  ~ CURRENT USER EMAIL ID: david
12:18:08,627 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:18:08,628 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:18:08,946 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:18:08,946 INFO  ~  OfferID for icon 1
12:18:08,946 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
12:18:08,947 INFO  ~ ------------------------- EXITING displayIcon()---------
12:20:01,899 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:20:01,935 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:20:02,036 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:20:02,056 INFO  ~ -----INSIDE Index()-----
12:20:04,756 INFO  ~ CURRENT USER EMAIL ID: david
12:20:04,757 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:20:04,758 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:20:06,609 INFO  ~ -----INSIDE Index()-----
12:20:06,609 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
12:20:07,785 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
12:20:07,785 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
12:20:07,817 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:20:07,887 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  david  david
12:20:07,962 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:20:07,962 INFO  ~  vdcname : POR-david-2012-09-26 12:20:07.962
12:20:08,062 INFO  ~  VDC to deploy: 
12:20:08,062 INFO  ~  Hypervisor to deploy: 
12:20:08,103 INFO  ~  Datacenter to deploy: 
12:20:08,103 INFO  ~  Network Built
12:20:08,104 INFO  ~ VDC built  
12:20:09,352 INFO  ~  1. VDC CREATED 
12:20:09,544 INFO  ~  2. VAPP CREATED 
12:20:09,573 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo66_0_, userportal0_.email as email66_0_, userportal0_.idEnterprise as idEnterp3_66_0_, userportal0_.nick as nick66_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:20:09,620 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idEnterprise, nick, idAbiquo) values (?, ?, ?, ?)
12:20:09,621 INFO  ~ --------------------
12:20:09,621 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
12:20:09,623 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
12:20:09,623 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id67_, offer0_.datacenter as datacenter67_, offer0_.defaultLeasePeriod as defaultL3_67_, offer0_.defaultNetworkType as defaultN4_67_, offer0_.defaultServiceLevel as defaultS5_67_, offer0_.hypervisorType as hypervis6_67_, offer0_.icon as icon67_, offer0_.iconName as iconName67_, offer0_.image as image67_, offer0_.longDescription as longDes10_67_, offer0_.name as name67_, offer0_.price as price67_, offer0_.serviceType as service13_67_, offer0_.shortDescription as shortDe14_67_, offer0_.state as state67_, offer0_.virtualAppliance as virtual16_67_, offer0_.virtualDatacenter as virtual17_67_, offer0_.virtualDatacenterName as virtual18_67_ from Offer offer0_ where offer0_.virtualAppliance=?
12:20:09,624 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
12:20:09,624 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_67_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_74_0_, nodes1_.cpu as cpu74_0_, nodes1_.description as descript3_74_0_, nodes1_.hd as hd74_0_, nodes1_.icon as icon74_0_, nodes1_.idImage as idImage74_0_, nodes1_.node_name as node7_74_0_, nodes1_.ram as ram74_0_, nodes1_1_.offer_id as offer1_75_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:20:09,936 INFO  ~  3. VM CREATED
12:20:09,936 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_74_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_72_0_, nodes_reso1_.resourceType as resource2_72_0_, nodes_reso1_.sequence as sequence72_0_, nodes_reso1_.value as value72_0_, nodes_reso1_1_.id_node as id1_73_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:20:10,374 INFO  ~  4. HARDDISKS ATTACHED 
12:20:10,385 INFO  ~  Handler created :
12:20:10,665 INFO  ~ STARTING MONITORING ......
12:20:10,665 INFO  ~ SAVING DEPLOY INFORMATION ......
12:20:10,667 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
12:20:10,669 INFO  ~ DEPLOY INFO SAVED ......
12:20:10,669 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
12:20:12,330 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:20:12,330 INFO  ~ Enterprie ID for current User 
12:20:12,330 INFO  ~ CURRENT USER EMAIL ID: david
12:20:12,498 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:20:12,571 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:20:12,571 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id68_, offerpurch0_.expiration as expiration68_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_, offerpurch0_.leasePeriod as leasePer5_68_, offerpurch0_.offer_id as offer9_68_, offerpurch0_.serviceLevel as serviceL6_68_, offerpurch0_.start as start68_, offerpurch0_.user_idAbiquo as user10_68_, offerpurch0_.virtualApplianceState as virtualA8_68_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:20:12,573 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:20:12,671 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
12:20:12,673 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
12:20:12,788 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
12:20:15,752 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:20:15,752 INFO  ~ Enterprie ID for current User 
12:20:15,780 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:20:15,860 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id68_0_, offerpurch0_.expiration as expiration68_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_0_, offerpurch0_.leasePeriod as leasePer5_68_0_, offerpurch0_.offer_id as offer9_68_0_, offerpurch0_.serviceLevel as serviceL6_68_0_, offerpurch0_.start as start68_0_, offerpurch0_.user_idAbiquo as user10_68_0_, offerpurch0_.virtualApplianceState as virtualA8_68_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:20:15,861 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo66_0_, userportal0_.email as email66_0_, userportal0_.idEnterprise as idEnterp3_66_0_, userportal0_.nick as nick66_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:20:16,218 ERROR ~ 

@6bnj976jp
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=1

Template compilation error (In /app/views/Mobile/manageOffer.html around line 37)
The template /app/views/Mobile/manageOffer.html does not compile : unexpected token:  data-role= 

play.exceptions.TemplateCompilationException: unexpected token:  data-role= 
	at play.templates.GroovyTemplate.compile(GroovyTemplate.java:174)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:195)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.manageOffer(Mobile.java:278)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:20:18,467 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:20:18,467 INFO  ~ Enterprie ID for current User 
12:20:18,499 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:20:18,578 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id68_0_, offerpurch0_.expiration as expiration68_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_0_, offerpurch0_.leasePeriod as leasePer5_68_0_, offerpurch0_.offer_id as offer9_68_0_, offerpurch0_.serviceLevel as serviceL6_68_0_, offerpurch0_.start as start68_0_, offerpurch0_.user_idAbiquo as user10_68_0_, offerpurch0_.virtualApplianceState as virtualA8_68_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:20:18,580 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo66_0_, userportal0_.email as email66_0_, userportal0_.idEnterprise as idEnterp3_66_0_, userportal0_.nick as nick66_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:20:18,809 ERROR ~ 

@6bnj976k0
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=1

Template compilation error (In /app/views/Mobile/manageOffer.html around line 37)
The template /app/views/Mobile/manageOffer.html does not compile : unexpected token:  data-role= 

play.exceptions.TemplateCompilationException: unexpected token:  data-role= 
	at play.templates.GroovyTemplate.compile(GroovyTemplate.java:174)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:195)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.manageOffer(Mobile.java:278)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:20:20,920 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:20:20,920 INFO  ~ Enterprie ID for current User 
12:20:20,952 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:20:21,020 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id68_0_, offerpurch0_.expiration as expiration68_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_0_, offerpurch0_.leasePeriod as leasePer5_68_0_, offerpurch0_.offer_id as offer9_68_0_, offerpurch0_.serviceLevel as serviceL6_68_0_, offerpurch0_.start as start68_0_, offerpurch0_.user_idAbiquo as user10_68_0_, offerpurch0_.virtualApplianceState as virtualA8_68_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:20:21,022 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo66_0_, userportal0_.email as email66_0_, userportal0_.idEnterprise as idEnterp3_66_0_, userportal0_.nick as nick66_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:20:21,220 ERROR ~ 

@6bnj976k1
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=1

Template compilation error (In /app/views/Mobile/manageOffer.html around line 37)
The template /app/views/Mobile/manageOffer.html does not compile : unexpected token:  data-role= 

play.exceptions.TemplateCompilationException: unexpected token:  data-role= 
	at play.templates.GroovyTemplate.compile(GroovyTemplate.java:174)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:195)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.manageOffer(Mobile.java:278)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:20:25,921 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
12:20:25,921 INFO  ~  CREATED VM : VirtualMachine [id=41, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_614ba64d-cc62-4290-8d8e-02a41a75e417, password=vmpassword, ram=512, uuid=614ba64d-cc62-4290-8d8e-02a41a75e417, vncAddress=null, vncPort=0]
12:20:25,970 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
12:20:25,970 INFO  ~ ------------------------- INSIDE getVMDetais()----------
12:20:25,970 INFO  ~  getVMDetais() params : vdc_id 38 vapp_id : 38 vm-id : 41
12:20:25,979 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_76_, mkt_config0_.deploy_enterprise_id as deploy2_76_, mkt_config0_.enterprise_name as enterprise3_76_, mkt_config0_.mkt_branding_css as mkt4_76_, mkt_config0_.mkt_branding_icon as mkt5_76_, mkt_config0_.mkt_deploy_pw as mkt6_76_, mkt_config0_.mkt_deploy_user as mkt7_76_, mkt_config0_.mkt_theme_css as mkt8_76_, mkt_config0_.mkt_url as mkt9_76_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
12:20:25,980 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
12:20:25,980 INFO  ~  AbiquoUtils context set to :null
12:20:25,980 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:21:37,455 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:21:37,455 INFO  ~ Enterprie ID for current User 
12:21:37,455 INFO  ~ CURRENT USER EMAIL ID: david
12:21:37,488 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:21:37,569 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:21:37,569 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id68_, offerpurch0_.expiration as expiration68_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_, offerpurch0_.leasePeriod as leasePer5_68_, offerpurch0_.offer_id as offer9_68_, offerpurch0_.serviceLevel as serviceL6_68_, offerpurch0_.start as start68_, offerpurch0_.user_idAbiquo as user10_68_, offerpurch0_.virtualApplianceState as virtualA8_68_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:21:37,571 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:21:37,684 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
12:21:37,686 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
12:21:37,688 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
12:21:39,269 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:21:39,270 INFO  ~ Enterprie ID for current User 
12:21:39,301 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:21:39,388 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id68_0_, offerpurch0_.expiration as expiration68_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_0_, offerpurch0_.leasePeriod as leasePer5_68_0_, offerpurch0_.offer_id as offer9_68_0_, offerpurch0_.serviceLevel as serviceL6_68_0_, offerpurch0_.start as start68_0_, offerpurch0_.user_idAbiquo as user10_68_0_, offerpurch0_.virtualApplianceState as virtualA8_68_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:21:39,390 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo66_0_, userportal0_.email as email66_0_, userportal0_.idEnterprise as idEnterp3_66_0_, userportal0_.nick as nick66_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:21:48,861 INFO  ~ -----INSIDE Index()-----
12:21:48,901 INFO  ~ -----INSIDE Index()-----
12:21:48,901 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
12:23:40,732 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:23:40,764 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:23:40,904 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:23:40,957 INFO  ~ -----INSIDE Index()-----
12:23:42,205 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:23:42,205 INFO  ~ Enterprie ID for current User 
12:23:50,892 INFO  ~ CURRENT USER EMAIL ID: david
12:23:50,922 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:23:51,015 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:23:51,016 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id68_, offerpurch0_.expiration as expiration68_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_, offerpurch0_.leasePeriod as leasePer5_68_, offerpurch0_.offer_id as offer9_68_, offerpurch0_.serviceLevel as serviceL6_68_, offerpurch0_.start as start68_, offerpurch0_.user_idAbiquo as user10_68_, offerpurch0_.virtualApplianceState as virtualA8_68_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:23:51,017 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:23:51,146 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
12:23:51,148 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
12:23:55,193 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:23:55,193 INFO  ~ Enterprie ID for current User 
12:23:55,235 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:23:55,331 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id68_0_, offerpurch0_.expiration as expiration68_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_0_, offerpurch0_.leasePeriod as leasePer5_68_0_, offerpurch0_.offer_id as offer9_68_0_, offerpurch0_.serviceLevel as serviceL6_68_0_, offerpurch0_.start as start68_0_, offerpurch0_.user_idAbiquo as user10_68_0_, offerpurch0_.virtualApplianceState as virtualA8_68_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:23:55,332 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo66_0_, userportal0_.email as email66_0_, userportal0_.idEnterprise as idEnterp3_66_0_, userportal0_.nick as nick66_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:23:58,115 INFO  ~ -----INSIDE Index()-----
12:24:52,207 INFO  ~ -----INSIDE Index()-----
12:24:52,208 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
12:25:22,042 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:25:22,077 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:25:22,219 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:25:22,242 INFO  ~ -----INSIDE Index()-----
12:25:24,390 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:25:24,390 INFO  ~ Enterprie ID for current User 
12:25:24,390 INFO  ~ CURRENT USER EMAIL ID: david
12:25:24,420 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:25:24,510 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:25:24,511 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id68_, offerpurch0_.expiration as expiration68_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_, offerpurch0_.leasePeriod as leasePer5_68_, offerpurch0_.offer_id as offer9_68_, offerpurch0_.serviceLevel as serviceL6_68_, offerpurch0_.start as start68_, offerpurch0_.user_idAbiquo as user10_68_, offerpurch0_.virtualApplianceState as virtualA8_68_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:25:24,512 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:25:24,715 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
12:25:24,717 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
12:25:26,114 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:25:26,114 INFO  ~ Enterprie ID for current User 
12:25:26,143 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:25:26,243 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id68_0_, offerpurch0_.expiration as expiration68_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_0_, offerpurch0_.leasePeriod as leasePer5_68_0_, offerpurch0_.offer_id as offer9_68_0_, offerpurch0_.serviceLevel as serviceL6_68_0_, offerpurch0_.start as start68_0_, offerpurch0_.user_idAbiquo as user10_68_0_, offerpurch0_.virtualApplianceState as virtualA8_68_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:25:26,245 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo66_0_, userportal0_.email as email66_0_, userportal0_.idEnterprise as idEnterp3_66_0_, userportal0_.nick as nick66_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:25:31,039 INFO  ~ -----INSIDE Index()-----
12:25:31,060 INFO  ~ -----INSIDE Index()-----
12:25:31,060 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
12:25:31,139 ERROR ~ 

@6bnj976k3
Internal Server Error (500) for request GET /mobile/resetConfirmation?offerId=1

No route found (In /app/views/Mobile/resetConfirmation.html around line 25)
No route able to invoke action Mobile.resetOffer with arguments {} was found.

play.exceptions.NoRouteFoundException: No route found
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:82)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:242)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.resetConfirmation(Mobile.java:592)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:26:08,977 INFO  ~ -----INSIDE Index()-----
12:26:08,988 INFO  ~ -----INSIDE Index()-----
12:26:08,988 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
12:26:09,051 ERROR ~ 

@6bnj976k5
Internal Server Error (500) for request GET /mobile/deteteConfirmation?offerId=1

No route found (In /app/views/Mobile/deleteConfirmation.html around line 25)
No route able to invoke action Mobile.deleteOffer with arguments {} was found.

play.exceptions.NoRouteFoundException: No route found
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:82)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:242)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.deleteConfirmation(Mobile.java:608)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:26:15,094 INFO  ~ -----INSIDE Index()-----
12:26:15,115 INFO  ~ -----INSIDE Index()-----
12:26:15,116 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
12:26:15,126 ERROR ~ 

@6bnj976k7
Internal Server Error (500) for request GET /mobile/resetConfirmation?offerId=1

No route found (In /app/views/Mobile/resetConfirmation.html around line 25)
No route able to invoke action Mobile.resetOffer with arguments {} was found.

play.exceptions.NoRouteFoundException: No route found
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:82)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:242)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.resetConfirmation(Mobile.java:592)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:28:28,515 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:28:28,515 INFO  ~ Enterprie ID for current User 
12:28:28,544 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:28:28,676 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id68_0_, offerpurch0_.expiration as expiration68_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_0_, offerpurch0_.leasePeriod as leasePer5_68_0_, offerpurch0_.offer_id as offer9_68_0_, offerpurch0_.serviceLevel as serviceL6_68_0_, offerpurch0_.start as start68_0_, offerpurch0_.user_idAbiquo as user10_68_0_, offerpurch0_.virtualApplianceState as virtualA8_68_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:28:28,678 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo66_0_, userportal0_.email as email66_0_, userportal0_.idEnterprise as idEnterp3_66_0_, userportal0_.nick as nick66_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:28:30,757 INFO  ~ -----INSIDE Index()-----
12:28:39,245 INFO  ~ -----INSIDE Index()-----
12:28:44,086 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
12:28:50,941 ERROR ~ 

@6bnj976k9
Internal Server Error (500) for request GET /mobile/resetConfirmation?offerId=1

No route found (In /app/views/Mobile/resetConfirmation.html around line 25)
No route able to invoke action Mobile.resetOffer with arguments {} was found.

play.exceptions.NoRouteFoundException: No route found
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:82)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:242)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.resetConfirmation(Mobile.java:592)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:29:59,307 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:29:59,307 INFO  ~ Enterprie ID for current User 
12:29:59,355 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:29:59,450 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id68_0_, offerpurch0_.expiration as expiration68_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_68_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_68_0_, offerpurch0_.leasePeriod as leasePer5_68_0_, offerpurch0_.offer_id as offer9_68_0_, offerpurch0_.serviceLevel as serviceL6_68_0_, offerpurch0_.start as start68_0_, offerpurch0_.user_idAbiquo as user10_68_0_, offerpurch0_.virtualApplianceState as virtualA8_68_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:29:59,452 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo66_0_, userportal0_.email as email66_0_, userportal0_.idEnterprise as idEnterp3_66_0_, userportal0_.nick as nick66_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:30:12,453 INFO  ~ -----INSIDE Index()-----
12:30:14,750 INFO  ~ -----INSIDE Index()-----
12:30:17,870 DEBUG ~ /* load models.Offer */ select offer0_.id as id67_0_, offer0_.datacenter as datacenter67_0_, offer0_.defaultLeasePeriod as defaultL3_67_0_, offer0_.defaultNetworkType as defaultN4_67_0_, offer0_.defaultServiceLevel as defaultS5_67_0_, offer0_.hypervisorType as hypervis6_67_0_, offer0_.icon as icon67_0_, offer0_.iconName as iconName67_0_, offer0_.image as image67_0_, offer0_.longDescription as longDes10_67_0_, offer0_.name as name67_0_, offer0_.price as price67_0_, offer0_.serviceType as service13_67_0_, offer0_.shortDescription as shortDe14_67_0_, offer0_.state as state67_0_, offer0_.virtualAppliance as virtual16_67_0_, offer0_.virtualDatacenter as virtual17_67_0_, offer0_.virtualDatacenterName as virtual18_67_0_ from Offer offer0_ where offer0_.id=?
12:30:17,881 ERROR ~ 

@6bnj976kb
Internal Server Error (500) for request GET /mobile/resetConfirmation?offerId=1

No route found (In /app/views/Mobile/resetConfirmation.html around line 25)
No route able to invoke action Mobile.resetOffer with arguments {} was found.

play.exceptions.NoRouteFoundException: No route found
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:82)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:242)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.resetConfirmation(Mobile.java:592)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:34:15,507 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:34:15,507 ERROR ~ Table 'Deploy_Bundle' already exists
12:34:18,722 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:34:18,722 INFO  ~ Enterprie ID for current User 
12:34:18,754 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:34:18,868 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id90_0_, offerpurch0_.expiration as expiration90_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_0_, offerpurch0_.leasePeriod as leasePer5_90_0_, offerpurch0_.offer_id as offer9_90_0_, offerpurch0_.serviceLevel as serviceL6_90_0_, offerpurch0_.start as start90_0_, offerpurch0_.user_idAbiquo as user10_90_0_, offerpurch0_.virtualApplianceState as virtualA8_90_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:34:18,930 ERROR ~ 

@6bnj976kc
Internal Server Error (500) for request GET /mobile/manageOffer?offerPurchasedId=1

Execution exception (In /app/controllers/Mobile.java around line 248)
NullPointerException occured : null

play.exceptions.JavaExecutionException
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.NullPointerException
	at controllers.Mobile.manageOffer(Mobile.java:248)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
12:35:29,158 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:35:29,158 INFO  ~ Enterprie ID for current User 3
12:35:30,765 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:35:30,765 INFO  ~ Enterprie ID for current User 3
12:35:38,761 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:35:38,799 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:35:39,358 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
12:35:42,003 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:35:42,033 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:35:42,687 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:35:42,909 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ where offer0_.virtualAppliance=?
12:35:42,991 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:35:42,991 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:35:42,992 INFO  ~ resultSet1 size :0
12:35:42,992 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:35:42,992 INFO  ~  resultSet1 size []
12:35:42,993 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:35:44,045 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
12:35:44,088 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:35:44,177 INFO  ~  virtualDC  : diamond
12:35:44,350 INFO  ~  va  : diamond
12:35:44,579 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
12:35:50,098 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ where offer0_.id=? limit ?
12:35:50,110 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
12:35:50,110 INFO  ~ Session user in addToServiceCatalog(): admin
12:35:50,110 INFO  ~  and  vdc 1  & va_id : 1
12:35:50,110 INFO  ~  lease period 100 years
12:35:50,141 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:35:51,262 INFO  ~  description : dfsdfsdf
12:35:51,284 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
12:35:51,287 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:35:51,288 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
12:35:51,288 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:35:51,289 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
12:35:51,413 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:35:51,725 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ where offer0_.virtualAppliance=?
12:35:51,727 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:35:51,727 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:35:51,728 INFO  ~ resultSet1 size :1
12:35:51,728 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:35:51,729 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : server, Icon: play.db.jpa.Blob@33adcba4 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
12:35:51,729 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:35:51,775 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:35:51,775 INFO  ~  OfferID for icon 1
12:35:51,775 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
12:35:51,777 INFO  ~ ------------------------- EXITING displayIcon()---------
12:36:19,650 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:36:19,697 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:36:19,869 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:36:20,014 INFO  ~ -----INSIDE Index()-----
12:36:22,764 INFO  ~ CURRENT USER EMAIL ID: David
12:36:22,764 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:36:22,766 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:36:25,577 INFO  ~ -----INSIDE Index()-----
12:36:25,577 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
12:36:27,433 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
12:36:27,433 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
12:36:27,476 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:36:27,688 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
12:36:27,803 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:36:27,803 INFO  ~  vdcname : POR-David-2012-09-26 12:36:27.802
12:36:27,941 INFO  ~  VDC to deploy: 
12:36:27,941 INFO  ~  Hypervisor to deploy: 
12:36:28,005 INFO  ~  Datacenter to deploy: 
12:36:28,005 INFO  ~  Network Built
12:36:28,006 INFO  ~ VDC built  
12:36:29,341 INFO  ~  1. VDC CREATED 
12:36:29,620 INFO  ~  2. VAPP CREATED 
12:36:29,664 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo88_0_, userportal0_.email as email88_0_, userportal0_.idEnterprise as idEnterp3_88_0_, userportal0_.nick as nick88_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:36:29,726 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idEnterprise, nick, idAbiquo) values (?, ?, ?, ?)
12:36:29,727 INFO  ~ --------------------
12:36:29,727 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
12:36:29,729 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
12:36:29,729 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id89_, offer0_.datacenter as datacenter89_, offer0_.defaultLeasePeriod as defaultL3_89_, offer0_.defaultNetworkType as defaultN4_89_, offer0_.defaultServiceLevel as defaultS5_89_, offer0_.hypervisorType as hypervis6_89_, offer0_.icon as icon89_, offer0_.iconName as iconName89_, offer0_.image as image89_, offer0_.longDescription as longDes10_89_, offer0_.name as name89_, offer0_.price as price89_, offer0_.serviceType as service13_89_, offer0_.shortDescription as shortDe14_89_, offer0_.state as state89_, offer0_.virtualAppliance as virtual16_89_, offer0_.virtualDatacenter as virtual17_89_, offer0_.virtualDatacenterName as virtual18_89_ from Offer offer0_ where offer0_.virtualAppliance=?
12:36:29,730 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
12:36:29,730 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_89_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_96_0_, nodes1_.cpu as cpu96_0_, nodes1_.description as descript3_96_0_, nodes1_.hd as hd96_0_, nodes1_.icon as icon96_0_, nodes1_.idImage as idImage96_0_, nodes1_.node_name as node7_96_0_, nodes1_.ram as ram96_0_, nodes1_1_.offer_id as offer1_97_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:36:30,510 INFO  ~  3. VM CREATED
12:36:30,511 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_96_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_94_0_, nodes_reso1_.resourceType as resource2_94_0_, nodes_reso1_.sequence as sequence94_0_, nodes_reso1_.value as value94_0_, nodes_reso1_1_.id_node as id1_95_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:36:30,778 INFO  ~  4. HARDDISKS ATTACHED 
12:36:30,779 INFO  ~  Handler created :
12:36:31,149 INFO  ~ STARTING MONITORING ......
12:36:31,150 INFO  ~ SAVING DEPLOY INFORMATION ......
12:36:31,151 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
12:36:31,153 INFO  ~ DEPLOY INFO SAVED ......
12:36:31,153 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
12:36:33,185 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:36:33,185 INFO  ~ Enterprie ID for current User 
12:36:33,185 INFO  ~ CURRENT USER EMAIL ID: David
12:36:33,228 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:36:33,333 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:36:33,333 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id90_, offerpurch0_.expiration as expiration90_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_, offerpurch0_.leasePeriod as leasePer5_90_, offerpurch0_.offer_id as offer9_90_, offerpurch0_.serviceLevel as serviceL6_90_, offerpurch0_.start as start90_, offerpurch0_.user_idAbiquo as user10_90_, offerpurch0_.virtualApplianceState as virtualA8_90_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:36:33,336 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:36:33,536 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
12:36:33,538 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
12:36:33,577 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
12:36:37,078 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:36:37,078 INFO  ~ Enterprie ID for current User 
12:36:37,111 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:36:37,188 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id90_0_, offerpurch0_.expiration as expiration90_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_0_, offerpurch0_.leasePeriod as leasePer5_90_0_, offerpurch0_.offer_id as offer9_90_0_, offerpurch0_.serviceLevel as serviceL6_90_0_, offerpurch0_.start as start90_0_, offerpurch0_.user_idAbiquo as user10_90_0_, offerpurch0_.virtualApplianceState as virtualA8_90_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:36:37,190 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo88_0_, userportal0_.email as email88_0_, userportal0_.idEnterprise as idEnterp3_88_0_, userportal0_.nick as nick88_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:36:43,904 INFO  ~ -----INSIDE Index()-----
12:36:43,932 INFO  ~ -----INSIDE Index()-----
12:36:43,950 ERROR ~ 

@6bnj976kf
Internal Server Error (500) for request GET /mobile/resetConfirmation?purchasedOfferId=1

No route found (In /app/views/Mobile/resetConfirmation.html around line 25)
No route able to invoke action Mobile.resetOffer with arguments {purchasedOfferId=1} was found.

play.exceptions.NoRouteFoundException: No route found
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:82)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:242)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.resetConfirmation(Mobile.java:591)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:36:46,555 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
12:36:46,555 INFO  ~  CREATED VM : VirtualMachine [id=42, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_8845ac61-1c92-4ae5-bfcb-98def5577e63, password=vmpassword, ram=512, uuid=8845ac61-1c92-4ae5-bfcb-98def5577e63, vncAddress=null, vncPort=0]
12:36:46,617 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
12:36:46,617 INFO  ~ ------------------------- INSIDE getVMDetais()----------
12:36:46,617 INFO  ~  getVMDetais() params : vdc_id 39 vapp_id : 39 vm-id : 42
12:36:46,618 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_98_, mkt_config0_.deploy_enterprise_id as deploy2_98_, mkt_config0_.enterprise_name as enterprise3_98_, mkt_config0_.mkt_branding_css as mkt4_98_, mkt_config0_.mkt_branding_icon as mkt5_98_, mkt_config0_.mkt_deploy_pw as mkt6_98_, mkt_config0_.mkt_deploy_user as mkt7_98_, mkt_config0_.mkt_theme_css as mkt8_98_, mkt_config0_.mkt_url as mkt9_98_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
12:36:46,619 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
12:36:46,619 INFO  ~  AbiquoUtils context set to :null
12:36:46,619 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:36:46,853 INFO  ~ -----INSIDE Index()-----
12:36:46,875 INFO  ~ -----INSIDE Index()-----
12:36:46,918 ERROR ~ 

@6bnj976kh
Internal Server Error (500) for request GET /mobile/deleteConfirmation?purchasedOfferId=1

No route found (In /app/views/Mobile/deleteConfirmation.html around line 25)
No route able to invoke action Mobile.deleteOffer with arguments {} was found.

play.exceptions.NoRouteFoundException: No route found
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:82)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:242)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.deleteConfirmation(Mobile.java:606)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:37:00,271 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:37:00,302 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:37:00,461 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:37:00,481 INFO  ~ -----INSIDE Index()-----
12:37:02,066 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:37:02,066 INFO  ~ Enterprie ID for current User 
12:37:02,066 INFO  ~ CURRENT USER EMAIL ID: david
12:37:02,100 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:37:02,198 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:37:02,198 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id90_, offerpurch0_.expiration as expiration90_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_, offerpurch0_.leasePeriod as leasePer5_90_, offerpurch0_.offer_id as offer9_90_, offerpurch0_.serviceLevel as serviceL6_90_, offerpurch0_.start as start90_, offerpurch0_.user_idAbiquo as user10_90_, offerpurch0_.virtualApplianceState as virtualA8_90_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:37:02,200 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:37:02,420 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
12:37:02,421 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
12:37:02,423 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
12:37:05,374 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:37:05,374 INFO  ~ Enterprie ID for current User 
12:37:05,406 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:37:05,491 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id90_0_, offerpurch0_.expiration as expiration90_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_0_, offerpurch0_.leasePeriod as leasePer5_90_0_, offerpurch0_.offer_id as offer9_90_0_, offerpurch0_.serviceLevel as serviceL6_90_0_, offerpurch0_.start as start90_0_, offerpurch0_.user_idAbiquo as user10_90_0_, offerpurch0_.virtualApplianceState as virtualA8_90_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:37:05,492 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo88_0_, userportal0_.email as email88_0_, userportal0_.idEnterprise as idEnterp3_88_0_, userportal0_.nick as nick88_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:37:06,974 INFO  ~ -----INSIDE Index()-----
12:37:07,001 INFO  ~ -----INSIDE Index()-----
12:37:07,005 ERROR ~ 

@6bnj976kj
Internal Server Error (500) for request GET /mobile/resetConfirmation?purchasedOfferId=1

No route found (In /app/views/Mobile/resetConfirmation.html around line 25)
No route able to invoke action Mobile.resetOffer with arguments {purchasedOfferId=1} was found.

play.exceptions.NoRouteFoundException: No route found
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:82)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:242)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.resetConfirmation(Mobile.java:591)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:37:32,588 INFO  ~ -----INSIDE Index()-----
12:37:32,602 INFO  ~ -----INSIDE Index()-----
12:37:32,610 ERROR ~ 

@6bnj976kl
Internal Server Error (500) for request GET /mobile/resetConfirmation?purchasedOfferId=1

No route found (In /app/views/Mobile/resetConfirmation.html around line 25)
No route able to invoke action Mobile.resetOffer with arguments {purchasedOfferId=1} was found.

play.exceptions.NoRouteFoundException: No route found
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:82)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:242)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.resetConfirmation(Mobile.java:591)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:37:33,327 INFO  ~ -----INSIDE Index()-----
12:37:33,338 INFO  ~ -----INSIDE Index()-----
12:37:33,344 ERROR ~ 

@6bnj976kn
Internal Server Error (500) for request GET /mobile/resetConfirmation?purchasedOfferId=1

No route found (In /app/views/Mobile/resetConfirmation.html around line 25)
No route able to invoke action Mobile.resetOffer with arguments {purchasedOfferId=1} was found.

play.exceptions.NoRouteFoundException: No route found
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:82)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:242)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.resetConfirmation(Mobile.java:591)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:37:33,796 INFO  ~ -----INSIDE Index()-----
12:37:33,808 INFO  ~ -----INSIDE Index()-----
12:37:33,822 ERROR ~ 

@6bnj976kp
Internal Server Error (500) for request GET /mobile/resetConfirmation?purchasedOfferId=1

No route found (In /app/views/Mobile/resetConfirmation.html around line 25)
No route able to invoke action Mobile.resetOffer with arguments {purchasedOfferId=1} was found.

play.exceptions.NoRouteFoundException: No route found
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:82)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:242)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.resetConfirmation(Mobile.java:591)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:37:36,304 INFO  ~ -----INSIDE Index()-----
12:37:36,317 INFO  ~ -----INSIDE Index()-----
12:37:36,326 ERROR ~ 

@6bnj976l1
Internal Server Error (500) for request GET /mobile/resetConfirmation?purchasedOfferId=1

No route found (In /app/views/Mobile/resetConfirmation.html around line 25)
No route able to invoke action Mobile.resetOffer with arguments {purchasedOfferId=1} was found.

play.exceptions.NoRouteFoundException: No route found
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:82)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:242)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.resetConfirmation(Mobile.java:591)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:37:37,107 INFO  ~ -----INSIDE Index()-----
12:37:37,117 INFO  ~ -----INSIDE Index()-----
12:37:37,123 ERROR ~ 

@6bnj976l3
Internal Server Error (500) for request GET /mobile/resetConfirmation?purchasedOfferId=1

No route found (In /app/views/Mobile/resetConfirmation.html around line 25)
No route able to invoke action Mobile.resetOffer with arguments {purchasedOfferId=1} was found.

play.exceptions.NoRouteFoundException: No route found
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:82)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:242)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Mobile.resetConfirmation(Mobile.java:591)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:40:17,048 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:40:17,048 INFO  ~ Enterprie ID for current User 
12:40:17,075 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
12:40:17,188 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id90_0_, offerpurch0_.expiration as expiration90_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_0_, offerpurch0_.leasePeriod as leasePer5_90_0_, offerpurch0_.offer_id as offer9_90_0_, offerpurch0_.serviceLevel as serviceL6_90_0_, offerpurch0_.start as start90_0_, offerpurch0_.user_idAbiquo as user10_90_0_, offerpurch0_.virtualApplianceState as virtualA8_90_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:40:17,190 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo88_0_, userportal0_.email as email88_0_, userportal0_.idEnterprise as idEnterp3_88_0_, userportal0_.nick as nick88_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:40:24,249 INFO  ~ -----INSIDE Index()-----
12:40:26,722 INFO  ~ -----INSIDE Index()-----
12:40:46,838 INFO  ~ -----INSIDE Index()-----
12:40:49,063 INFO  ~ -----INSIDE Index()-----
12:41:23,186 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:41:23,219 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:41:23,410 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:41:23,628 INFO  ~ -----INSIDE Index()-----
12:41:25,735 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:41:25,735 INFO  ~ Enterprie ID for current User 
12:41:25,736 INFO  ~ CURRENT USER EMAIL ID: David
12:41:25,781 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:41:25,889 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:41:25,889 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id90_, offerpurch0_.expiration as expiration90_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_, offerpurch0_.leasePeriod as leasePer5_90_, offerpurch0_.offer_id as offer9_90_, offerpurch0_.serviceLevel as serviceL6_90_, offerpurch0_.start as start90_, offerpurch0_.user_idAbiquo as user10_90_, offerpurch0_.virtualApplianceState as virtualA8_90_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:41:25,891 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:41:26,116 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
12:41:26,118 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
12:41:27,895 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:41:27,895 INFO  ~ Enterprie ID for current User 
12:41:27,929 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:41:28,019 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id90_0_, offerpurch0_.expiration as expiration90_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_0_, offerpurch0_.leasePeriod as leasePer5_90_0_, offerpurch0_.offer_id as offer9_90_0_, offerpurch0_.serviceLevel as serviceL6_90_0_, offerpurch0_.start as start90_0_, offerpurch0_.user_idAbiquo as user10_90_0_, offerpurch0_.virtualApplianceState as virtualA8_90_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:41:28,021 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo88_0_, userportal0_.email as email88_0_, userportal0_.idEnterprise as idEnterp3_88_0_, userportal0_.nick as nick88_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:41:31,414 INFO  ~ -----INSIDE Index()-----
12:41:31,449 INFO  ~ -----INSIDE Index()-----
12:41:36,694 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:41:36,694 INFO  ~ Enterprie ID for current User 
12:41:36,723 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:41:36,831 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id90_0_, offerpurch0_.expiration as expiration90_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_0_, offerpurch0_.leasePeriod as leasePer5_90_0_, offerpurch0_.offer_id as offer9_90_0_, offerpurch0_.serviceLevel as serviceL6_90_0_, offerpurch0_.start as start90_0_, offerpurch0_.user_idAbiquo as user10_90_0_, offerpurch0_.virtualApplianceState as virtualA8_90_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:41:36,833 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo88_0_, userportal0_.email as email88_0_, userportal0_.idEnterprise as idEnterp3_88_0_, userportal0_.nick as nick88_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:42:40,883 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:42:40,937 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:42:41,120 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:42:41,236 INFO  ~ -----INSIDE Index()-----
12:42:43,050 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:42:43,050 INFO  ~ Enterprie ID for current User 
12:42:43,050 INFO  ~ CURRENT USER EMAIL ID: David
12:42:43,092 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:42:43,201 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:42:43,202 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id90_, offerpurch0_.expiration as expiration90_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_, offerpurch0_.leasePeriod as leasePer5_90_, offerpurch0_.offer_id as offer9_90_, offerpurch0_.serviceLevel as serviceL6_90_, offerpurch0_.start as start90_, offerpurch0_.user_idAbiquo as user10_90_, offerpurch0_.virtualApplianceState as virtualA8_90_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:42:43,206 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:42:43,410 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
12:42:43,411 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
12:42:45,492 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:42:45,492 INFO  ~ Enterprie ID for current User 
12:42:45,529 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:42:45,622 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id90_0_, offerpurch0_.expiration as expiration90_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_0_, offerpurch0_.leasePeriod as leasePer5_90_0_, offerpurch0_.offer_id as offer9_90_0_, offerpurch0_.serviceLevel as serviceL6_90_0_, offerpurch0_.start as start90_0_, offerpurch0_.user_idAbiquo as user10_90_0_, offerpurch0_.virtualApplianceState as virtualA8_90_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:42:45,624 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo88_0_, userportal0_.email as email88_0_, userportal0_.idEnterprise as idEnterp3_88_0_, userportal0_.nick as nick88_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:42:48,524 INFO  ~ -----INSIDE Index()-----
12:42:48,545 INFO  ~ -----INSIDE Index()-----
12:42:50,873 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
12:42:50,908 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:42:51,025 INFO  ~  UNDEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
12:42:51,122 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:42:51,122 INFO  ~  vdcname : POR-David-2012-09-26 12:42:51.122
12:42:51,122 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id90_0_, offerpurch0_.expiration as expiration90_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_0_, offerpurch0_.leasePeriod as leasePer5_90_0_, offerpurch0_.offer_id as offer9_90_0_, offerpurch0_.serviceLevel as serviceL6_90_0_, offerpurch0_.start as start90_0_, offerpurch0_.user_idAbiquo as user10_90_0_, offerpurch0_.virtualApplianceState as virtualA8_90_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:43:02,270 INFO  ~ OFFER RESET SUCCESSFULLY
12:43:02,270 INFO  ~ OFFER RESUMED ......
12:43:02,270 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
12:43:17,660 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:43:17,660 INFO  ~ Enterprie ID for current User 
12:43:17,660 INFO  ~ CURRENT USER EMAIL ID: David
12:43:17,704 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:43:17,802 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:43:17,802 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id90_, offerpurch0_.expiration as expiration90_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_, offerpurch0_.leasePeriod as leasePer5_90_, offerpurch0_.offer_id as offer9_90_, offerpurch0_.serviceLevel as serviceL6_90_, offerpurch0_.start as start90_, offerpurch0_.user_idAbiquo as user10_90_, offerpurch0_.virtualApplianceState as virtualA8_90_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:43:17,804 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:43:18,024 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
12:43:18,026 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
12:43:22,405 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:43:22,405 INFO  ~ Enterprie ID for current User 
12:43:22,446 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:43:22,557 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id90_0_, offerpurch0_.expiration as expiration90_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_0_, offerpurch0_.leasePeriod as leasePer5_90_0_, offerpurch0_.offer_id as offer9_90_0_, offerpurch0_.serviceLevel as serviceL6_90_0_, offerpurch0_.start as start90_0_, offerpurch0_.user_idAbiquo as user10_90_0_, offerpurch0_.virtualApplianceState as virtualA8_90_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:43:22,559 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo88_0_, userportal0_.email as email88_0_, userportal0_.idEnterprise as idEnterp3_88_0_, userportal0_.nick as nick88_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:43:29,358 INFO  ~ -----INSIDE Index()-----
12:43:29,452 INFO  ~ -----INSIDE Index()-----
12:43:34,738 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:43:34,866 INFO  ~  UNDEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
12:43:34,977 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:43:34,977 INFO  ~  vdcname : POR-David-2012-09-26 12:43:34.977
12:43:34,977 WARN  ~ EXCEPTION OCCURED  IN deploy()
java.lang.IllegalArgumentException: id to load is required for loading
	at org.hibernate.event.LoadEvent.<init>(LoadEvent.java:89)
	at org.hibernate.event.LoadEvent.<init>(LoadEvent.java:61)
	at org.hibernate.impl.SessionImpl.get(SessionImpl.java:1002)
	at org.hibernate.impl.SessionImpl.get(SessionImpl.java:998)
	at org.hibernate.ejb.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:614)
	at org.hibernate.ejb.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:589)
	at play.db.jpa.JPQL.findById(JPQL.java:36)
	at models.OfferPurchased.findById(OfferPurchased.java)
	at controllers.Mobile.deleteOffer(Mobile.java:975)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:43:45,001 INFO  ~ -----INSIDE Index()-----
12:43:45,026 INFO  ~ -----INSIDE Index()-----
12:46:23,725 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:46:23,770 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:46:24,054 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:46:24,311 INFO  ~ -----INSIDE Index()-----
12:46:26,532 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:46:26,533 INFO  ~ Enterprie ID for current User 
12:46:26,533 INFO  ~ CURRENT USER EMAIL ID: David
12:46:26,565 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:46:26,667 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:46:26,667 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id90_, offerpurch0_.expiration as expiration90_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_, offerpurch0_.leasePeriod as leasePer5_90_, offerpurch0_.offer_id as offer9_90_, offerpurch0_.serviceLevel as serviceL6_90_, offerpurch0_.start as start90_, offerpurch0_.user_idAbiquo as user10_90_, offerpurch0_.virtualApplianceState as virtualA8_90_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:46:26,669 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:46:26,864 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
12:46:26,865 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
12:46:28,985 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:46:28,986 INFO  ~ Enterprie ID for current User 
12:46:29,035 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:46:29,137 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id90_0_, offerpurch0_.expiration as expiration90_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_0_, offerpurch0_.leasePeriod as leasePer5_90_0_, offerpurch0_.offer_id as offer9_90_0_, offerpurch0_.serviceLevel as serviceL6_90_0_, offerpurch0_.start as start90_0_, offerpurch0_.user_idAbiquo as user10_90_0_, offerpurch0_.virtualApplianceState as virtualA8_90_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:46:29,139 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo88_0_, userportal0_.email as email88_0_, userportal0_.idEnterprise as idEnterp3_88_0_, userportal0_.nick as nick88_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:46:49,742 INFO  ~ -----INSIDE Index()-----
12:46:49,790 INFO  ~ -----INSIDE Index()-----
12:46:55,373 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:46:55,373 INFO  ~ Enterprie ID for current User 
12:46:55,411 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:46:55,634 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id90_0_, offerpurch0_.expiration as expiration90_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_0_, offerpurch0_.leasePeriod as leasePer5_90_0_, offerpurch0_.offer_id as offer9_90_0_, offerpurch0_.serviceLevel as serviceL6_90_0_, offerpurch0_.start as start90_0_, offerpurch0_.user_idAbiquo as user10_90_0_, offerpurch0_.virtualApplianceState as virtualA8_90_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:46:55,636 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo88_0_, userportal0_.email as email88_0_, userportal0_.idEnterprise as idEnterp3_88_0_, userportal0_.nick as nick88_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:47:00,620 INFO  ~ -----INSIDE Index()-----
12:47:00,636 INFO  ~ -----INSIDE Index()-----
12:47:14,313 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
12:47:14,349 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:47:14,450 INFO  ~  UNDEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
12:47:14,553 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:47:14,553 INFO  ~  vdcname : POR-David-2012-09-26 12:47:14.553
12:47:14,553 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id90_0_, offerpurch0_.expiration as expiration90_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_0_, offerpurch0_.leasePeriod as leasePer5_90_0_, offerpurch0_.offer_id as offer9_90_0_, offerpurch0_.serviceLevel as serviceL6_90_0_, offerpurch0_.start as start90_0_, offerpurch0_.user_idAbiquo as user10_90_0_, offerpurch0_.virtualApplianceState as virtualA8_90_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:47:30,671 INFO  ~ OFFER RESET SUCCESSFULLY
12:47:30,671 INFO  ~ OFFER RESUMED ......
12:47:30,671 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
12:47:35,049 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:47:35,049 INFO  ~ Enterprie ID for current User 
12:47:35,049 INFO  ~ CURRENT USER EMAIL ID: David
12:47:35,084 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:47:35,183 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:47:35,183 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id90_, offerpurch0_.expiration as expiration90_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_, offerpurch0_.leasePeriod as leasePer5_90_, offerpurch0_.offer_id as offer9_90_, offerpurch0_.serviceLevel as serviceL6_90_, offerpurch0_.start as start90_, offerpurch0_.user_idAbiquo as user10_90_, offerpurch0_.virtualApplianceState as virtualA8_90_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:47:35,185 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:47:35,388 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
12:47:35,389 DEBUG ~ /* load models.Offer */ select offer0_.id as id89_0_, offer0_.datacenter as datacenter89_0_, offer0_.defaultLeasePeriod as defaultL3_89_0_, offer0_.defaultNetworkType as defaultN4_89_0_, offer0_.defaultServiceLevel as defaultS5_89_0_, offer0_.hypervisorType as hypervis6_89_0_, offer0_.icon as icon89_0_, offer0_.iconName as iconName89_0_, offer0_.image as image89_0_, offer0_.longDescription as longDes10_89_0_, offer0_.name as name89_0_, offer0_.price as price89_0_, offer0_.serviceType as service13_89_0_, offer0_.shortDescription as shortDe14_89_0_, offer0_.state as state89_0_, offer0_.virtualAppliance as virtual16_89_0_, offer0_.virtualDatacenter as virtual17_89_0_, offer0_.virtualDatacenterName as virtual18_89_0_ from Offer offer0_ where offer0_.id=?
12:47:38,981 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:47:38,981 INFO  ~ Enterprie ID for current User 
12:47:39,030 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:47:39,244 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id90_0_, offerpurch0_.expiration as expiration90_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_0_, offerpurch0_.leasePeriod as leasePer5_90_0_, offerpurch0_.offer_id as offer9_90_0_, offerpurch0_.serviceLevel as serviceL6_90_0_, offerpurch0_.start as start90_0_, offerpurch0_.user_idAbiquo as user10_90_0_, offerpurch0_.virtualApplianceState as virtualA8_90_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:47:39,246 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo88_0_, userportal0_.email as email88_0_, userportal0_.idEnterprise as idEnterp3_88_0_, userportal0_.nick as nick88_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
12:51:21,575 INFO  ~ -----INSIDE Index()-----
12:51:33,923 INFO  ~ -----INSIDE Index()-----
12:52:29,084 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:52:29,207 INFO  ~  UNDEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
12:52:29,294 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:52:29,294 INFO  ~  vdcname : POR-David-2012-09-26 12:52:29.294
12:52:29,295 WARN  ~ EXCEPTION OCCURED  IN deploy()
java.lang.IllegalArgumentException: id to load is required for loading
	at org.hibernate.event.LoadEvent.<init>(LoadEvent.java:89)
	at org.hibernate.event.LoadEvent.<init>(LoadEvent.java:61)
	at org.hibernate.impl.SessionImpl.get(SessionImpl.java:1002)
	at org.hibernate.impl.SessionImpl.get(SessionImpl.java:998)
	at org.hibernate.ejb.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:614)
	at org.hibernate.ejb.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:589)
	at play.db.jpa.JPQL.findById(JPQL.java:36)
	at models.OfferPurchased.findById(OfferPurchased.java)
	at controllers.Mobile.deleteOffer(Mobile.java:975)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:52:31,918 INFO  ~ -----INSIDE Index()-----
12:52:37,192 INFO  ~ -----INSIDE Index()-----
12:52:42,126 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:52:42,315 INFO  ~  UNDEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
12:52:42,423 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:52:42,423 INFO  ~  vdcname : POR-David-2012-09-26 12:52:42.423
12:52:42,423 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id90_0_, offerpurch0_.expiration as expiration90_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_0_, offerpurch0_.leasePeriod as leasePer5_90_0_, offerpurch0_.offer_id as offer9_90_0_, offerpurch0_.serviceLevel as serviceL6_90_0_, offerpurch0_.start as start90_0_, offerpurch0_.user_idAbiquo as user10_90_0_, offerpurch0_.virtualApplianceState as virtualA8_90_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
12:52:55,998 DEBUG ~ /* delete models.OfferPurchased */ delete from OfferPurchased where id=?
12:52:56,000 INFO  ~ OFFER DELETED ......
12:52:56,000 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
12:53:00,476 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:53:00,476 INFO  ~ Enterprie ID for current User 
12:53:00,476 INFO  ~ CURRENT USER EMAIL ID: David
12:53:00,517 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
12:53:00,732 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:53:00,732 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id90_, offerpurch0_.expiration as expiration90_, offerpurch0_.idVirtualApplianceUser as idVirtua3_90_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_90_, offerpurch0_.leasePeriod as leasePer5_90_, offerpurch0_.offer_id as offer9_90_, offerpurch0_.serviceLevel as serviceL6_90_, offerpurch0_.start as start90_, offerpurch0_.user_idAbiquo as user10_90_, offerpurch0_.virtualApplianceState as virtualA8_90_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
12:53:00,733 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
12:53:00,733 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:00:35,919 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:00:35,920 ERROR ~ Table 'Deploy_Bundle' already exists
13:00:44,193 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:00:44,255 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
13:00:50,379 INFO  ~ -----INSIDE LOGOUT()-----
13:00:54,429 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
13:00:54,462 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:00:54,743 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
13:00:56,386 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:00:56,426 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:00:57,025 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:00:57,327 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.virtualAppliance=?
13:00:57,400 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:00:57,400 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:00:57,401 INFO  ~ resultSet1 size :0
13:00:57,401 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:00:57,401 INFO  ~  resultSet1 size []
13:00:57,401 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:00:59,642 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:00:59,910 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.virtualAppliance=?
13:01:00,057 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:01:00,057 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:01:00,058 INFO  ~ resultSet1 size :0
13:01:00,058 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:01:00,058 INFO  ~  resultSet1 size []
13:01:00,058 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:01:02,397 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:01:02,664 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.virtualAppliance=?
13:01:02,742 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:01:02,743 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:01:02,743 INFO  ~ resultSet1 size :0
13:01:02,743 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:01:02,743 INFO  ~  resultSet1 size []
13:01:02,743 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:01:03,651 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
13:01:03,682 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:01:04,367 INFO  ~  virtualDC  : diamond
13:01:04,564 INFO  ~  va  : diamond
13:01:04,798 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
13:01:11,205 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.id=? limit ?
13:01:11,213 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
13:01:11,213 INFO  ~ Session user in addToServiceCatalog(): admin
13:01:11,213 INFO  ~  and  vdc 1  & va_id : 1
13:01:11,213 INFO  ~  lease period 100 years
13:01:11,245 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:01:12,082 INFO  ~  description : sdafsdafsd
13:01:12,111 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
13:01:12,131 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
13:01:12,133 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
13:01:12,134 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
13:01:12,137 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
13:01:12,303 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:01:12,596 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.virtualAppliance=?
13:01:12,599 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:01:12,599 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:01:12,601 INFO  ~ resultSet1 size :1
13:01:12,601 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:01:12,601 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : server, Icon: play.db.jpa.Blob@5c5556af , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
13:01:12,601 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:01:12,645 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:01:12,645 INFO  ~  OfferID for icon 1
13:01:12,645 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
13:01:12,647 INFO  ~ ------------------------- EXITING displayIcon()---------
13:01:32,962 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
13:01:33,015 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:01:33,173 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
13:01:33,263 INFO  ~ -----INSIDE Index()-----
13:01:36,113 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:01:36,113 INFO  ~ Enterprie ID for current User 
13:01:36,113 INFO  ~ CURRENT USER EMAIL ID: David
13:01:36,149 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:01:36,244 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:01:36,245 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:01:36,247 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:01:36,247 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:01:39,450 INFO  ~ CURRENT USER EMAIL ID: David
13:01:39,459 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:01:39,460 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:01:41,724 INFO  ~ -----INSIDE Index()-----
13:01:41,724 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
13:01:44,269 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
13:01:44,270 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
13:01:44,303 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:01:44,410 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
13:01:44,483 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:01:44,483 INFO  ~  vdcname : POR-David-2012-09-26 13:01:44.483
13:01:44,623 INFO  ~  VDC to deploy: 
13:01:44,623 INFO  ~  Hypervisor to deploy: 
13:01:44,695 INFO  ~  Datacenter to deploy: 
13:01:44,695 INFO  ~  Network Built
13:01:44,695 INFO  ~ VDC built  
13:01:46,293 INFO  ~  1. VDC CREATED 
13:01:46,577 INFO  ~  2. VAPP CREATED 
13:01:46,625 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo110_0_, userportal0_.email as email110_0_, userportal0_.idEnterprise as idEnterp3_110_0_, userportal0_.nick as nick110_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
13:01:46,670 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idEnterprise, nick, idAbiquo) values (?, ?, ?, ?)
13:01:46,671 INFO  ~ --------------------
13:01:46,671 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
13:01:46,672 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
13:01:46,673 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.virtualAppliance=?
13:01:46,673 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
13:01:46,673 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_111_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_118_0_, nodes1_.cpu as cpu118_0_, nodes1_.description as descript3_118_0_, nodes1_.hd as hd118_0_, nodes1_.icon as icon118_0_, nodes1_.idImage as idImage118_0_, nodes1_.node_name as node7_118_0_, nodes1_.ram as ram118_0_, nodes1_1_.offer_id as offer1_119_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:01:47,087 INFO  ~  3. VM CREATED
13:01:47,087 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_118_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_116_0_, nodes_reso1_.resourceType as resource2_116_0_, nodes_reso1_.sequence as sequence116_0_, nodes_reso1_.value as value116_0_, nodes_reso1_1_.id_node as id1_117_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:01:47,286 INFO  ~  4. HARDDISKS ATTACHED 
13:01:47,287 INFO  ~  Handler created :
13:01:47,617 INFO  ~ STARTING MONITORING ......
13:01:47,618 INFO  ~ SAVING DEPLOY INFORMATION ......
13:01:47,619 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:01:47,621 INFO  ~ DEPLOY INFO SAVED ......
13:01:47,621 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
13:01:50,917 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:01:50,917 INFO  ~ Enterprie ID for current User 
13:01:50,917 INFO  ~ CURRENT USER EMAIL ID: David
13:01:50,951 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:01:51,056 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:01:51,056 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:01:51,058 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:01:51,272 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
13:01:51,273 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:01:51,282 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
13:01:53,663 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:01:53,663 INFO  ~ Enterprie ID for current User 
13:01:53,704 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:01:53,811 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id112_0_, offerpurch0_.expiration as expiration112_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_0_, offerpurch0_.leasePeriod as leasePer5_112_0_, offerpurch0_.offer_id as offer9_112_0_, offerpurch0_.serviceLevel as serviceL6_112_0_, offerpurch0_.start as start112_0_, offerpurch0_.user_idAbiquo as user10_112_0_, offerpurch0_.virtualApplianceState as virtualA8_112_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
13:01:53,813 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo110_0_, userportal0_.email as email110_0_, userportal0_.idEnterprise as idEnterp3_110_0_, userportal0_.nick as nick110_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
13:02:02,993 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:02:02,994 INFO  ~  CREATED VM : VirtualMachine [id=43, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_984e39be-790b-4c64-8c79-5a31e4253a1e, password=vmpassword, ram=512, uuid=984e39be-790b-4c64-8c79-5a31e4253a1e, vncAddress=null, vncPort=0]
13:02:03,069 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
13:02:03,069 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:02:03,069 INFO  ~  getVMDetais() params : vdc_id 40 vapp_id : 40 vm-id : 43
13:02:03,070 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_120_, mkt_config0_.deploy_enterprise_id as deploy2_120_, mkt_config0_.enterprise_name as enterprise3_120_, mkt_config0_.mkt_branding_css as mkt4_120_, mkt_config0_.mkt_branding_icon as mkt5_120_, mkt_config0_.mkt_deploy_pw as mkt6_120_, mkt_config0_.mkt_deploy_user as mkt7_120_, mkt_config0_.mkt_theme_css as mkt8_120_, mkt_config0_.mkt_url as mkt9_120_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:02:03,072 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:02:03,072 INFO  ~  AbiquoUtils context set to :null
13:02:03,072 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:02:05,270 INFO  ~ -----INSIDE Index()-----
13:02:05,305 INFO  ~ -----INSIDE Index()-----
13:02:07,246 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
13:02:07,286 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:02:07,402 INFO  ~  UNDEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
13:02:07,491 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:02:07,491 INFO  ~  vdcname : POR-David-2012-09-26 13:02:07.491
13:02:07,491 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id112_0_, offerpurch0_.expiration as expiration112_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_0_, offerpurch0_.leasePeriod as leasePer5_112_0_, offerpurch0_.offer_id as offer9_112_0_, offerpurch0_.serviceLevel as serviceL6_112_0_, offerpurch0_.start as start112_0_, offerpurch0_.user_idAbiquo as user10_112_0_, offerpurch0_.virtualApplianceState as virtualA8_112_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
13:02:23,541 INFO  ~ OFFER RESET SUCCESSFULLY
13:02:23,541 INFO  ~ OFFER RESUMED ......
13:02:23,541 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
13:02:26,568 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:02:26,568 INFO  ~ Enterprie ID for current User 
13:02:26,568 INFO  ~ CURRENT USER EMAIL ID: David
13:02:26,601 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:02:26,804 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:02:26,804 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:02:26,806 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:02:27,011 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
13:02:27,012 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:02:27,013 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
13:02:45,187 INFO  ~ CURRENT USER EMAIL ID: David
13:02:45,188 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:02:45,189 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:02:46,971 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:02:46,972 INFO  ~ Enterprie ID for current User 
13:02:46,972 INFO  ~ CURRENT USER EMAIL ID: David
13:02:47,025 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:02:47,238 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:02:47,239 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:02:47,242 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:02:47,454 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:02:47,455 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
13:02:49,405 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:02:49,405 INFO  ~ Enterprie ID for current User 
13:02:49,440 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:02:49,622 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id112_0_, offerpurch0_.expiration as expiration112_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_0_, offerpurch0_.leasePeriod as leasePer5_112_0_, offerpurch0_.offer_id as offer9_112_0_, offerpurch0_.serviceLevel as serviceL6_112_0_, offerpurch0_.start as start112_0_, offerpurch0_.user_idAbiquo as user10_112_0_, offerpurch0_.virtualApplianceState as virtualA8_112_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
13:02:49,624 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo110_0_, userportal0_.email as email110_0_, userportal0_.idEnterprise as idEnterp3_110_0_, userportal0_.nick as nick110_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
13:02:55,280 INFO  ~ -----INSIDE Index()-----
13:02:55,350 INFO  ~ -----INSIDE Index()-----
13:02:59,989 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:03:00,099 INFO  ~  UNDEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
13:03:00,188 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:03:00,188 INFO  ~  vdcname : POR-David-2012-09-26 13:03:00.188
13:03:00,188 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id112_0_, offerpurch0_.expiration as expiration112_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_0_, offerpurch0_.leasePeriod as leasePer5_112_0_, offerpurch0_.offer_id as offer9_112_0_, offerpurch0_.serviceLevel as serviceL6_112_0_, offerpurch0_.start as start112_0_, offerpurch0_.user_idAbiquo as user10_112_0_, offerpurch0_.virtualApplianceState as virtualA8_112_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
13:03:12,227 DEBUG ~ /* delete models.OfferPurchased */ delete from OfferPurchased where id=?
13:03:12,228 INFO  ~ OFFER DELETED ......
13:03:12,229 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
13:03:40,304 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:03:40,304 INFO  ~ Enterprie ID for current User 
13:03:40,304 INFO  ~ CURRENT USER EMAIL ID: David
13:03:40,340 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:03:40,453 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:03:40,453 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:03:40,454 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:03:40,454 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:03:43,250 INFO  ~ CURRENT USER EMAIL ID: David
13:03:43,251 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:03:43,252 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:03:45,187 INFO  ~ -----INSIDE Index()-----
13:03:45,188 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
13:03:47,065 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
13:03:47,065 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
13:03:47,111 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:03:47,225 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
13:03:47,326 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:03:47,326 INFO  ~  vdcname : POR-David-2012-09-26 13:03:47.326
13:03:47,903 INFO  ~  VDC to deploy: 
13:03:47,903 INFO  ~  Hypervisor to deploy: 
13:03:47,964 INFO  ~  Datacenter to deploy: 
13:03:47,964 INFO  ~  Network Built
13:03:47,964 INFO  ~ VDC built  
13:03:49,404 INFO  ~  1. VDC CREATED 
13:03:49,704 INFO  ~  2. VAPP CREATED 
13:03:49,742 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo110_0_, userportal0_.email as email110_0_, userportal0_.idEnterprise as idEnterp3_110_0_, userportal0_.nick as nick110_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
13:03:49,742 INFO  ~ --------------------
13:03:49,742 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
13:03:49,743 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
13:03:49,743 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.virtualAppliance=?
13:03:49,744 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
13:03:49,744 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_111_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_118_0_, nodes1_.cpu as cpu118_0_, nodes1_.description as descript3_118_0_, nodes1_.hd as hd118_0_, nodes1_.icon as icon118_0_, nodes1_.idImage as idImage118_0_, nodes1_.node_name as node7_118_0_, nodes1_.ram as ram118_0_, nodes1_1_.offer_id as offer1_119_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:03:50,192 INFO  ~  3. VM CREATED
13:03:50,193 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_118_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_116_0_, nodes_reso1_.resourceType as resource2_116_0_, nodes_reso1_.sequence as sequence116_0_, nodes_reso1_.value as value116_0_, nodes_reso1_1_.id_node as id1_117_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:03:50,376 INFO  ~  4. HARDDISKS ATTACHED 
13:03:50,376 INFO  ~  Handler created :
13:03:50,848 INFO  ~ STARTING MONITORING ......
13:03:50,849 INFO  ~ SAVING DEPLOY INFORMATION ......
13:03:50,849 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:03:50,920 INFO  ~ DEPLOY INFO SAVED ......
13:03:50,920 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
13:03:53,176 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:03:53,176 INFO  ~ Enterprie ID for current User 
13:03:53,176 INFO  ~ CURRENT USER EMAIL ID: David
13:03:53,221 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:03:53,321 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:03:53,322 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:03:53,323 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:03:53,536 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
13:03:53,537 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:03:53,539 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
13:03:56,573 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:03:56,574 INFO  ~ Enterprie ID for current User 
13:03:56,628 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:03:56,737 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id112_0_, offerpurch0_.expiration as expiration112_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_0_, offerpurch0_.leasePeriod as leasePer5_112_0_, offerpurch0_.offer_id as offer9_112_0_, offerpurch0_.serviceLevel as serviceL6_112_0_, offerpurch0_.start as start112_0_, offerpurch0_.user_idAbiquo as user10_112_0_, offerpurch0_.virtualApplianceState as virtualA8_112_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
13:03:56,738 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo110_0_, userportal0_.email as email110_0_, userportal0_.idEnterprise as idEnterp3_110_0_, userportal0_.nick as nick110_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
13:04:06,227 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:04:06,228 INFO  ~  CREATED VM : VirtualMachine [id=44, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_cb36b8ea-3b24-43c1-9fd1-12a2a7f54c4e, password=vmpassword, ram=512, uuid=cb36b8ea-3b24-43c1-9fd1-12a2a7f54c4e, vncAddress=null, vncPort=0]
13:04:06,285 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
13:04:06,285 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:04:06,285 INFO  ~  getVMDetais() params : vdc_id 41 vapp_id : 41 vm-id : 44
13:04:06,286 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_120_, mkt_config0_.deploy_enterprise_id as deploy2_120_, mkt_config0_.enterprise_name as enterprise3_120_, mkt_config0_.mkt_branding_css as mkt4_120_, mkt_config0_.mkt_branding_icon as mkt5_120_, mkt_config0_.mkt_deploy_pw as mkt6_120_, mkt_config0_.mkt_deploy_user as mkt7_120_, mkt_config0_.mkt_theme_css as mkt8_120_, mkt_config0_.mkt_url as mkt9_120_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:04:06,286 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:04:06,286 INFO  ~  AbiquoUtils context set to :null
13:04:06,286 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:16:26,732 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
13:16:27,020 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:16:27,712 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
13:16:28,060 INFO  ~ -----INSIDE Index()-----
13:16:29,941 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:16:29,941 INFO  ~ Enterprie ID for current User 
13:16:29,941 INFO  ~ CURRENT USER EMAIL ID: David
13:16:30,012 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:16:30,168 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:16:30,168 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:16:30,254 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:16:30,623 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
13:16:30,687 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:16:30,688 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
13:16:33,652 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:16:33,652 INFO  ~ Enterprie ID for current User 
13:16:33,723 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:16:33,850 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id112_0_, offerpurch0_.expiration as expiration112_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_0_, offerpurch0_.leasePeriod as leasePer5_112_0_, offerpurch0_.offer_id as offer9_112_0_, offerpurch0_.serviceLevel as serviceL6_112_0_, offerpurch0_.start as start112_0_, offerpurch0_.user_idAbiquo as user10_112_0_, offerpurch0_.virtualApplianceState as virtualA8_112_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
13:16:33,851 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo110_0_, userportal0_.email as email110_0_, userportal0_.idEnterprise as idEnterp3_110_0_, userportal0_.nick as nick110_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
13:29:25,838 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
13:29:25,898 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:29:26,216 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
13:29:26,394 INFO  ~ -----INSIDE Index()-----
13:29:29,666 INFO  ~ CURRENT USER EMAIL ID: David
13:29:29,666 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:29:29,752 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:29:47,756 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
13:29:47,906 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:29:48,071 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
13:29:48,325 INFO  ~ -----INSIDE Index()-----
13:29:52,438 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:29:52,438 INFO  ~ Enterprie ID for current User 
13:29:52,438 INFO  ~ CURRENT USER EMAIL ID: David
13:29:52,513 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:29:52,642 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:29:52,642 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:29:52,644 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:29:52,847 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:29:52,849 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
13:29:56,595 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:29:56,595 INFO  ~ Enterprie ID for current User 
13:29:56,711 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:29:56,818 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id112_0_, offerpurch0_.expiration as expiration112_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_0_, offerpurch0_.leasePeriod as leasePer5_112_0_, offerpurch0_.offer_id as offer9_112_0_, offerpurch0_.serviceLevel as serviceL6_112_0_, offerpurch0_.start as start112_0_, offerpurch0_.user_idAbiquo as user10_112_0_, offerpurch0_.virtualApplianceState as virtualA8_112_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
13:29:56,819 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo110_0_, userportal0_.email as email110_0_, userportal0_.idEnterprise as idEnterp3_110_0_, userportal0_.nick as nick110_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
13:30:07,824 INFO  ~ -----INSIDE Index()-----
13:30:07,909 INFO  ~ -----INSIDE Index()-----
13:30:10,635 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
13:30:10,669 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:30:10,770 INFO  ~  UNDEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
13:30:10,906 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:30:10,906 INFO  ~  vdcname : POR-David-2012-09-26 13:30:10.906
13:30:10,906 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id112_0_, offerpurch0_.expiration as expiration112_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_0_, offerpurch0_.leasePeriod as leasePer5_112_0_, offerpurch0_.offer_id as offer9_112_0_, offerpurch0_.serviceLevel as serviceL6_112_0_, offerpurch0_.start as start112_0_, offerpurch0_.user_idAbiquo as user10_112_0_, offerpurch0_.virtualApplianceState as virtualA8_112_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
13:30:25,924 INFO  ~ OFFER RESET SUCCESSFULLY
13:30:25,924 INFO  ~ OFFER RESUMED ......
13:30:25,924 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
13:30:50,877 INFO  ~ CURRENT USER EMAIL ID: David
13:30:50,877 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:30:50,879 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:31:01,856 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:31:01,856 INFO  ~ Enterprie ID for current User 
13:31:01,889 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:31:01,995 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id112_0_, offerpurch0_.expiration as expiration112_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_0_, offerpurch0_.leasePeriod as leasePer5_112_0_, offerpurch0_.offer_id as offer9_112_0_, offerpurch0_.serviceLevel as serviceL6_112_0_, offerpurch0_.start as start112_0_, offerpurch0_.user_idAbiquo as user10_112_0_, offerpurch0_.virtualApplianceState as virtualA8_112_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
13:31:01,997 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo110_0_, userportal0_.email as email110_0_, userportal0_.idEnterprise as idEnterp3_110_0_, userportal0_.nick as nick110_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
13:31:06,377 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
13:31:06,410 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:31:06,593 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
13:31:06,731 INFO  ~ -----INSIDE Index()-----
13:32:56,322 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
13:32:56,352 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:32:56,651 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
13:32:56,829 INFO  ~ -----INSIDE Index()-----
13:32:58,614 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:32:58,615 INFO  ~ Enterprie ID for current User 
13:32:58,615 INFO  ~ CURRENT USER EMAIL ID: David
13:32:58,649 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:32:58,767 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:32:58,767 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id112_, offerpurch0_.expiration as expiration112_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_, offerpurch0_.leasePeriod as leasePer5_112_, offerpurch0_.offer_id as offer9_112_, offerpurch0_.serviceLevel as serviceL6_112_, offerpurch0_.start as start112_, offerpurch0_.user_idAbiquo as user10_112_, offerpurch0_.virtualApplianceState as virtualA8_112_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
13:32:58,770 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
13:32:58,969 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:32:58,970 DEBUG ~ /* load models.Offer */ select offer0_.id as id111_0_, offer0_.datacenter as datacenter111_0_, offer0_.defaultLeasePeriod as defaultL3_111_0_, offer0_.defaultNetworkType as defaultN4_111_0_, offer0_.defaultServiceLevel as defaultS5_111_0_, offer0_.hypervisorType as hypervis6_111_0_, offer0_.icon as icon111_0_, offer0_.iconName as iconName111_0_, offer0_.image as image111_0_, offer0_.longDescription as longDes10_111_0_, offer0_.name as name111_0_, offer0_.price as price111_0_, offer0_.serviceType as service13_111_0_, offer0_.shortDescription as shortDe14_111_0_, offer0_.state as state111_0_, offer0_.virtualAppliance as virtual16_111_0_, offer0_.virtualDatacenter as virtual17_111_0_, offer0_.virtualDatacenterName as virtual18_111_0_ from Offer offer0_ where offer0_.id=?
13:33:00,967 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:33:00,967 INFO  ~ Enterprie ID for current User 
13:33:01,025 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:33:01,131 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id112_0_, offerpurch0_.expiration as expiration112_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_0_, offerpurch0_.leasePeriod as leasePer5_112_0_, offerpurch0_.offer_id as offer9_112_0_, offerpurch0_.serviceLevel as serviceL6_112_0_, offerpurch0_.start as start112_0_, offerpurch0_.user_idAbiquo as user10_112_0_, offerpurch0_.virtualApplianceState as virtualA8_112_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
13:33:01,133 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo110_0_, userportal0_.email as email110_0_, userportal0_.idEnterprise as idEnterp3_110_0_, userportal0_.nick as nick110_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
13:33:03,797 INFO  ~ -----INSIDE Index()-----
13:33:03,816 INFO  ~ -----INSIDE Index()-----
13:33:05,789 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:33:05,980 INFO  ~  UNDEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
13:33:06,077 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:33:06,077 INFO  ~  vdcname : POR-David-2012-09-26 13:33:06.077
13:33:06,077 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id112_0_, offerpurch0_.expiration as expiration112_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_112_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_112_0_, offerpurch0_.leasePeriod as leasePer5_112_0_, offerpurch0_.offer_id as offer9_112_0_, offerpurch0_.serviceLevel as serviceL6_112_0_, offerpurch0_.start as start112_0_, offerpurch0_.user_idAbiquo as user10_112_0_, offerpurch0_.virtualApplianceState as virtualA8_112_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
13:33:19,240 DEBUG ~ /* delete models.OfferPurchased */ delete from OfferPurchased where id=?
13:33:19,269 INFO  ~ OFFER DELETED ......
13:33:19,269 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
13:33:23,028 INFO  ~ CURRENT USER EMAIL ID: David
13:33:23,028 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id111_, offer0_.datacenter as datacenter111_, offer0_.defaultLeasePeriod as defaultL3_111_, offer0_.defaultNetworkType as defaultN4_111_, offer0_.defaultServiceLevel as defaultS5_111_, offer0_.hypervisorType as hypervis6_111_, offer0_.icon as icon111_, offer0_.iconName as iconName111_, offer0_.image as image111_, offer0_.longDescription as longDes10_111_, offer0_.name as name111_, offer0_.price as price111_, offer0_.serviceType as service13_111_, offer0_.shortDescription as shortDe14_111_, offer0_.state as state111_, offer0_.virtualAppliance as virtual16_111_, offer0_.virtualDatacenter as virtual17_111_, offer0_.virtualDatacenterName as virtual18_111_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:33:23,030 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
09:40:57,145 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
09:40:57,383 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
09:40:59,472 WARN  ~ You're running Play! in DEV mode
09:40:59,898 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
09:41:03,158 INFO  ~ Connected to jdbc:mysql://localhost/portal
09:41:08,511 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
09:41:08,511 ERROR ~ Table 'Deploy_Bundle' already exists
09:41:16,314 INFO  ~ Application 'UserPortal' is now started !
09:41:37,756 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
09:41:38,737 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:43:08,789 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
09:43:08,946 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
09:43:15,086 WARN  ~ You're running Play! in DEV mode
09:43:17,357 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
09:43:37,889 INFO  ~ Connected to jdbc:mysql://localhost/portal
09:44:01,628 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
09:44:01,664 ERROR ~ Table 'Deploy_Bundle' already exists
09:44:14,685 INFO  ~ Application 'UserPortal' is now started !
09:45:17,271 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:45:24,645 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
09:45:25,474 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:45:25,474 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:45:25,485 INFO  ~ resultSet1 size :0
09:45:25,485 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:45:25,485 INFO  ~  resultSet1 size []
09:45:25,502 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:50:47,998 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
09:50:48,211 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:50:48,677 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
09:50:51,384 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
09:50:51,441 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:50:52,129 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:50:52,364 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
09:50:52,465 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:50:52,465 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:50:52,466 INFO  ~ resultSet1 size :0
09:50:52,466 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:50:52,466 INFO  ~  resultSet1 size []
09:50:52,466 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:50:54,654 INFO  ~  -----INSIDE PRODUCER LISTVM()------
09:50:54,708 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:50:55,320 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
09:50:55,321 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
09:50:55,324 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
09:50:56,033 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
09:50:56,033 INFO  ~ Session user in vmDetails(): admin
09:51:09,030 INFO  ~  -----INSIDE PRODUCER LISTVM()------
09:51:09,096 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:51:09,425 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
09:51:09,425 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
09:51:09,427 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
09:51:09,631 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
09:51:09,631 INFO  ~ Session user in vmDetails(): admin
09:57:43,439 INFO  ~  -----INSIDE PRODUCER LISTVM()------
09:57:43,485 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:57:44,250 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
09:57:44,251 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
09:57:44,252 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:03:04,581 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
10:03:04,581 ERROR ~ Table 'Deploy_Bundle' already exists
10:03:09,216 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
10:03:09,217 INFO  ~ Session user in vmDetails(): admin
10:04:17,784 INFO  ~  -----INSIDE PRODUCER LISTVM()------
10:04:17,852 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:04:18,387 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:04:18,388 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:04:18,390 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:07:51,272 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
10:07:51,272 INFO  ~ Session user in vmDetails(): admin
10:08:04,786 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:08:05,144 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:08:05,235 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:08:05,235 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:08:05,237 INFO  ~ resultSet1 size :0
10:08:05,237 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:08:05,237 INFO  ~  resultSet1 size []
10:08:05,237 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:08:05,639 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:08:05,951 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:08:06,007 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:08:06,007 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:08:06,008 INFO  ~ resultSet1 size :0
10:08:06,008 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:08:06,008 INFO  ~  resultSet1 size []
10:08:06,008 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:08:06,260 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
10:08:06,309 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:08:06,404 INFO  ~  virtualDC  : diamond
10:08:06,556 INFO  ~  va  : diamond
10:08:06,739 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
10:08:18,570 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.id=? limit ?
10:08:18,984 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
10:08:18,984 INFO  ~ Session user in addToServiceCatalog(): admin
10:08:18,984 INFO  ~  and  vdc 1  & va_id : 1
10:08:18,984 INFO  ~  lease period 100 years
10:08:19,042 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:08:20,121 INFO  ~  description : sdafsdf
10:08:20,873 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
10:08:20,960 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
10:08:21,003 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
10:08:21,005 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
10:08:21,031 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
10:08:21,313 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:08:21,562 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:08:21,600 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:08:21,601 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:08:21,602 INFO  ~ resultSet1 size :1
10:08:21,602 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:08:21,603 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : server, Icon: play.db.jpa.Blob@1404d7f0 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
10:08:21,603 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:08:21,665 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:08:21,666 INFO  ~  OfferID for icon 1
10:08:21,667 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:08:21,699 INFO  ~ ------------------------- EXITING displayIcon()---------
10:08:23,505 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:08:23,821 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:08:23,919 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:08:23,919 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:08:23,920 INFO  ~ resultSet1 size :0
10:08:23,920 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:08:23,920 INFO  ~  resultSet1 size []
10:08:23,920 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:10:23,250 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:10:23,591 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:10:23,689 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:10:23,689 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:10:23,690 INFO  ~ resultSet1 size :0
10:10:23,690 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:10:23,690 INFO  ~  resultSet1 size []
10:10:23,690 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:10:25,373 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:10:25,681 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:10:25,684 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:10:25,684 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:10:25,685 INFO  ~ resultSet1 size :1
10:10:25,685 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:10:25,685 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : server, Icon: play.db.jpa.Blob@6333e208 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
10:10:25,685 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:10:25,747 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:10:25,748 INFO  ~  OfferID for icon 1
10:10:25,748 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:10:25,751 INFO  ~ ------------------------- EXITING displayIcon()---------
10:10:41,602 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:10:41,655 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
10:10:41,836 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:10:41,931 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
10:10:41,931 INFO  ~ Enterprie ID for current User 3
10:10:41,932 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ group by offer0_.defaultServiceLevel
10:10:42,140 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
10:10:42,196 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
10:10:42,294 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:10:42,294 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:10:42,303 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:10:42,850 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
10:10:42,850 INFO  ~ Enterprie ID for current User 3
10:10:42,850 INFO  ~ CURRENT USER EMAIL ID: david
10:10:42,851 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:10:42,852 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:10:43,061 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:10:43,061 INFO  ~  OfferID for icon 1
10:10:43,061 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:10:43,063 INFO  ~ ------------------------- EXITING displayIcon()---------
10:10:46,516 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
10:10:46,516 INFO  ~ CURRENT USER EMAIL ID: david
10:10:46,516 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:10:46,518 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
10:10:46,696 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_23_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_30_0_, nodes1_.cpu as cpu30_0_, nodes1_.description as descript3_30_0_, nodes1_.hd as hd30_0_, nodes1_.icon as icon30_0_, nodes1_.idImage as idImage30_0_, nodes1_.node_name as node7_30_0_, nodes1_.ram as ram30_0_, nodes1_1_.offer_id as offer1_31_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:10:49,055 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:10:49,055 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 1 , String va_param:: server)
10:10:49,098 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
10:10:49,361 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  david  david
10:10:49,474 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:10:49,474 INFO  ~  vdcname : POR-david-2012-09-27 10:10:49.473
10:10:49,639 INFO  ~  VDC to deploy: 
10:10:49,639 INFO  ~  Hypervisor to deploy: 
10:10:49,855 INFO  ~  Datacenter to deploy: 
10:10:49,855 INFO  ~  Network Built
10:10:49,856 INFO  ~ VDC built  
10:10:54,357 INFO  ~  1. VDC CREATED 
10:10:54,837 INFO  ~  2. VAPP CREATED 
10:10:54,898 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo22_0_, userportal0_.email as email22_0_, userportal0_.idEnterprise as idEnterp3_22_0_, userportal0_.nick as nick22_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
10:10:54,955 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idEnterprise, nick, idAbiquo) values (?, ?, ?, ?)
10:10:54,956 INFO  ~ --------------------
10:10:54,956 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:10:54,958 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:10:54,958 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:10:54,966 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:10:54,967 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_23_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_30_0_, nodes1_.cpu as cpu30_0_, nodes1_.description as descript3_30_0_, nodes1_.hd as hd30_0_, nodes1_.icon as icon30_0_, nodes1_.idImage as idImage30_0_, nodes1_.node_name as node7_30_0_, nodes1_.ram as ram30_0_, nodes1_1_.offer_id as offer1_31_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:10:56,044 INFO  ~  3. VM CREATED
10:10:56,045 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_30_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_28_0_, nodes_reso1_.resourceType as resource2_28_0_, nodes_reso1_.sequence as sequence28_0_, nodes_reso1_.value as value28_0_, nodes_reso1_1_.id_node as id1_29_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:10:56,491 INFO  ~  4. HARDDISKS ATTACHED 
10:10:56,529 INFO  ~  Handler created :
10:10:58,029 INFO  ~ STARTING MONITORING ......
10:10:58,030 INFO  ~ SAVING DEPLOY INFORMATION ......
10:10:58,032 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_idAbiquo, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
10:10:58,143 INFO  ~ DEPLOY INFO SAVED ......
10:10:58,143 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
10:11:23,722 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:11:23,722 INFO  ~  CREATED VM : VirtualMachine [id=45, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_9c6b5465-2fa3-46e1-ac13-861552e59427, password=vmpassword, ram=512, uuid=9c6b5465-2fa3-46e1-ac13-861552e59427, vncAddress=null, vncPort=0]
10:11:23,789 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=david]
10:11:23,789 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:11:23,789 INFO  ~  getVMDetais() params : vdc_id 42 vapp_id : 42 vm-id : 45
10:11:23,794 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_32_, mkt_config0_.deploy_enterprise_id as deploy2_32_, mkt_config0_.enterprise_name as enterprise3_32_, mkt_config0_.mkt_branding_css as mkt4_32_, mkt_config0_.mkt_branding_icon as mkt5_32_, mkt_config0_.mkt_deploy_pw as mkt6_32_, mkt_config0_.mkt_deploy_user as mkt7_32_, mkt_config0_.mkt_theme_css as mkt8_32_, mkt_config0_.mkt_url as mkt9_32_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:11:23,797 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:11:23,798 INFO  ~  AbiquoUtils context set to :null
10:11:23,810 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:11:27,360 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
10:11:27,361 INFO  ~ Enterprie ID for current User 3
10:11:27,361 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ group by offer0_.defaultServiceLevel
10:11:27,362 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
10:11:27,405 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
10:11:27,513 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:11:27,513 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:11:27,550 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:11:27,772 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
10:11:27,772 INFO  ~ Enterprie ID for current User 3
10:11:27,772 INFO  ~ CURRENT USER EMAIL ID: david
10:11:27,772 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:11:27,774 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:11:27,926 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:11:27,926 INFO  ~  OfferID for icon 1
10:11:27,926 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:11:27,927 INFO  ~ ------------------------- EXITING displayIcon()---------
10:12:07,683 INFO  ~ ---------INSIDE CONSUMER OFFERDETAILS()---------------
10:12:07,683 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:12:07,686 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_23_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_30_0_, nodes1_.cpu as cpu30_0_, nodes1_.description as descript3_30_0_, nodes1_.hd as hd30_0_, nodes1_.icon as icon30_0_, nodes1_.idImage as idImage30_0_, nodes1_.node_name as node7_30_0_, nodes1_.ram as ram30_0_, nodes1_1_.offer_id as offer1_31_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:12:07,689 INFO  ~ ------------EXITING CONSUMER OFFERDETAILS()--------------
10:12:07,952 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_30_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_28_0_, nodes_reso1_.resourceType as resource2_28_0_, nodes_reso1_.sequence as sequence28_0_, nodes_reso1_.value as value28_0_, nodes_reso1_1_.id_node as id1_29_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:12:08,000 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:12:08,000 INFO  ~  OfferID for icon 1
10:12:08,000 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:12:08,001 INFO  ~ ------------------------- EXITING displayIcon()---------
10:12:54,805 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:12:54,870 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:12:55,045 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:12:55,123 INFO  ~ -----INSIDE Index()-----
10:12:57,356 INFO  ~ CURRENT USER EMAIL ID: David
10:12:57,356 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:12:57,358 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:13:09,826 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:13:09,826 INFO  ~ Enterprie ID for current User 
10:13:09,826 INFO  ~ CURRENT USER EMAIL ID: David
10:13:09,873 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:13:09,987 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:13:09,988 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:13:09,989 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:13:10,185 DEBUG ~ /* update models.OfferPurchased */ update OfferPurchased set expiration=?, idVirtualApplianceUser=?, idVirtualDatacenterUser=?, leasePeriod=?, offer_id=?, serviceLevel=?, start=?, user_idAbiquo=?, virtualApplianceState=? where id=?
10:13:10,187 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:13:10,236 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:13:13,040 INFO  ~ CURRENT USER EMAIL ID: David
10:13:13,041 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:13:13,043 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:13:15,514 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:13:15,514 INFO  ~ Enterprie ID for current User 
10:13:15,514 INFO  ~ CURRENT USER EMAIL ID: David
10:13:15,561 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:13:15,694 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:13:15,694 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:13:15,697 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:13:15,894 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:13:15,908 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:13:17,514 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:13:17,514 INFO  ~ Enterprie ID for current User 
10:13:17,564 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:13:17,685 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id24_0_, offerpurch0_.expiration as expiration24_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_0_, offerpurch0_.leasePeriod as leasePer5_24_0_, offerpurch0_.offer_id as offer9_24_0_, offerpurch0_.serviceLevel as serviceL6_24_0_, offerpurch0_.start as start24_0_, offerpurch0_.user_idAbiquo as user10_24_0_, offerpurch0_.virtualApplianceState as virtualA8_24_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
10:13:17,687 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo22_0_, userportal0_.email as email22_0_, userportal0_.idEnterprise as idEnterp3_22_0_, userportal0_.nick as nick22_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
10:14:09,394 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:14:09,394 INFO  ~ Enterprie ID for current User 
10:14:09,395 INFO  ~ CURRENT USER EMAIL ID: David
10:14:09,451 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:14:09,557 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:14:09,557 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:14:09,559 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:14:09,735 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:14:09,737 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:14:13,088 INFO  ~ CURRENT USER EMAIL ID: David
10:14:13,088 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:14:13,090 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:14:16,182 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:14:16,182 INFO  ~ Enterprie ID for current User 
10:14:16,182 INFO  ~ CURRENT USER EMAIL ID: David
10:14:16,234 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:14:16,347 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:14:16,347 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:14:16,348 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:14:16,548 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:14:16,551 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:14:18,931 INFO  ~ CURRENT USER EMAIL ID: David
10:14:18,932 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:14:18,933 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:14:20,853 INFO  ~ -----INSIDE Index()-----
10:14:20,853 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:14:24,515 INFO  ~ CURRENT USER EMAIL ID: David
10:14:24,515 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:14:24,517 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:14:26,865 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:14:26,865 INFO  ~ Enterprie ID for current User 
10:14:26,865 INFO  ~ CURRENT USER EMAIL ID: David
10:14:26,914 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:14:27,029 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:14:27,030 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:14:27,032 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:14:27,229 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:14:27,231 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:14:29,692 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:14:29,692 INFO  ~ Enterprie ID for current User 
10:14:29,743 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:14:29,839 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id24_0_, offerpurch0_.expiration as expiration24_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_0_, offerpurch0_.leasePeriod as leasePer5_24_0_, offerpurch0_.offer_id as offer9_24_0_, offerpurch0_.serviceLevel as serviceL6_24_0_, offerpurch0_.start as start24_0_, offerpurch0_.user_idAbiquo as user10_24_0_, offerpurch0_.virtualApplianceState as virtualA8_24_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
10:14:29,840 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo22_0_, userportal0_.email as email22_0_, userportal0_.idEnterprise as idEnterp3_22_0_, userportal0_.nick as nick22_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
10:14:32,767 INFO  ~ -----INSIDE Index()-----
10:14:32,834 INFO  ~ -----INSIDE Index()-----
10:14:34,879 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:14:34,988 INFO  ~  UNDEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
10:14:35,093 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:14:35,093 INFO  ~  vdcname : POR-David-2012-09-27 10:14:35.093
10:14:35,093 DEBUG ~ /* load models.OfferPurchased */ select offerpurch0_.id as id24_0_, offerpurch0_.expiration as expiration24_0_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_0_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_0_, offerpurch0_.leasePeriod as leasePer5_24_0_, offerpurch0_.offer_id as offer9_24_0_, offerpurch0_.serviceLevel as serviceL6_24_0_, offerpurch0_.start as start24_0_, offerpurch0_.user_idAbiquo as user10_24_0_, offerpurch0_.virtualApplianceState as virtualA8_24_0_ from OfferPurchased offerpurch0_ where offerpurch0_.id=?
10:14:48,842 DEBUG ~ /* delete models.OfferPurchased */ delete from OfferPurchased where id=?
10:14:48,843 INFO  ~ OFFER DELETED ......
10:14:48,843 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
10:14:52,782 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:14:52,782 INFO  ~ Enterprie ID for current User 
10:14:52,782 INFO  ~ CURRENT USER EMAIL ID: David
10:14:52,825 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:14:52,939 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:14:52,939 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:14:52,940 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:14:52,940 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:14:55,437 INFO  ~ CURRENT USER EMAIL ID: David
10:14:55,438 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:14:55,439 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:15:05,996 INFO  ~ -----INSIDE LOGOUT()-----
10:15:10,067 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:15:10,111 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:10,406 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
10:15:11,498 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:15:11,556 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:12,488 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:12,778 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:15:12,779 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:12,779 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:15:12,781 INFO  ~ resultSet1 size :1
10:15:12,781 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:12,781 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : server, Icon: play.db.jpa.Blob@56a59355 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
10:15:12,781 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:15:12,864 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:15:12,864 INFO  ~  OfferID for icon 1
10:15:12,864 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:15:12,865 INFO  ~ ------------------------- EXITING displayIcon()---------
10:15:15,243 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:15,509 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:15:15,598 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:15,599 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:15:15,599 INFO  ~ resultSet1 size :0
10:15:15,599 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:15,599 INFO  ~  resultSet1 size []
10:15:15,599 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:15:16,823 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
10:15:16,870 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:16,960 INFO  ~  virtualDC  : free
10:15:17,315 INFO  ~  va  : free
10:15:17,700 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
10:15:30,600 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.id=? limit ?
10:15:30,614 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
10:15:30,614 INFO  ~ Session user in addToServiceCatalog(): admin
10:15:30,614 INFO  ~  and  vdc 4  & va_id : 2
10:15:30,614 INFO  ~  lease period 100 years
10:15:30,652 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:31,353 INFO  ~  description : sdafsdafsdaf
10:15:31,386 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
10:15:31,388 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
10:15:31,389 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
10:15:31,389 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
10:15:31,391 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
10:15:31,540 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:31,808 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:15:31,810 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:31,811 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:15:31,812 INFO  ~ resultSet1 size :1
10:15:31,812 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:31,812 INFO  ~  resultSet1 size [sc_offer [ID :2, Name : webserver, Icon: play.db.jpa.Blob@6eb1c2fe , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
10:15:31,812 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:15:31,834 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:15:31,835 INFO  ~  OfferID for icon 2
10:15:31,835 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:15:31,837 INFO  ~ ------------------------- EXITING displayIcon()---------
10:15:36,700 INFO  ~ -----INSIDE LOGOUT()-----
10:15:40,540 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:15:40,584 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
10:15:40,742 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:15:40,752 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
10:15:40,752 INFO  ~ Enterprie ID for current User 3
10:15:40,752 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ group by offer0_.defaultServiceLevel
10:15:40,798 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
10:15:40,848 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=david, iso3166Codes=null}
10:15:40,951 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:15:40,951 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:15:40,952 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:15:41,038 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
10:15:41,038 INFO  ~ Enterprie ID for current User 3
10:15:41,038 INFO  ~ CURRENT USER EMAIL ID: david
10:15:41,039 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:15:41,041 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:15:41,088 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:15:41,089 INFO  ~  OfferID for icon 1
10:15:41,089 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:15:41,090 INFO  ~ ------------------------- EXITING displayIcon()---------
10:15:41,095 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:15:41,095 INFO  ~  OfferID for icon 2
10:15:41,095 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:15:41,096 INFO  ~ ------------------------- EXITING displayIcon()---------
10:15:45,459 INFO  ~ ---------INSIDE CONSUMER OFFERDETAILS()---------------
10:15:45,459 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:15:45,461 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_23_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_30_0_, nodes1_.cpu as cpu30_0_, nodes1_.description as descript3_30_0_, nodes1_.hd as hd30_0_, nodes1_.icon as icon30_0_, nodes1_.idImage as idImage30_0_, nodes1_.node_name as node7_30_0_, nodes1_.ram as ram30_0_, nodes1_1_.offer_id as offer1_31_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:15:45,463 INFO  ~ ------------EXITING CONSUMER OFFERDETAILS()--------------
10:15:45,467 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_30_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_28_0_, nodes_reso1_.resourceType as resource2_28_0_, nodes_reso1_.sequence as sequence28_0_, nodes_reso1_.value as value28_0_, nodes_reso1_1_.id_node as id1_29_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:15:45,511 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:15:45,511 INFO  ~  OfferID for icon 2
10:15:45,511 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
10:15:45,512 INFO  ~ ------------------------- EXITING displayIcon()---------
10:15:52,187 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:15:52,187 INFO  ~ Enterprie ID for current User 
10:15:52,187 INFO  ~ CURRENT USER EMAIL ID: David
10:15:52,236 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:15:52,346 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:15:52,346 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:15:52,347 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:15:52,347 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:15:55,122 INFO  ~ CURRENT USER EMAIL ID: David
10:15:55,122 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:15:55,124 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:15:59,208 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:15:59,208 INFO  ~ Enterprie ID for current User 
10:15:59,208 INFO  ~ CURRENT USER EMAIL ID: David
10:15:59,254 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:15:59,354 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:15:59,354 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_24_, offerpurch0_.leasePeriod as leasePer5_24_, offerpurch0_.offer_id as offer9_24_, offerpurch0_.serviceLevel as serviceL6_24_, offerpurch0_.start as start24_, offerpurch0_.user_idAbiquo as user10_24_, offerpurch0_.virtualApplianceState as virtualA8_24_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:15:59,355 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:15:59,355 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:16:01,248 INFO  ~ CURRENT USER EMAIL ID: David
10:16:01,248 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:16:01,250 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:17:09,428 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:17:09,476 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
10:17:09,751 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
10:17:10,022 INFO  ~ -----INSIDE Index()-----
10:17:12,067 INFO  ~ -----INSIDE Index()-----
10:17:12,067 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:17:12,117 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
10:17:12,593 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:17:12,667 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:17:12,732 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
10:17:12,856 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.virtualAppliance=?
11:29:24,047 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
11:29:24,051 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
11:29:24,836 WARN  ~ You're running Play! in DEV mode
11:29:24,932 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
11:29:32,910 ERROR ~ 

@6bo100eak
Internal Server Error (500) for request GET /ProducerLocal/admin

Compilation error (In /app/portal/util/AbiquoUtils.java around line 255)
The file /app/portal/util/AbiquoUtils.java could not be compiled. Error raised is : Syntax error on token ".", ; expected

play.exceptions.CompilationException: Syntax error on token ".", ; expected
	at play.classloading.ApplicationCompiler$2.acceptResult(ApplicationCompiler.java:246)
	at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:478)
	at play.classloading.ApplicationCompiler.compile(ApplicationCompiler.java:282)
	at play.classloading.ApplicationClassloader.getAllClasses(ApplicationClassloader.java:424)
	at play.Play.start(Play.java:505)
	at play.Play.detectChanges(Play.java:618)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
11:30:03,254 INFO  ~ Connected to jdbc:mysql://localhost/portal
11:30:09,589 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:30:09,589 ERROR ~ Table 'Deploy_Bundle' already exists
11:30:13,451 INFO  ~ Application 'UserPortal' is now started !
11:30:17,388 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
11:30:18,416 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:30:20,098 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:30:20,346 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
11:30:20,450 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:30:20,451 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:30:20,453 INFO  ~ resultSet1 size :0
11:30:20,453 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:30:20,453 INFO  ~  resultSet1 size []
11:30:20,453 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:30:23,114 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
11:30:23,170 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:30:23,264 INFO  ~  virtualDC  : diamond
11:30:23,387 INFO  ~  va  : diamond
11:30:23,559 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
11:30:30,206 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=? limit ?
11:30:30,230 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
11:30:30,230 INFO  ~ Session user in addToServiceCatalog(): admin
11:30:30,230 INFO  ~  and  vdc 1  & va_id : 1
11:30:30,230 INFO  ~  lease period 100 years
11:30:30,294 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:30:31,121 INFO  ~  description : fsdafsdfsdaf
11:30:31,222 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
11:30:31,238 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
11:30:31,240 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
11:30:31,241 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
11:30:31,244 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
11:30:31,472 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:30:31,696 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
11:30:31,705 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:30:31,705 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:30:31,707 INFO  ~ resultSet1 size :1
11:30:31,707 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:30:31,709 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : server, Icon: play.db.jpa.Blob@417f6125 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
11:30:31,709 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:30:31,755 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:30:31,755 INFO  ~  OfferID for icon 1
11:30:31,757 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
11:30:31,759 INFO  ~ ------------------------- EXITING displayIcon()---------
13:02:02,631 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
13:02:02,708 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
13:02:04,085 WARN  ~ You're running Play! in DEV mode
13:02:04,251 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
13:02:14,955 INFO  ~ Connected to jdbc:mysql://localhost/portal
13:02:20,652 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:02:20,652 ERROR ~ Table 'Deploy_Bundle' already exists
13:02:27,541 INFO  ~ Application 'UserPortal' is now started !
13:11:45,550 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
13:11:47,880 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:11:57,990 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
13:11:58,068 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
13:12:09,624 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
13:12:09,693 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
13:12:10,269 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
13:12:10,320 INFO  ~ -----INSIDE Index()-----
13:12:18,415 INFO  ~ -----INSIDE Index()-----
13:12:18,418 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:12:18,477 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
13:12:21,552 INFO  ~ -----INSIDE Index()-----
13:12:21,597 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:12:24,486 INFO  ~ -----INSIDE Index()-----
13:12:24,487 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:12:24,538 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
13:12:27,812 INFO  ~ -----INSIDE Index()-----
13:13:30,700 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
13:13:30,749 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
13:13:39,483 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
13:13:39,526 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
13:13:39,867 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
13:13:39,934 INFO  ~ -----INSIDE Index()-----
13:13:47,101 INFO  ~ -----INSIDE Index()-----
13:13:47,101 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:13:47,145 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
13:13:51,474 INFO  ~ -----INSIDE Index()-----
13:13:51,474 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:14:03,956 INFO  ~ -----INSIDE Index()-----
13:14:03,956 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:14:03,995 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
13:16:52,716 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:16:52,760 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:16:57,029 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:16:57,074 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:17:45,749 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
13:17:45,791 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:04:30,689 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
10:04:32,701 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
10:04:41,051 WARN  ~ You're running Play! in DEV mode
10:04:45,141 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
10:13:40,895 INFO  ~ Connected to jdbc:mysql://localhost/portal
10:13:45,636 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
10:13:45,636 ERROR ~ Table 'Deploy_Bundle' already exists
10:13:50,969 INFO  ~ Application 'UserPortal' is now started !
10:14:28,894 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:14:29,717 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:14:30,563 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
10:14:37,491 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:14:37,560 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:14:38,660 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:14:38,864 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:14:39,081 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:14:39,324 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:14:39,325 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:14:39,327 INFO  ~ resultSet1 size :0
10:14:39,328 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:14:39,328 INFO  ~  resultSet1 size []
10:14:39,328 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:14:41,361 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
10:14:41,417 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:14:41,487 INFO  ~  virtualDC  : gold
10:14:41,598 INFO  ~  va  : gold
10:14:41,776 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
10:14:51,313 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=? limit ?
10:14:51,329 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
10:14:51,329 INFO  ~ Session user in addToServiceCatalog(): admin
10:14:51,329 INFO  ~  and  vdc 2  & va_id : 1
10:14:51,330 INFO  ~  lease period 100 years
10:14:51,386 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:14:52,737 INFO  ~  description : sdfsadfsda
10:14:53,069 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
10:14:53,109 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
10:14:53,110 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
10:14:53,162 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
10:14:53,166 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
10:14:53,512 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:14:53,699 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:14:53,704 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:14:53,883 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:14:53,883 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:14:53,886 INFO  ~ resultSet1 size :1
10:14:53,886 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:14:53,887 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@4033ca1f , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
10:14:53,887 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:14:53,908 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:14:53,908 INFO  ~  OfferID for icon 1
10:14:53,910 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
10:14:53,911 INFO  ~ ------------------------- EXITING displayIcon()---------
10:14:55,527 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:14:55,709 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:14:55,800 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:14:55,800 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:14:55,802 INFO  ~ resultSet1 size :0
10:14:55,802 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:14:55,802 INFO  ~  resultSet1 size []
10:14:55,802 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:14:56,959 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
10:14:57,010 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:14:57,073 INFO  ~  virtualDC  : honolulu
10:14:57,189 INFO  ~  va  : honolulu
10:14:57,367 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
10:15:05,869 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:06,064 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:15:06,223 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:06,223 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:15:06,224 INFO  ~ resultSet1 size :0
10:15:06,224 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:06,224 INFO  ~  resultSet1 size []
10:15:06,224 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:15:06,235 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=? limit ?
10:15:06,242 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
10:15:06,242 INFO  ~ Session user in addToServiceCatalog(): admin
10:15:06,242 INFO  ~  and  vdc 3  & va_id : 3
10:15:06,242 INFO  ~  lease period 100 years
10:15:06,282 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:06,665 INFO  ~  description : f
10:15:06,695 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
10:15:06,697 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
10:15:06,698 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
10:15:06,699 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
10:15:06,701 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
10:15:09,609 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:09,804 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:15:09,882 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:09,882 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:15:09,901 INFO  ~ resultSet1 size :0
10:15:09,901 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:09,901 INFO  ~  resultSet1 size []
10:15:09,901 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:15:10,871 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:11,048 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:15:11,049 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:11,049 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:15:11,050 INFO  ~ resultSet1 size :1
10:15:11,050 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:11,050 INFO  ~  resultSet1 size [sc_offer [ID :2, Name : server, Icon: play.db.jpa.Blob@30e4f894 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
10:15:11,050 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:15:11,082 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:15:11,082 INFO  ~  OfferID for icon 2
10:15:11,082 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
10:15:11,083 INFO  ~ ------------------------- EXITING displayIcon()---------
10:15:13,094 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:15:13,276 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:15:13,277 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:15:13,336 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:13,336 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:15:13,337 INFO  ~ resultSet1 size :1
10:15:13,337 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:15:13,337 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@674482f7 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
10:15:13,337 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:15:13,357 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:15:13,357 INFO  ~  OfferID for icon 1
10:15:13,357 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
10:15:13,359 INFO  ~ ------------------------- EXITING displayIcon()---------
10:19:57,863 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:19:57,899 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:20:14,560 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:20:14,598 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
10:20:14,743 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
10:20:14,797 INFO  ~ -----INSIDE Index()-----
10:20:27,206 INFO  ~ -----INSIDE Index()-----
10:20:27,207 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:20:27,265 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
10:20:27,619 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:20:27,621 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:20:27,735 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:20:27,787 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:20:27,906 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:20:33,218 INFO  ~ -----INSIDE Index()-----
10:20:52,343 INFO  ~ -----INSIDE Index()-----
10:20:52,343 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:20:52,391 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
10:20:52,725 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:20:52,728 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:20:52,870 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:20:52,931 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:20:53,169 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:20:58,012 INFO  ~ -----INSIDE Index()-----
10:20:58,013 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:21:11,130 INFO  ~ -----INSIDE Index()-----
10:21:11,130 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:21:11,167 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
10:21:11,522 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:21:11,533 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:21:11,673 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:21:11,711 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:21:11,825 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:21:26,065 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
10:21:26,065 INFO  ~ Session user in vmDetails(): Admin
10:21:26,104 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
10:21:34,307 INFO  ~ -----INSIDE Index()-----
10:21:37,743 INFO  ~ -----INSIDE Index()-----
10:21:37,744 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:21:37,786 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
10:21:38,155 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:21:38,157 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:21:38,283 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:21:38,328 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:21:38,444 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:21:42,218 INFO  ~ -----INSIDE Index()-----
10:21:42,219 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:22:02,376 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:22:02,415 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:22:02,564 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:22:02,609 INFO  ~ -----INSIDE Index()-----
10:22:07,271 INFO  ~ CURRENT USER EMAIL ID: David
10:22:07,271 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:22:07,274 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:22:30,757 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:22:30,757 INFO  ~ Enterprie ID for current User 
10:22:30,757 INFO  ~ CURRENT USER EMAIL ID: David
10:22:30,799 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:22:30,898 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:22:30,899 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_2_, offerpurch0_.leasePeriod as leasePer5_2_, offerpurch0_.offer_id as offer9_2_, offerpurch0_.serviceLevel as serviceL6_2_, offerpurch0_.start as start2_, offerpurch0_.user_idAbiquo as user10_2_, offerpurch0_.virtualApplianceState as virtualA8_2_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:22:30,900 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:22:30,900 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:22:33,835 INFO  ~ CURRENT USER EMAIL ID: David
10:22:33,836 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:22:33,838 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:22:37,172 INFO  ~ -----INSIDE Index()-----
10:22:37,172 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
10:22:51,423 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:22:51,423 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 2, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
10:22:51,457 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:22:51,537 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
10:22:51,609 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:22:51,610 INFO  ~  vdcname : POR-David-2012-09-28 10:22:51.609
10:22:51,711 INFO  ~  VDC to deploy: 
10:22:51,711 INFO  ~  Hypervisor to deploy: 
10:22:51,729 WARN  ~ EXCEPTION OCCURED IN deploy()
org.jclouds.rest.AuthorizationException: GET http://localhost/api/admin/datacenters?idEnterprise=3 HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy93.listAllowedDatacenters(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy94.listAllowedDatacenters(Unknown Source)
	at org.jclouds.abiquo.domain.enterprise.Enterprise.listAllowedDatacenters(Enterprise.java:434)
	at controllers.Mobile.deploy(Mobile.java:727)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.http.HttpResponseException: command: GET http://localhost/api/admin/datacenters?idEnterprise=3 HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [GET http://localhost/api/admin/datacenters?idEnterprise=3 HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:25:45,950 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:25:46,004 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=Admin, iso3166Codes=null}
10:25:46,135 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
10:25:46,187 INFO  ~ -----INSIDE Index()-----
10:26:08,321 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:26:08,362 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:26:08,488 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:26:08,542 INFO  ~ -----INSIDE Index()-----
10:26:11,367 INFO  ~ CURRENT USER EMAIL ID: David
10:26:11,367 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:26:11,369 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:26:15,562 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:26:15,562 INFO  ~ Enterprie ID for current User 
10:26:15,562 INFO  ~ CURRENT USER EMAIL ID: David
10:26:15,601 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:26:15,672 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:26:15,673 DEBUG ~ /* named HQL query getOffersPurchasedFromEnterpriseId */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_2_, offerpurch0_.leasePeriod as leasePer5_2_, offerpurch0_.offer_id as offer9_2_, offerpurch0_.serviceLevel as serviceL6_2_, offerpurch0_.start as start2_, offerpurch0_.user_idAbiquo as user10_2_, offerpurch0_.virtualApplianceState as virtualA8_2_ from OfferPurchased offerpurch0_ cross join UserPortal userportal1_ where offerpurch0_.user_idAbiquo=userportal1_.idAbiquo and userportal1_.idEnterprise=?
10:26:15,674 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromEnterpriseId()------
10:26:15,674 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:26:18,435 INFO  ~ CURRENT USER EMAIL ID: David
10:26:18,436 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:26:18,438 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:26:21,540 INFO  ~ -----INSIDE Index()-----
10:26:21,541 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
10:26:24,853 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:26:24,853 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 2, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
10:26:24,892 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:26:24,961 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
10:26:25,059 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:26:25,059 INFO  ~  vdcname : POR-David-2012-09-28 10:26:25.059
10:26:25,179 INFO  ~  VDC to deploy: 
10:26:25,179 INFO  ~  Hypervisor to deploy: 
10:26:25,229 INFO  ~  Datacenter to deploy: 
10:26:25,229 INFO  ~  Network Built
10:26:25,229 INFO  ~ VDC built  
10:26:27,366 INFO  ~  1. VDC CREATED 
10:26:27,599 INFO  ~  2. VAPP CREATED 
10:26:27,620 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo0_0_, userportal0_.email as email0_0_, userportal0_.idEnterprise as idEnterp3_0_0_, userportal0_.nick as nick0_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
10:26:27,677 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idEnterprise, nick, idAbiquo) values (?, ?, ?, ?)
10:26:27,678 INFO  ~ --------------------
10:26:27,678 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
10:26:27,679 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:26:27,679 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:26:27,680 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:26:27,681 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_8_0_, nodes1_.cpu as cpu8_0_, nodes1_.description as descript3_8_0_, nodes1_.hd as hd8_0_, nodes1_.icon as icon8_0_, nodes1_.idImage as idImage8_0_, nodes1_.node_name as node7_8_0_, nodes1_.ram as ram8_0_, nodes1_1_.offer_id as offer1_9_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:26:28,693 INFO  ~  3. VM CREATED
10:26:28,694 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_8_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_6_0_, nodes_reso1_.resourceType as resource2_6_0_, nodes_reso1_.sequence as sequence6_0_, nodes_reso1_.value as value6_0_, nodes_reso1_1_.id_node as id1_7_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:26:28,790 WARN  ~ EXCEPTION OCCURED IN deploy()
org.jclouds.rest.AuthorizationException: PUT http://localhost:80/api/cloud/virtualdatacenters/5/virtualappliances/7/virtualmachines/8/storage/disks HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.replaceHardDisks(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.replaceHardDisks(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.replaceHardDisks(VirtualMachine.java:349)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.attachHardDisks(VirtualMachine.java:328)
	at controllers.Mobile.deploy(Mobile.java:869)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.http.HttpResponseException: command: PUT http://localhost:80/api/cloud/virtualdatacenters/5/virtualappliances/7/virtualmachines/8/storage/disks HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [PUT http://localhost:80/api/cloud/virtualdatacenters/5/virtualappliances/7/virtualmachines/8/storage/disks HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:30:51,257 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:30:51,309 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:30:51,621 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:30:51,764 INFO  ~ -----INSIDE Index()-----
10:30:55,013 INFO  ~ CURRENT USER EMAIL ID: David
10:30:55,013 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:30:55,015 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:30:58,296 INFO  ~ -----INSIDE Index()-----
10:30:58,296 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
10:31:00,672 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:31:00,672 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 2 , String va_param:: server)
10:31:18,072 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:31:23,591 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
10:31:30,095 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:31:30,363 INFO  ~  vdcname : POR-David-2012-09-28 10:31:29.813
10:31:32,076 INFO  ~  VDC to deploy: 
10:31:33,621 INFO  ~  Hypervisor to deploy: 
10:31:34,710 INFO  ~  Datacenter to deploy: 
10:31:37,025 INFO  ~  Network Built
10:31:39,039 INFO  ~ VDC built  
10:31:46,437 INFO  ~  1. VDC CREATED 
10:31:48,605 INFO  ~  2. VAPP CREATED 
10:31:49,736 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo0_0_, userportal0_.email as email0_0_, userportal0_.idEnterprise as idEnterp3_0_0_, userportal0_.nick as nick0_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
10:31:53,468 INFO  ~ --------------------
10:31:55,379 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
10:31:58,165 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:31:58,166 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:31:58,174 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:33:14,630 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:33:14,670 INFO  ~ context: {provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:33:14,852 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:33:14,889 INFO  ~ -----INSIDE Index()-----
10:33:17,744 INFO  ~ CURRENT USER EMAIL ID: David
10:33:17,745 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:33:17,748 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:33:21,378 INFO  ~ -----INSIDE Index()-----
10:33:21,379 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
10:33:23,670 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:33:23,670 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 2, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
10:33:23,721 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://localhost/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=David, iso3166Codes=null}
10:33:23,824 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  David  david
10:33:23,913 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:33:23,913 INFO  ~  vdcname : POR-David-2012-09-28 10:33:23.913
10:33:24,062 INFO  ~  VDC to deploy: 
10:33:24,062 INFO  ~  Hypervisor to deploy: 
10:33:24,143 INFO  ~  Datacenter to deploy: 
10:33:24,143 INFO  ~  Network Built
10:33:24,143 INFO  ~ VDC built  
10:33:26,736 INFO  ~  1. VDC CREATED 
10:33:27,203 INFO  ~  2. VAPP CREATED 
10:33:27,243 DEBUG ~ /* load models.UserPortal */ select userportal0_.idAbiquo as idAbiquo0_0_, userportal0_.email as email0_0_, userportal0_.idEnterprise as idEnterp3_0_0_, userportal0_.nick as nick0_0_ from UserPortal userportal0_ where userportal0_.idAbiquo=?
10:33:27,244 INFO  ~ --------------------
10:33:27,244 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
10:33:27,245 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:33:27,246 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.virtualAppliance=?
10:33:27,246 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:33:27,246 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_8_0_, nodes1_.cpu as cpu8_0_, nodes1_.description as descript3_8_0_, nodes1_.hd as hd8_0_, nodes1_.icon as icon8_0_, nodes1_.idImage as idImage8_0_, nodes1_.node_name as node7_8_0_, nodes1_.ram as ram8_0_, nodes1_1_.offer_id as offer1_9_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:33:27,576 INFO  ~  3. VM CREATED
10:33:34,734 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_8_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_6_0_, nodes_reso1_.resourceType as resource2_6_0_, nodes_reso1_.sequence as sequence6_0_, nodes_reso1_.value as value6_0_, nodes_reso1_1_.id_node as id1_7_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:35:01,967 WARN  ~ EXCEPTION OCCURED IN deploy()
org.jclouds.rest.AuthorizationException: PUT http://localhost:80/api/cloud/virtualdatacenters/7/virtualappliances/9/virtualmachines/9/storage/disks HTTP/1.1 -> HTTP/1.1 403 Prohibido
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy96.replaceHardDisks(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy97.replaceHardDisks(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.replaceHardDisks(VirtualMachine.java:349)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.attachHardDisks(VirtualMachine.java:328)
	at controllers.Mobile.deploy(Mobile.java:869)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.jclouds.http.HttpResponseException: command: PUT http://localhost:80/api/cloud/virtualdatacenters/7/virtualappliances/9/virtualmachines/9/storage/disks HTTP/1.1 failed with response: HTTP/1.1 403 Prohibido; content: [PUT http://localhost:80/api/cloud/virtualdatacenters/7/virtualappliances/9/virtualmachines/9/storage/disks HTTP/1.1 -> HTTP/1.1 403 Prohibido]
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:73)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
