11:09:26,216 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:09:26,216 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id47_, offerpurch0_.expiration as expiration47_, offerpurch0_.idVirtualApplianceUser as idVirtua3_47_, offerpurch0_.leasePeriod as leasePer4_47_, offerpurch0_.serviceLevel as serviceL5_47_, offerpurch0_.start as start47_, offerpurch0_1_.user_id as user4_48_, offerpurch0_2_.offer_id as offer19_46_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:09:26,216 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:09:26,216 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:09:26,216 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:09:26,217 INFO  ~ resultSet1 size :0
11:09:26,217 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:09:26,217 INFO  ~  resultSet1 size []
11:09:26,217 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:09:31,624 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
11:09:31,669 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:09:31,769 INFO  ~  virtualDC  : Bronze
11:09:31,920 INFO  ~  va  : Bronze
11:09:32,150 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
11:09:38,846 INFO  ~  -----INSIDE PRODUCER LISTVM()------
11:09:38,885 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:09:39,302 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
11:09:39,302 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.id=?
11:09:39,303 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
11:09:39,495 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
11:09:39,496 INFO  ~ Session user in vmDetails(): admin
11:09:39,815 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
11:09:39,815 INFO  ~ Session user in vmDetails(): admin
11:09:42,775 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.id=? limit ?
11:09:42,789 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
11:09:42,789 INFO  ~ Session user in addToServiceCatalog(): admin
11:09:42,789 INFO  ~  and  vdc 3  & va_id : 1
11:09:42,789 INFO  ~  lease period 100 years
11:09:42,815 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:09:43,505 INFO  ~  description : ĺñk
11:09:43,579 INFO  ~  description : ĺñk
11:09:43,613 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
11:09:43,614 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
11:09:43,614 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
11:09:43,615 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
11:09:43,616 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
11:09:43,616 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
11:09:43,623 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
11:09:43,746 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:09:44,029 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.id=?
11:09:44,031 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.id=?
11:09:44,100 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.id=?
11:09:44,169 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:09:44,169 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id47_, offerpurch0_.expiration as expiration47_, offerpurch0_.idVirtualApplianceUser as idVirtua3_47_, offerpurch0_.leasePeriod as leasePer4_47_, offerpurch0_.serviceLevel as serviceL5_47_, offerpurch0_.start as start47_, offerpurch0_1_.user_id as user4_48_, offerpurch0_2_.offer_id as offer19_46_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:09:44,170 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:09:44,170 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:09:44,170 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:09:44,171 INFO  ~ resultSet1 size :1
11:09:44,171 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:09:44,171 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@700478b5 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
11:09:44,171 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:09:44,233 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:09:44,233 INFO  ~  OfferID for icon 1
11:09:44,233 DEBUG ~ /* load models.Offer */ select offer0_.id as id46_0_, offer0_.datacenter as datacenter46_0_, offer0_.defaultLeasePeriod as defaultL3_46_0_, offer0_.defaultNetworkType as defaultN4_46_0_, offer0_.defaultServiceLevel as defaultS5_46_0_, offer0_.hypervisorType as hypervis6_46_0_, offer0_.icon as icon46_0_, offer0_.iconName as iconName46_0_, offer0_.image as image46_0_, offer0_.longDescription as longDes10_46_0_, offer0_.name as name46_0_, offer0_.price as price46_0_, offer0_.serviceType as service13_46_0_, offer0_.shortDescription as shortDe14_46_0_, offer0_.state as state46_0_, offer0_.virtualAppliance as virtual16_46_0_, offer0_.virtualDatacenter as virtual17_46_0_, offer0_.virtualDatacenterName as virtual18_46_0_ from Offer offer0_ where offer0_.id=?
11:09:44,234 INFO  ~ ------------------------- EXITING displayIcon()---------
11:09:47,141 INFO  ~ -----INSIDE LOGOUT()-----
11:09:53,211 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
11:09:53,251 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
11:09:53,476 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
11:09:53,496 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:09:53,497 INFO  ~ Enterprie ID for current User 3
11:09:53,516 ERROR ~ 

@6biba4kca
Internal Server Error (500) for request GET /consumer/servicecatalog?enterpriseID=3

Execution exception (In /app/controllers/ProducerDAO.java around line 81)
IllegalArgumentException occured : Named query not found: groupByVDC_EnterpriseView

play.exceptions.JavaExecutionException: Named query not found: groupByVDC_EnterpriseView
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.IllegalArgumentException: Named query not found: groupByVDC_EnterpriseView
	at org.hibernate.ejb.AbstractEntityManagerImpl.createNamedQuery(AbstractEntityManagerImpl.java:455)
	at controllers.ProducerDAO.groupByVDC_EnterpriseView(ProducerDAO.java:81)
	at controllers.Consumer.ServiceCatalog(Consumer.java:90)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
11:14:03,180 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
11:14:03,183 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
11:14:03,566 WARN  ~ You're running Play! in DEV mode
11:14:03,621 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
11:14:09,677 INFO  ~ Connected to jdbc:mysql://localhost/portal
11:14:15,113 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:14:15,113 ERROR ~ Table 'Deploy_Bundle' already exists
11:14:16,807 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
11:14:16,807 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
11:14:18,048 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
11:14:18,048 ERROR ~ Can't create table 'portal.#sql-3db_8c' (errno: 150)
11:14:19,030 ERROR ~ Unsuccessful: alter table User add index FK285FEB920CADC6 (id), add constraint FK285FEB920CADC6 foreign key (id) references OfferPurchased (id)
11:14:19,030 ERROR ~ Can't create table 'portal.#sql-3db_8c' (errno: 150)
11:14:19,467 INFO  ~ Application 'UserPortal' is now started !
11:14:26,886 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
11:14:27,461 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:14:27,943 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
11:14:29,077 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
11:14:29,158 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:14:29,779 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:14:29,984 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.id=?
11:14:30,080 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.id=?
11:14:30,134 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.id=?
11:14:30,200 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:14:30,200 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1_, offerpurch0_.expiration as expiration1_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1_, offerpurch0_.leasePeriod as leasePer4_1_, offerpurch0_.serviceLevel as serviceL5_1_, offerpurch0_.start as start1_, offerpurch0_1_.user_id as user4_2_, offerpurch0_2_.offer_id as offer19_0_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:14:30,202 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:14:30,202 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:14:30,202 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:14:30,204 INFO  ~ resultSet1 size :0
11:14:30,204 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:14:30,204 INFO  ~  resultSet1 size []
11:14:30,204 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:14:31,364 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
11:14:31,410 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:14:31,483 INFO  ~  virtualDC  : Bronze
11:14:31,586 INFO  ~  va  : Bronze
11:14:31,762 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
11:14:37,501 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.id=? limit ?
11:14:37,517 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
11:14:37,517 INFO  ~ Session user in addToServiceCatalog(): admin
11:14:37,518 INFO  ~  and  vdc 3  & va_id : 1
11:14:37,518 INFO  ~  lease period 100 years
11:14:37,558 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:14:38,230 INFO  ~  description : asdfsa
11:14:38,280 INFO  ~  description : asdfsa
11:14:38,340 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
11:14:38,342 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
11:14:38,343 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
11:14:38,344 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
11:14:38,345 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
11:14:38,345 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
11:14:38,350 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
11:14:38,467 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:14:38,681 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.id=?
11:14:38,689 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.id=?
11:14:38,744 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.id=?
11:14:38,802 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:14:38,802 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1_, offerpurch0_.expiration as expiration1_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1_, offerpurch0_.leasePeriod as leasePer4_1_, offerpurch0_.serviceLevel as serviceL5_1_, offerpurch0_.start as start1_, offerpurch0_1_.user_id as user4_2_, offerpurch0_2_.offer_id as offer19_0_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:14:38,804 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:14:38,804 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:14:38,804 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:14:38,806 INFO  ~ resultSet1 size :1
11:14:38,807 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:14:38,808 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@f64084 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
11:14:38,808 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:14:38,869 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:14:38,869 INFO  ~  OfferID for icon 1
11:14:38,870 DEBUG ~ /* load models.Offer */ select offer0_.id as id0_0_, offer0_.datacenter as datacenter0_0_, offer0_.defaultLeasePeriod as defaultL3_0_0_, offer0_.defaultNetworkType as defaultN4_0_0_, offer0_.defaultServiceLevel as defaultS5_0_0_, offer0_.hypervisorType as hypervis6_0_0_, offer0_.icon as icon0_0_, offer0_.iconName as iconName0_0_, offer0_.image as image0_0_, offer0_.longDescription as longDes10_0_0_, offer0_.name as name0_0_, offer0_.price as price0_0_, offer0_.serviceType as service13_0_0_, offer0_.shortDescription as shortDe14_0_0_, offer0_.state as state0_0_, offer0_.virtualAppliance as virtual16_0_0_, offer0_.virtualDatacenter as virtual17_0_0_, offer0_.virtualDatacenterName as virtual18_0_0_ from Offer offer0_ where offer0_.id=?
11:14:38,872 INFO  ~ ------------------------- EXITING displayIcon()---------
11:14:52,895 INFO  ~ -----INSIDE LOGOUT()-----
11:15:01,930 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
11:15:01,971 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
11:15:02,109 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
11:15:02,131 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:15:02,131 INFO  ~ Enterprie ID for current User 3
11:15:02,198 ERROR ~ 

@6bibchfon
Internal Server Error (500) for request GET /consumer/servicecatalog?enterpriseID=3

Execution exception (In /app/controllers/ProducerDAO.java around line 83)
IllegalArgumentException occured : org.hibernate.QueryParameterException: Position beyond number of declared ordinal parameters. Remember that ordinal parameters are 1-based! Position: 1

play.exceptions.JavaExecutionException: org.hibernate.QueryParameterException: Position beyond number of declared ordinal parameters. Remember that ordinal parameters are 1-based! Position: 1
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.IllegalArgumentException: org.hibernate.QueryParameterException: Position beyond number of declared ordinal parameters. Remember that ordinal parameters are 1-based! Position: 1
	at org.hibernate.ejb.QueryImpl.setParameter(QueryImpl.java:440)
	at org.hibernate.ejb.QueryImpl.setParameter(QueryImpl.java:72)
	at controllers.ProducerDAO.groupByVDC_EnterpriseView(ProducerDAO.java:83)
	at controllers.Consumer.ServiceCatalog(Consumer.java:90)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.QueryParameterException: Position beyond number of declared ordinal parameters. Remember that ordinal parameters are 1-based! Position: 1
	at org.hibernate.engine.query.ParameterMetadata.getOrdinalParameterDescriptor(ParameterMetadata.java:81)
	at org.hibernate.engine.query.ParameterMetadata.getOrdinalParameterExpectedType(ParameterMetadata.java:87)
	at org.hibernate.impl.AbstractQueryImpl.determineType(AbstractQueryImpl.java:444)
	at org.hibernate.impl.AbstractQueryImpl.setParameter(AbstractQueryImpl.java:416)
	at org.hibernate.ejb.QueryImpl.setParameter(QueryImpl.java:434)
	... 9 more
11:15:43,751 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:15:43,751 ERROR ~ Table 'Deploy_Bundle' already exists
11:15:45,795 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
11:15:45,795 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
11:15:47,340 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
11:15:47,340 ERROR ~ Can't create table 'portal.#sql-3db_8c' (errno: 150)
11:15:48,372 ERROR ~ Unsuccessful: alter table User add index FK285FEB920CADC6 (id), add constraint FK285FEB920CADC6 foreign key (id) references OfferPurchased (id)
11:15:48,372 ERROR ~ Can't create table 'portal.#sql-3db_8c' (errno: 150)
11:15:48,647 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:15:48,647 INFO  ~ Enterprie ID for current User 3
11:15:48,648 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:15:48,676 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:15:49,304 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:15:49,304 INFO  ~ Enterprie ID for current User 3
11:15:49,304 INFO  ~ CURRENT USER EMAIL ID: userent
11:15:49,304 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:15:49,305 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:15:49,305 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.leasePeriod as leasePer4_24_, offerpurch0_.serviceLevel as serviceL5_24_, offerpurch0_.start as start24_, offerpurch0_1_.user_id as user4_25_, offerpurch0_2_.offer_id as offer19_23_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:15:49,306 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:15:49,306 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:15:53,867 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:15:53,867 INFO  ~ Enterprie ID for current User null
11:15:53,867 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:15:53,869 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:15:54,313 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:15:54,313 INFO  ~ Enterprie ID for current User null
11:15:54,313 INFO  ~ CURRENT USER EMAIL ID: userent
11:15:54,313 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:15:54,314 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:15:54,314 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.leasePeriod as leasePer4_24_, offerpurch0_.serviceLevel as serviceL5_24_, offerpurch0_.start as start24_, offerpurch0_1_.user_id as user4_25_, offerpurch0_2_.offer_id as offer19_23_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:15:54,314 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:15:54,314 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:16:45,736 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
11:16:45,739 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
11:16:46,125 WARN  ~ You're running Play! in DEV mode
11:16:46,172 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
11:16:51,962 INFO  ~ Connected to jdbc:mysql://localhost/portal
11:16:56,763 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:16:56,763 ERROR ~ Table 'Deploy_Bundle' already exists
11:16:58,322 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
11:16:58,322 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
11:17:00,001 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
11:17:00,001 ERROR ~ Can't create table 'portal.#sql-3db_92' (errno: 150)
11:17:01,024 ERROR ~ Unsuccessful: alter table User add index FK285FEB920CADC6 (id), add constraint FK285FEB920CADC6 foreign key (id) references OfferPurchased (id)
11:17:01,025 ERROR ~ Can't create table 'portal.#sql-3db_92' (errno: 150)
11:17:01,417 INFO  ~ Application 'UserPortal' is now started !
11:17:01,646 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:17:01,646 INFO  ~ Enterprie ID for current User null
11:17:01,653 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:17:01,699 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:17:02,671 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:17:02,671 INFO  ~ Enterprie ID for current User null
11:17:02,671 INFO  ~ CURRENT USER EMAIL ID: userent
11:17:02,672 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:17:02,674 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:17:02,674 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1_, offerpurch0_.expiration as expiration1_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1_, offerpurch0_.leasePeriod as leasePer4_1_, offerpurch0_.serviceLevel as serviceL5_1_, offerpurch0_.start as start1_, offerpurch0_1_.user_id as user4_2_, offerpurch0_2_.offer_id as offer19_0_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:17:02,675 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:17:02,675 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:36:17,372 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:36:17,372 INFO  ~ Enterprie ID for current User null
11:36:17,372 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:36:17,374 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:36:17,881 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:36:17,881 INFO  ~ Enterprie ID for current User null
11:36:17,881 INFO  ~ CURRENT USER EMAIL ID: userent
11:36:17,881 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:36:17,882 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:36:17,882 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1_, offerpurch0_.expiration as expiration1_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1_, offerpurch0_.leasePeriod as leasePer4_1_, offerpurch0_.serviceLevel as serviceL5_1_, offerpurch0_.start as start1_, offerpurch0_1_.user_id as user4_2_, offerpurch0_2_.offer_id as offer19_0_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:36:17,883 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:36:17,883 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:36:30,200 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
11:36:30,804 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:36:31,287 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
11:36:40,995 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
11:36:41,057 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:36:41,697 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:36:42,003 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.id=?
11:36:42,077 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.id=?
11:36:42,131 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.id=?
11:36:42,189 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:36:42,190 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1_, offerpurch0_.expiration as expiration1_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1_, offerpurch0_.leasePeriod as leasePer4_1_, offerpurch0_.serviceLevel as serviceL5_1_, offerpurch0_.start as start1_, offerpurch0_1_.user_id as user4_2_, offerpurch0_2_.offer_id as offer19_0_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:36:42,191 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:36:42,191 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:36:42,191 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:36:42,193 INFO  ~ resultSet1 size :0
11:36:42,193 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:36:42,193 INFO  ~  resultSet1 size []
11:36:42,193 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:36:43,321 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
11:36:43,374 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:36:43,446 INFO  ~  virtualDC  : Bronze
11:36:43,549 INFO  ~  va  : Bronze
11:36:43,725 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
11:36:48,261 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.id=? limit ?
11:36:48,276 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
11:36:48,276 INFO  ~ Session user in addToServiceCatalog(): admin
11:36:48,276 INFO  ~  and  vdc 3  & va_id : 1
11:36:48,276 INFO  ~  lease period 100 years
11:36:48,319 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:36:48,988 INFO  ~  description : asdf
11:36:49,050 INFO  ~  description : asdf
11:36:49,110 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
11:36:49,113 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
11:36:49,113 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
11:36:49,114 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
11:36:49,115 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
11:36:49,116 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
11:36:49,118 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
11:36:49,241 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:36:49,469 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.id=?
11:36:49,480 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.id=?
11:36:49,575 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.id=?
11:36:49,627 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:36:49,627 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1_, offerpurch0_.expiration as expiration1_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1_, offerpurch0_.leasePeriod as leasePer4_1_, offerpurch0_.serviceLevel as serviceL5_1_, offerpurch0_.start as start1_, offerpurch0_1_.user_id as user4_2_, offerpurch0_2_.offer_id as offer19_0_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:36:49,628 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:36:49,628 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:36:49,628 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:36:49,630 INFO  ~ resultSet1 size :1
11:36:49,630 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:36:49,631 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@6998e5d9 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
11:36:49,631 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:36:49,689 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:36:49,689 INFO  ~  OfferID for icon 1
11:36:49,691 DEBUG ~ /* load models.Offer */ select offer0_.id as id0_0_, offer0_.datacenter as datacenter0_0_, offer0_.defaultLeasePeriod as defaultL3_0_0_, offer0_.defaultNetworkType as defaultN4_0_0_, offer0_.defaultServiceLevel as defaultS5_0_0_, offer0_.hypervisorType as hypervis6_0_0_, offer0_.icon as icon0_0_, offer0_.iconName as iconName0_0_, offer0_.image as image0_0_, offer0_.longDescription as longDes10_0_0_, offer0_.name as name0_0_, offer0_.price as price0_0_, offer0_.serviceType as service13_0_0_, offer0_.shortDescription as shortDe14_0_0_, offer0_.state as state0_0_, offer0_.virtualAppliance as virtual16_0_0_, offer0_.virtualDatacenter as virtual17_0_0_, offer0_.virtualDatacenterName as virtual18_0_0_ from Offer offer0_ where offer0_.id=?
11:36:49,693 INFO  ~ ------------------------- EXITING displayIcon()---------
11:36:51,575 INFO  ~ -----INSIDE LOGOUT()-----
11:36:58,510 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
11:36:58,551 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
11:37:05,233 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
11:37:05,276 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
11:37:05,399 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
11:37:05,421 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:37:05,422 INFO  ~ Enterprie ID for current User 3
11:37:05,422 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:37:05,444 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:37:05,933 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:37:05,933 INFO  ~ Enterprie ID for current User 3
11:37:05,934 INFO  ~ CURRENT USER EMAIL ID: userent
11:37:05,934 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:37:05,935 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:37:05,935 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1_, offerpurch0_.expiration as expiration1_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1_, offerpurch0_.leasePeriod as leasePer4_1_, offerpurch0_.serviceLevel as serviceL5_1_, offerpurch0_.start as start1_, offerpurch0_1_.user_id as user4_2_, offerpurch0_2_.offer_id as offer19_0_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:37:05,935 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:37:05,935 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:37:06,001 ERROR ~ 

@6bibffa8c
Internal Server Error (500) for request GET /consumer/availableoffersAll?enterpriseID=3

Template execution error (In /app/views/Consumer/ListServiceCatalog.html around line 79)
Execution error occured in template /app/views/Consumer/ListServiceCatalog.html. Exception raised was MissingPropertyException : No such property: virtualDataCenter_name for class: models.Offer Possible solutions: virtualDatacenterName.

play.exceptions.TemplateExecutionException: No such property: virtualDataCenter_name for class: models.Offer
Possible solutions: virtualDatacenterName
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:86)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:257)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Consumer.availableOffersAll(Consumer.java:153)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: groovy.lang.MissingPropertyException: No such property: virtualDataCenter_name for class: models.Offer
Possible solutions: virtualDatacenterName
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:232)
	... 13 more
11:39:57,312 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:39:57,312 INFO  ~ Enterprie ID for current User 3
11:39:57,313 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:39:57,315 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:39:57,788 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:39:57,788 INFO  ~ Enterprie ID for current User 3
11:39:57,788 INFO  ~ CURRENT USER EMAIL ID: userent
11:39:57,788 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:39:57,789 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:39:57,790 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1_, offerpurch0_.expiration as expiration1_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1_, offerpurch0_.leasePeriod as leasePer4_1_, offerpurch0_.serviceLevel as serviceL5_1_, offerpurch0_.start as start1_, offerpurch0_1_.user_id as user4_2_, offerpurch0_2_.offer_id as offer19_0_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:39:57,791 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:39:57,791 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:39:58,017 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:39:58,017 INFO  ~  OfferID for icon 1
11:39:58,017 DEBUG ~ /* load models.Offer */ select offer0_.id as id0_0_, offer0_.datacenter as datacenter0_0_, offer0_.defaultLeasePeriod as defaultL3_0_0_, offer0_.defaultNetworkType as defaultN4_0_0_, offer0_.defaultServiceLevel as defaultS5_0_0_, offer0_.hypervisorType as hypervis6_0_0_, offer0_.icon as icon0_0_, offer0_.iconName as iconName0_0_, offer0_.image as image0_0_, offer0_.longDescription as longDes10_0_0_, offer0_.name as name0_0_, offer0_.price as price0_0_, offer0_.serviceType as service13_0_0_, offer0_.shortDescription as shortDe14_0_0_, offer0_.state as state0_0_, offer0_.virtualAppliance as virtual16_0_0_, offer0_.virtualDatacenter as virtual17_0_0_, offer0_.virtualDatacenterName as virtual18_0_0_ from Offer offer0_ where offer0_.id=?
11:39:58,019 INFO  ~ ------------------------- EXITING displayIcon()---------
11:40:08,116 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
11:40:08,116 INFO  ~ Enterprie ID for current User 3
11:40:08,116 INFO  ~ CURRENT USER EMAIL ID: userent
11:40:08,159 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
11:40:08,339 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:40:08,342 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
11:40:16,141 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:40:16,141 INFO  ~ Enterprie ID for current User 3
11:40:16,141 INFO  ~ CURRENT USER EMAIL ID: userent
11:40:16,141 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id0_, offer0_.datacenter as datacenter0_, offer0_.defaultLeasePeriod as defaultL3_0_, offer0_.defaultNetworkType as defaultN4_0_, offer0_.defaultServiceLevel as defaultS5_0_, offer0_.hypervisorType as hypervis6_0_, offer0_.icon as icon0_, offer0_.iconName as iconName0_, offer0_.image as image0_, offer0_.longDescription as longDes10_0_, offer0_.name as name0_, offer0_.price as price0_, offer0_.serviceType as service13_0_, offer0_.shortDescription as shortDe14_0_, offer0_.state as state0_, offer0_.virtualAppliance as virtual16_0_, offer0_.virtualDatacenter as virtual17_0_, offer0_.virtualDatacenterName as virtual18_0_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:40:16,143 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:40:16,143 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1_, offerpurch0_.expiration as expiration1_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1_, offerpurch0_.leasePeriod as leasePer4_1_, offerpurch0_.serviceLevel as serviceL5_1_, offerpurch0_.start as start1_, offerpurch0_1_.user_id as user4_2_, offerpurch0_2_.offer_id as offer19_0_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:40:16,144 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:40:16,144 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:40:16,204 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:40:16,204 INFO  ~  OfferID for icon 1
11:40:16,204 DEBUG ~ /* load models.Offer */ select offer0_.id as id0_0_, offer0_.datacenter as datacenter0_0_, offer0_.defaultLeasePeriod as defaultL3_0_0_, offer0_.defaultNetworkType as defaultN4_0_0_, offer0_.defaultServiceLevel as defaultS5_0_0_, offer0_.hypervisorType as hypervis6_0_0_, offer0_.icon as icon0_0_, offer0_.iconName as iconName0_0_, offer0_.image as image0_0_, offer0_.longDescription as longDes10_0_0_, offer0_.name as name0_0_, offer0_.price as price0_0_, offer0_.serviceType as service13_0_0_, offer0_.shortDescription as shortDe14_0_0_, offer0_.state as state0_0_, offer0_.virtualAppliance as virtual16_0_0_, offer0_.virtualDatacenter as virtual17_0_0_, offer0_.virtualDatacenterName as virtual18_0_0_ from Offer offer0_ where offer0_.id=?
11:40:16,205 INFO  ~ ------------------------- EXITING displayIcon()---------
11:40:17,124 INFO  ~ ---------INSIDE CONSUMER OFFERDETAILS()---------------
11:40:17,150 ERROR ~ 

@6bibffa8d
Internal Server Error (500) for request GET /consumer/offerdetails?offer_id=1

Execution exception (In /app/controllers/Consumer.java around line 516)
IllegalArgumentException occured : org.hibernate.hql.ast.QuerySyntaxException: sc_offer is not mapped [select p from sc_offer as p where p.sc_offer_id = ?1]

play.exceptions.JavaExecutionException: org.hibernate.hql.ast.QuerySyntaxException: sc_offer is not mapped [select p from sc_offer as p where p.sc_offer_id = ?1]
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.ast.QuerySyntaxException: sc_offer is not mapped [select p from sc_offer as p where p.sc_offer_id = ?1]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1201)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:275)
	at play.db.jpa.JPQL.find(JPQL.java:46)
	at models.Nodes.find(Nodes.java)
	at controllers.Consumer.offerDetails(Consumer.java:516)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.hql.ast.QuerySyntaxException: sc_offer is not mapped [select p from sc_offer as p where p.sc_offer_id = ?1]
	at org.hibernate.hql.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:180)
	at org.hibernate.hql.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:111)
	at org.hibernate.hql.ast.tree.FromClause.addFromElement(FromClause.java:93)
	at org.hibernate.hql.ast.HqlSqlWalker.createFromElement(HqlSqlWalker.java:327)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3441)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3325)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.fromClause(HqlSqlBaseWalker.java:733)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:584)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:301)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:244)
	at org.hibernate.hql.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:254)
	at org.hibernate.hql.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:185)
	at org.hibernate.hql.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:101)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:80)
	at org.hibernate.engine.query.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:124)
	at org.hibernate.impl.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:156)
	at org.hibernate.impl.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:135)
	at org.hibernate.impl.SessionImpl.createQuery(SessionImpl.java:1770)
	at org.hibernate.ejb.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:272)
	... 9 more
11:45:34,469 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:45:34,469 ERROR ~ Table 'Deploy_Bundle' already exists
11:45:36,281 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
11:45:36,282 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
11:45:37,902 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
11:45:37,902 ERROR ~ Can't create table 'portal.#sql-3db_92' (errno: 150)
11:45:38,951 ERROR ~ Unsuccessful: alter table User add index FK285FEB920CADC6 (id), add constraint FK285FEB920CADC6 foreign key (id) references OfferPurchased (id)
11:45:38,951 ERROR ~ Can't create table 'portal.#sql-3db_92' (errno: 150)
11:45:39,243 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:45:39,243 INFO  ~ Enterprie ID for current User 3
11:45:39,244 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:45:39,245 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:45:39,754 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:45:39,754 INFO  ~ Enterprie ID for current User 3
11:45:39,754 INFO  ~ CURRENT USER EMAIL ID: userent
11:45:39,755 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:45:39,755 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:45:39,756 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.leasePeriod as leasePer4_24_, offerpurch0_.serviceLevel as serviceL5_24_, offerpurch0_.start as start24_, offerpurch0_1_.user_id as user4_25_, offerpurch0_2_.offer_id as offer19_23_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:45:39,756 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:45:39,756 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:01:48,735 INFO  ~ -----INSIDE LOGOUT()-----
12:01:52,027 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:01:52,071 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:01:52,217 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
12:01:53,702 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:01:53,745 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:01:54,184 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:01:54,449 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.id=?
12:01:54,524 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.id=?
12:01:54,576 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.id=?
12:01:54,633 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:01:54,633 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.leasePeriod as leasePer4_24_, offerpurch0_.serviceLevel as serviceL5_24_, offerpurch0_.start as start24_, offerpurch0_1_.user_id as user4_25_, offerpurch0_2_.offer_id as offer19_23_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
12:01:54,634 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:01:54,634 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:01:54,634 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:01:54,635 INFO  ~ resultSet1 size :0
12:01:54,635 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:01:54,636 INFO  ~  resultSet1 size []
12:01:54,636 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:01:55,943 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
12:01:55,985 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:01:56,050 INFO  ~  virtualDC  : Bronze
12:01:56,164 INFO  ~  va  : Bronze
12:01:56,347 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
12:02:01,449 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.id=? limit ?
12:02:01,457 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
12:02:01,457 INFO  ~ Session user in addToServiceCatalog(): admin
12:02:01,457 INFO  ~  and  vdc 3  & va_id : 1
12:02:01,457 INFO  ~  lease period 100 years
12:02:01,496 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:02:01,969 INFO  ~  description : dafaff
12:02:02,033 INFO  ~  description : dafaff
12:02:02,059 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
12:02:02,062 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:02:02,062 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:02:02,063 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
12:02:02,064 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:02:02,064 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:02:02,068 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
12:02:02,172 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:02:02,390 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.id=?
12:02:02,392 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.id=?
12:02:02,452 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.id=?
12:02:02,501 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:02:02,502 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.leasePeriod as leasePer4_24_, offerpurch0_.serviceLevel as serviceL5_24_, offerpurch0_.start as start24_, offerpurch0_1_.user_id as user4_25_, offerpurch0_2_.offer_id as offer19_23_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
12:02:02,502 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:02:02,502 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:02:02,502 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:02:02,503 INFO  ~ resultSet1 size :1
12:02:02,503 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:02:02,503 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@51b7ecdb , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
12:02:02,503 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:02:02,557 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:02:02,557 INFO  ~  OfferID for icon 1
12:02:02,557 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
12:02:02,558 INFO  ~ ------------------------- EXITING displayIcon()---------
12:02:04,779 INFO  ~ -----INSIDE LOGOUT()-----
12:02:13,214 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:02:13,279 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:02:13,406 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:02:13,417 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:02:13,417 INFO  ~ Enterprie ID for current User 3
12:02:13,417 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:02:13,419 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:02:13,883 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:02:13,883 INFO  ~ Enterprie ID for current User 3
12:02:13,883 INFO  ~ CURRENT USER EMAIL ID: userent
12:02:13,883 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id23_, offer0_.datacenter as datacenter23_, offer0_.defaultLeasePeriod as defaultL3_23_, offer0_.defaultNetworkType as defaultN4_23_, offer0_.defaultServiceLevel as defaultS5_23_, offer0_.hypervisorType as hypervis6_23_, offer0_.icon as icon23_, offer0_.iconName as iconName23_, offer0_.image as image23_, offer0_.longDescription as longDes10_23_, offer0_.name as name23_, offer0_.price as price23_, offer0_.serviceType as service13_23_, offer0_.shortDescription as shortDe14_23_, offer0_.state as state23_, offer0_.virtualAppliance as virtual16_23_, offer0_.virtualDatacenter as virtual17_23_, offer0_.virtualDatacenterName as virtual18_23_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:02:13,884 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:02:13,884 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id24_, offerpurch0_.expiration as expiration24_, offerpurch0_.idVirtualApplianceUser as idVirtua3_24_, offerpurch0_.leasePeriod as leasePer4_24_, offerpurch0_.serviceLevel as serviceL5_24_, offerpurch0_.start as start24_, offerpurch0_1_.user_id as user4_25_, offerpurch0_2_.offer_id as offer19_23_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
12:02:13,884 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:02:13,884 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:02:13,937 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:02:13,937 INFO  ~  OfferID for icon 1
12:02:13,937 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
12:02:13,938 INFO  ~ ------------------------- EXITING displayIcon()---------
12:02:16,673 INFO  ~ ---------INSIDE CONSUMER OFFERDETAILS()---------------
12:02:16,674 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
12:02:16,677 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_23_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_31_0_, nodes1_.cpu as cpu31_0_, nodes1_.description as descript3_31_0_, nodes1_.hd as hd31_0_, nodes1_.icon as icon31_0_, nodes1_.idImage as idImage31_0_, nodes1_.node_name as node7_31_0_, nodes1_.ram as ram31_0_, nodes1_1_.offer_id as offer1_32_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:02:16,698 INFO  ~ ------------EXITING CONSUMER OFFERDETAILS()--------------
12:02:16,819 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_31_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_29_0_, nodes_reso1_.resourceType as resource2_29_0_, nodes_reso1_.sequence as sequence29_0_, nodes_reso1_.value as value29_0_, nodes_reso1_1_.id_node as id1_30_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:02:16,885 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:02:16,885 INFO  ~  OfferID for icon 1
12:02:16,885 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
12:02:16,887 INFO  ~ ------------------------- EXITING displayIcon()---------
12:02:26,738 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
12:02:26,738 INFO  ~ CURRENT USER EMAIL ID: userent
12:02:26,755 DEBUG ~ /* dynamic native SQL query */ select * from sc_offers_subscriptions where sc_offer_sc_offer_id = ?
12:02:26,756 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
12:02:26,915 ERROR ~ 

@6bibffa8f
Internal Server Error (500) for request GET /consumer/purchaseconfirmation?offer_id=1

Template execution error (In /app/views/Consumer/purchaseConfirmation.html around line 72)
Execution error occured in template /app/views/Consumer/purchaseConfirmation.html. Exception raised was NullPointerException : Cannot get property 'datacenter' on null object.

play.exceptions.TemplateExecutionException: Cannot get property 'datacenter' on null object
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:86)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:257)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Consumer.purchaseConfirmation(Consumer.java:233)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.NullPointerException: Cannot get property 'datacenter' on null object
	at /app/views/Consumer/purchaseConfirmation.html.(line:72)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:232)
	... 13 more
12:02:30,839 INFO  ~ ---------INSIDE CONSUMER OFFERDETAILS()---------------
12:02:30,839 DEBUG ~ /* load models.Offer */ select offer0_.id as id23_0_, offer0_.datacenter as datacenter23_0_, offer0_.defaultLeasePeriod as defaultL3_23_0_, offer0_.defaultNetworkType as defaultN4_23_0_, offer0_.defaultServiceLevel as defaultS5_23_0_, offer0_.hypervisorType as hypervis6_23_0_, offer0_.icon as icon23_0_, offer0_.iconName as iconName23_0_, offer0_.image as image23_0_, offer0_.longDescription as longDes10_23_0_, offer0_.name as name23_0_, offer0_.price as price23_0_, offer0_.serviceType as service13_23_0_, offer0_.shortDescription as shortDe14_23_0_, offer0_.state as state23_0_, offer0_.virtualAppliance as virtual16_23_0_, offer0_.virtualDatacenter as virtual17_23_0_, offer0_.virtualDatacenterName as virtual18_23_0_ from Offer offer0_ where offer0_.id=?
12:02:30,841 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_23_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_31_0_, nodes1_.cpu as cpu31_0_, nodes1_.description as descript3_31_0_, nodes1_.hd as hd31_0_, nodes1_.icon as icon31_0_, nodes1_.idImage as idImage31_0_, nodes1_.node_name as node7_31_0_, nodes1_.ram as ram31_0_, nodes1_1_.offer_id as offer1_32_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:02:30,843 INFO  ~ ------------EXITING CONSUMER OFFERDETAILS()--------------
12:02:30,845 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_31_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_29_0_, nodes_reso1_.resourceType as resource2_29_0_, nodes_reso1_.sequence as sequence29_0_, nodes_reso1_.value as value29_0_, nodes_reso1_1_.id_node as id1_30_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:12:49,946 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:12:49,947 ERROR ~ Table 'Deploy_Bundle' already exists
12:12:51,606 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
12:12:51,607 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
12:12:53,210 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
12:12:53,210 ERROR ~ Can't create table 'portal.#sql-3db_92' (errno: 150)
12:12:54,192 ERROR ~ Unsuccessful: alter table User add index FK285FEB920CADC6 (id), add constraint FK285FEB920CADC6 foreign key (id) references OfferPurchased (id)
12:12:54,193 ERROR ~ Can't create table 'portal.#sql-3db_92' (errno: 150)
12:12:54,502 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:12:54,502 INFO  ~ Enterprie ID for current User 3
12:12:54,503 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:12:54,504 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:12:55,017 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:12:55,017 INFO  ~ Enterprie ID for current User 3
12:12:55,017 INFO  ~ CURRENT USER EMAIL ID: userent
12:12:55,018 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:12:55,018 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:12:55,018 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id47_, offerpurch0_.expiration as expiration47_, offerpurch0_.idVirtualApplianceUser as idVirtua3_47_, offerpurch0_.leasePeriod as leasePer4_47_, offerpurch0_.serviceLevel as serviceL5_47_, offerpurch0_.start as start47_, offerpurch0_1_.user_id as user4_48_, offerpurch0_2_.offer_id as offer19_46_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
12:12:55,019 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:12:55,019 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:13:37,409 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:13:37,454 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:13:37,605 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
12:13:40,157 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:13:40,192 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:13:40,592 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:13:40,798 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.id=?
12:13:40,880 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.id=?
12:13:40,934 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.id=?
12:13:40,991 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:13:40,991 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id47_, offerpurch0_.expiration as expiration47_, offerpurch0_.idVirtualApplianceUser as idVirtua3_47_, offerpurch0_.leasePeriod as leasePer4_47_, offerpurch0_.serviceLevel as serviceL5_47_, offerpurch0_.start as start47_, offerpurch0_1_.user_id as user4_48_, offerpurch0_2_.offer_id as offer19_46_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
12:13:40,992 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:13:40,992 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:13:40,992 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:13:40,993 INFO  ~ resultSet1 size :0
12:13:40,993 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:13:40,993 INFO  ~  resultSet1 size []
12:13:40,993 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:13:42,340 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
12:13:42,375 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:13:42,438 INFO  ~  virtualDC  : Bronze
12:13:42,547 INFO  ~  va  : Bronze
12:13:42,715 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
12:13:49,672 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.id=? limit ?
12:13:49,679 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
12:13:49,679 INFO  ~ Session user in addToServiceCatalog(): admin
12:13:49,679 INFO  ~  and  vdc 3  & va_id : 1
12:13:49,679 INFO  ~  lease period 100 years
12:13:49,714 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:13:50,124 INFO  ~  description : dfafdfdf
12:13:50,175 INFO  ~  description : dfafdfdf
12:13:50,206 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
12:13:50,208 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:13:50,208 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:13:50,209 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
12:13:50,209 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:13:50,209 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:13:50,212 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
12:13:50,340 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:13:50,569 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.id=?
12:13:50,571 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.id=?
12:13:50,621 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.id=?
12:13:50,674 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:13:50,674 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id47_, offerpurch0_.expiration as expiration47_, offerpurch0_.idVirtualApplianceUser as idVirtua3_47_, offerpurch0_.leasePeriod as leasePer4_47_, offerpurch0_.serviceLevel as serviceL5_47_, offerpurch0_.start as start47_, offerpurch0_1_.user_id as user4_48_, offerpurch0_2_.offer_id as offer19_46_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
12:13:50,675 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:13:50,675 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:13:50,675 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:13:50,676 INFO  ~ resultSet1 size :1
12:13:50,676 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:13:50,677 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@4006fc65 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
12:13:50,677 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:13:50,705 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:13:50,705 INFO  ~  OfferID for icon 1
12:13:50,705 DEBUG ~ /* load models.Offer */ select offer0_.id as id46_0_, offer0_.datacenter as datacenter46_0_, offer0_.defaultLeasePeriod as defaultL3_46_0_, offer0_.defaultNetworkType as defaultN4_46_0_, offer0_.defaultServiceLevel as defaultS5_46_0_, offer0_.hypervisorType as hypervis6_46_0_, offer0_.icon as icon46_0_, offer0_.iconName as iconName46_0_, offer0_.image as image46_0_, offer0_.longDescription as longDes10_46_0_, offer0_.name as name46_0_, offer0_.price as price46_0_, offer0_.serviceType as service13_46_0_, offer0_.shortDescription as shortDe14_46_0_, offer0_.state as state46_0_, offer0_.virtualAppliance as virtual16_46_0_, offer0_.virtualDatacenter as virtual17_46_0_, offer0_.virtualDatacenterName as virtual18_46_0_ from Offer offer0_ where offer0_.id=?
12:13:50,707 INFO  ~ ------------------------- EXITING displayIcon()---------
12:13:54,364 INFO  ~ -----INSIDE LOGOUT()-----
12:14:00,314 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:14:00,359 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:14:00,507 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:14:00,516 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:14:00,516 INFO  ~ Enterprie ID for current User 3
12:14:00,516 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:14:00,518 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:14:00,695 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:14:00,695 INFO  ~ Enterprie ID for current User 3
12:14:00,695 INFO  ~ CURRENT USER EMAIL ID: userent
12:14:00,695 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:14:00,696 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:14:00,696 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id47_, offerpurch0_.expiration as expiration47_, offerpurch0_.idVirtualApplianceUser as idVirtua3_47_, offerpurch0_.leasePeriod as leasePer4_47_, offerpurch0_.serviceLevel as serviceL5_47_, offerpurch0_.start as start47_, offerpurch0_1_.user_id as user4_48_, offerpurch0_2_.offer_id as offer19_46_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
12:14:00,697 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:14:00,697 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:14:00,732 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:14:00,732 INFO  ~  OfferID for icon 1
12:14:00,732 DEBUG ~ /* load models.Offer */ select offer0_.id as id46_0_, offer0_.datacenter as datacenter46_0_, offer0_.defaultLeasePeriod as defaultL3_46_0_, offer0_.defaultNetworkType as defaultN4_46_0_, offer0_.defaultServiceLevel as defaultS5_46_0_, offer0_.hypervisorType as hypervis6_46_0_, offer0_.icon as icon46_0_, offer0_.iconName as iconName46_0_, offer0_.image as image46_0_, offer0_.longDescription as longDes10_46_0_, offer0_.name as name46_0_, offer0_.price as price46_0_, offer0_.serviceType as service13_46_0_, offer0_.shortDescription as shortDe14_46_0_, offer0_.state as state46_0_, offer0_.virtualAppliance as virtual16_46_0_, offer0_.virtualDatacenter as virtual17_46_0_, offer0_.virtualDatacenterName as virtual18_46_0_ from Offer offer0_ where offer0_.id=?
12:14:00,733 INFO  ~ ------------------------- EXITING displayIcon()---------
12:14:02,358 INFO  ~ ---------INSIDE CONSUMER OFFERDETAILS()---------------
12:14:02,358 DEBUG ~ /* load models.Offer */ select offer0_.id as id46_0_, offer0_.datacenter as datacenter46_0_, offer0_.defaultLeasePeriod as defaultL3_46_0_, offer0_.defaultNetworkType as defaultN4_46_0_, offer0_.defaultServiceLevel as defaultS5_46_0_, offer0_.hypervisorType as hypervis6_46_0_, offer0_.icon as icon46_0_, offer0_.iconName as iconName46_0_, offer0_.image as image46_0_, offer0_.longDescription as longDes10_46_0_, offer0_.name as name46_0_, offer0_.price as price46_0_, offer0_.serviceType as service13_46_0_, offer0_.shortDescription as shortDe14_46_0_, offer0_.state as state46_0_, offer0_.virtualAppliance as virtual16_46_0_, offer0_.virtualDatacenter as virtual17_46_0_, offer0_.virtualDatacenterName as virtual18_46_0_ from Offer offer0_ where offer0_.id=?
12:14:02,360 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_46_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_54_0_, nodes1_.cpu as cpu54_0_, nodes1_.description as descript3_54_0_, nodes1_.hd as hd54_0_, nodes1_.icon as icon54_0_, nodes1_.idImage as idImage54_0_, nodes1_.node_name as node7_54_0_, nodes1_.ram as ram54_0_, nodes1_1_.offer_id as offer1_55_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:14:02,363 INFO  ~ ------------EXITING CONSUMER OFFERDETAILS()--------------
12:14:02,388 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_54_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_52_0_, nodes_reso1_.resourceType as resource2_52_0_, nodes_reso1_.sequence as sequence52_0_, nodes_reso1_.value as value52_0_, nodes_reso1_1_.id_node as id1_53_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:14:02,434 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:14:02,434 INFO  ~  OfferID for icon 1
12:14:02,434 DEBUG ~ /* load models.Offer */ select offer0_.id as id46_0_, offer0_.datacenter as datacenter46_0_, offer0_.defaultLeasePeriod as defaultL3_46_0_, offer0_.defaultNetworkType as defaultN4_46_0_, offer0_.defaultServiceLevel as defaultS5_46_0_, offer0_.hypervisorType as hypervis6_46_0_, offer0_.icon as icon46_0_, offer0_.iconName as iconName46_0_, offer0_.image as image46_0_, offer0_.longDescription as longDes10_46_0_, offer0_.name as name46_0_, offer0_.price as price46_0_, offer0_.serviceType as service13_46_0_, offer0_.shortDescription as shortDe14_46_0_, offer0_.state as state46_0_, offer0_.virtualAppliance as virtual16_46_0_, offer0_.virtualDatacenter as virtual17_46_0_, offer0_.virtualDatacenterName as virtual18_46_0_ from Offer offer0_ where offer0_.id=?
12:14:02,435 INFO  ~ ------------------------- EXITING displayIcon()---------
12:14:08,497 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
12:14:08,497 INFO  ~ CURRENT USER EMAIL ID: userent
12:14:08,497 DEBUG ~ /* load models.Offer */ select offer0_.id as id46_0_, offer0_.datacenter as datacenter46_0_, offer0_.defaultLeasePeriod as defaultL3_46_0_, offer0_.defaultNetworkType as defaultN4_46_0_, offer0_.defaultServiceLevel as defaultS5_46_0_, offer0_.hypervisorType as hypervis6_46_0_, offer0_.icon as icon46_0_, offer0_.iconName as iconName46_0_, offer0_.image as image46_0_, offer0_.longDescription as longDes10_46_0_, offer0_.name as name46_0_, offer0_.price as price46_0_, offer0_.serviceType as service13_46_0_, offer0_.shortDescription as shortDe14_46_0_, offer0_.state as state46_0_, offer0_.virtualAppliance as virtual16_46_0_, offer0_.virtualDatacenter as virtual17_46_0_, offer0_.virtualDatacenterName as virtual18_46_0_ from Offer offer0_ where offer0_.id=?
12:14:08,499 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
12:14:08,574 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_46_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_54_0_, nodes1_.cpu as cpu54_0_, nodes1_.description as descript3_54_0_, nodes1_.hd as hd54_0_, nodes1_.icon as icon54_0_, nodes1_.idImage as idImage54_0_, nodes1_.node_name as node7_54_0_, nodes1_.ram as ram54_0_, nodes1_1_.offer_id as offer1_55_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:15:58,536 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:15:58,536 INFO  ~ Enterprie ID for current User 3
12:15:58,536 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:15:58,538 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:15:59,042 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:15:59,042 INFO  ~ Enterprie ID for current User 3
12:15:59,042 INFO  ~ CURRENT USER EMAIL ID: userent
12:15:59,042 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id46_, offer0_.datacenter as datacenter46_, offer0_.defaultLeasePeriod as defaultL3_46_, offer0_.defaultNetworkType as defaultN4_46_, offer0_.defaultServiceLevel as defaultS5_46_, offer0_.hypervisorType as hypervis6_46_, offer0_.icon as icon46_, offer0_.iconName as iconName46_, offer0_.image as image46_, offer0_.longDescription as longDes10_46_, offer0_.name as name46_, offer0_.price as price46_, offer0_.serviceType as service13_46_, offer0_.shortDescription as shortDe14_46_, offer0_.state as state46_, offer0_.virtualAppliance as virtual16_46_, offer0_.virtualDatacenter as virtual17_46_, offer0_.virtualDatacenterName as virtual18_46_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:15:59,043 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:15:59,043 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id47_, offerpurch0_.expiration as expiration47_, offerpurch0_.idVirtualApplianceUser as idVirtua3_47_, offerpurch0_.leasePeriod as leasePer4_47_, offerpurch0_.serviceLevel as serviceL5_47_, offerpurch0_.start as start47_, offerpurch0_1_.user_id as user4_48_, offerpurch0_2_.offer_id as offer19_46_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
12:15:59,043 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:15:59,043 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:15:59,093 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:15:59,093 INFO  ~  OfferID for icon 1
12:15:59,093 DEBUG ~ /* load models.Offer */ select offer0_.id as id46_0_, offer0_.datacenter as datacenter46_0_, offer0_.defaultLeasePeriod as defaultL3_46_0_, offer0_.defaultNetworkType as defaultN4_46_0_, offer0_.defaultServiceLevel as defaultS5_46_0_, offer0_.hypervisorType as hypervis6_46_0_, offer0_.icon as icon46_0_, offer0_.iconName as iconName46_0_, offer0_.image as image46_0_, offer0_.longDescription as longDes10_46_0_, offer0_.name as name46_0_, offer0_.price as price46_0_, offer0_.serviceType as service13_46_0_, offer0_.shortDescription as shortDe14_46_0_, offer0_.state as state46_0_, offer0_.virtualAppliance as virtual16_46_0_, offer0_.virtualDatacenter as virtual17_46_0_, offer0_.virtualDatacenterName as virtual18_46_0_ from Offer offer0_ where offer0_.id=?
12:15:59,094 INFO  ~ ------------------------- EXITING displayIcon()---------
12:16:00,551 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
12:16:00,551 INFO  ~ CURRENT USER EMAIL ID: userent
12:16:00,551 DEBUG ~ /* load models.Offer */ select offer0_.id as id46_0_, offer0_.datacenter as datacenter46_0_, offer0_.defaultLeasePeriod as defaultL3_46_0_, offer0_.defaultNetworkType as defaultN4_46_0_, offer0_.defaultServiceLevel as defaultS5_46_0_, offer0_.hypervisorType as hypervis6_46_0_, offer0_.icon as icon46_0_, offer0_.iconName as iconName46_0_, offer0_.image as image46_0_, offer0_.longDescription as longDes10_46_0_, offer0_.name as name46_0_, offer0_.price as price46_0_, offer0_.serviceType as service13_46_0_, offer0_.shortDescription as shortDe14_46_0_, offer0_.state as state46_0_, offer0_.virtualAppliance as virtual16_46_0_, offer0_.virtualDatacenter as virtual17_46_0_, offer0_.virtualDatacenterName as virtual18_46_0_ from Offer offer0_ where offer0_.id=?
12:16:00,552 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
12:16:00,557 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_46_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_54_0_, nodes1_.cpu as cpu54_0_, nodes1_.description as descript3_54_0_, nodes1_.hd as hd54_0_, nodes1_.icon as icon54_0_, nodes1_.idImage as idImage54_0_, nodes1_.node_name as node7_54_0_, nodes1_.ram as ram54_0_, nodes1_1_.offer_id as offer1_55_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:25:55,072 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
12:25:55,073 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
12:25:55,110 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:25:55,185 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
12:25:55,262 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:25:55,262 INFO  ~  vdcname : POR-userent-2012-09-07 12:25:55.262
12:25:55,324 INFO  ~  VDC to deploy: 
12:25:55,324 INFO  ~  Hypervisor to deploy: 
12:25:55,403 INFO  ~  Datacenter to deploy: 
12:25:55,404 INFO  ~  Network Built
12:25:55,405 INFO  ~ VDC built  
12:25:56,990 INFO  ~  1. VDC CREATED 
12:25:57,076 INFO  ~  2. VAPP CREATED 
12:25:57,077 WARN  ~ EXCEPTION OCCURED  IN deploy()
java.lang.NullPointerException
	at controllers.Consumer.Deploy(Consumer.java:343)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:34:01,040 INFO  ~ ---------INSIDE CONSUMER OFFERDETAILS()---------------
12:34:01,041 DEBUG ~ /* load models.Offer */ select offer0_.id as id46_0_, offer0_.datacenter as datacenter46_0_, offer0_.defaultLeasePeriod as defaultL3_46_0_, offer0_.defaultNetworkType as defaultN4_46_0_, offer0_.defaultServiceLevel as defaultS5_46_0_, offer0_.hypervisorType as hypervis6_46_0_, offer0_.icon as icon46_0_, offer0_.iconName as iconName46_0_, offer0_.image as image46_0_, offer0_.longDescription as longDes10_46_0_, offer0_.name as name46_0_, offer0_.price as price46_0_, offer0_.serviceType as service13_46_0_, offer0_.shortDescription as shortDe14_46_0_, offer0_.state as state46_0_, offer0_.virtualAppliance as virtual16_46_0_, offer0_.virtualDatacenter as virtual17_46_0_, offer0_.virtualDatacenterName as virtual18_46_0_ from Offer offer0_ where offer0_.id=?
12:34:01,042 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_46_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_54_0_, nodes1_.cpu as cpu54_0_, nodes1_.description as descript3_54_0_, nodes1_.hd as hd54_0_, nodes1_.icon as icon54_0_, nodes1_.idImage as idImage54_0_, nodes1_.node_name as node7_54_0_, nodes1_.ram as ram54_0_, nodes1_1_.offer_id as offer1_55_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:34:01,043 INFO  ~ ------------EXITING CONSUMER OFFERDETAILS()--------------
12:34:01,045 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_54_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_52_0_, nodes_reso1_.resourceType as resource2_52_0_, nodes_reso1_.sequence as sequence52_0_, nodes_reso1_.value as value52_0_, nodes_reso1_1_.id_node as id1_53_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:34:01,109 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:34:01,109 INFO  ~  OfferID for icon 1
12:34:01,110 DEBUG ~ /* load models.Offer */ select offer0_.id as id46_0_, offer0_.datacenter as datacenter46_0_, offer0_.defaultLeasePeriod as defaultL3_46_0_, offer0_.defaultNetworkType as defaultN4_46_0_, offer0_.defaultServiceLevel as defaultS5_46_0_, offer0_.hypervisorType as hypervis6_46_0_, offer0_.icon as icon46_0_, offer0_.iconName as iconName46_0_, offer0_.image as image46_0_, offer0_.longDescription as longDes10_46_0_, offer0_.name as name46_0_, offer0_.price as price46_0_, offer0_.serviceType as service13_46_0_, offer0_.shortDescription as shortDe14_46_0_, offer0_.state as state46_0_, offer0_.virtualAppliance as virtual16_46_0_, offer0_.virtualDatacenter as virtual17_46_0_, offer0_.virtualDatacenterName as virtual18_46_0_ from Offer offer0_ where offer0_.id=?
12:34:01,111 INFO  ~ ------------------------- EXITING displayIcon()---------
12:34:07,938 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
12:34:07,939 INFO  ~ CURRENT USER EMAIL ID: userent
12:34:07,939 DEBUG ~ /* load models.Offer */ select offer0_.id as id46_0_, offer0_.datacenter as datacenter46_0_, offer0_.defaultLeasePeriod as defaultL3_46_0_, offer0_.defaultNetworkType as defaultN4_46_0_, offer0_.defaultServiceLevel as defaultS5_46_0_, offer0_.hypervisorType as hypervis6_46_0_, offer0_.icon as icon46_0_, offer0_.iconName as iconName46_0_, offer0_.image as image46_0_, offer0_.longDescription as longDes10_46_0_, offer0_.name as name46_0_, offer0_.price as price46_0_, offer0_.serviceType as service13_46_0_, offer0_.shortDescription as shortDe14_46_0_, offer0_.state as state46_0_, offer0_.virtualAppliance as virtual16_46_0_, offer0_.virtualDatacenter as virtual17_46_0_, offer0_.virtualDatacenterName as virtual18_46_0_ from Offer offer0_ where offer0_.id=?
12:34:07,941 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
12:34:07,943 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_46_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_54_0_, nodes1_.cpu as cpu54_0_, nodes1_.description as descript3_54_0_, nodes1_.hd as hd54_0_, nodes1_.icon as icon54_0_, nodes1_.idImage as idImage54_0_, nodes1_.node_name as node7_54_0_, nodes1_.ram as ram54_0_, nodes1_1_.offer_id as offer1_55_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:46:37,320 ERROR ~ 

@6bibffa8h
Internal Server Error (500) for request GET /consumer/servicecatalog?enterpriseID=3

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Duplicate query mapping getUser

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.DuplicateMappingException: Duplicate query mapping getUser
	at org.hibernate.cfg.Configuration$MappingsImpl.checkQueryName(Configuration.java:3241)
	at org.hibernate.cfg.Configuration$MappingsImpl.applyQuery(Configuration.java:3235)
	at org.hibernate.cfg.Configuration$MappingsImpl.addQuery(Configuration.java:3230)
	at org.hibernate.cfg.annotations.QueryBinder.bindQuery(QueryBinder.java:84)
	at org.hibernate.cfg.annotations.QueryBinder.bindQueries(QueryBinder.java:208)
	at org.hibernate.cfg.AnnotationBinder.bindQueries(AnnotationBinder.java:329)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:548)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3977)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3931)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1368)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:46:44,208 ERROR ~ 

@6bibffa8i
Internal Server Error (500) for request GET /consumer/servicecatalog?enterpriseID=3

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Duplicate query mapping getUser

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.DuplicateMappingException: Duplicate query mapping getUser
	at org.hibernate.cfg.Configuration$MappingsImpl.checkQueryName(Configuration.java:3241)
	at org.hibernate.cfg.Configuration$MappingsImpl.applyQuery(Configuration.java:3235)
	at org.hibernate.cfg.Configuration$MappingsImpl.addQuery(Configuration.java:3230)
	at org.hibernate.cfg.annotations.QueryBinder.bindQuery(QueryBinder.java:84)
	at org.hibernate.cfg.annotations.QueryBinder.bindQueries(QueryBinder.java:208)
	at org.hibernate.cfg.AnnotationBinder.bindQueries(AnnotationBinder.java:329)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:548)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3977)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3931)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1368)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:46:44,966 ERROR ~ 

@6bibffa8j
Internal Server Error (500) for request GET /consumer/servicecatalog?enterpriseID=3

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Duplicate query mapping getUser

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.DuplicateMappingException: Duplicate query mapping getUser
	at org.hibernate.cfg.Configuration$MappingsImpl.checkQueryName(Configuration.java:3241)
	at org.hibernate.cfg.Configuration$MappingsImpl.applyQuery(Configuration.java:3235)
	at org.hibernate.cfg.Configuration$MappingsImpl.addQuery(Configuration.java:3230)
	at org.hibernate.cfg.annotations.QueryBinder.bindQuery(QueryBinder.java:84)
	at org.hibernate.cfg.annotations.QueryBinder.bindQueries(QueryBinder.java:208)
	at org.hibernate.cfg.AnnotationBinder.bindQueries(AnnotationBinder.java:329)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:548)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3977)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3931)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1368)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:46:45,621 ERROR ~ 

@6bibffa8k
Internal Server Error (500) for request GET /consumer/servicecatalog?enterpriseID=3

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Duplicate query mapping getUser

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.DuplicateMappingException: Duplicate query mapping getUser
	at org.hibernate.cfg.Configuration$MappingsImpl.checkQueryName(Configuration.java:3241)
	at org.hibernate.cfg.Configuration$MappingsImpl.applyQuery(Configuration.java:3235)
	at org.hibernate.cfg.Configuration$MappingsImpl.addQuery(Configuration.java:3230)
	at org.hibernate.cfg.annotations.QueryBinder.bindQuery(QueryBinder.java:84)
	at org.hibernate.cfg.annotations.QueryBinder.bindQueries(QueryBinder.java:208)
	at org.hibernate.cfg.AnnotationBinder.bindQueries(AnnotationBinder.java:329)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:548)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3977)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3931)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1368)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:47:47,089 ERROR ~ 

@6bibffa8l
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Duplicate query mapping getUser

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.DuplicateMappingException: Duplicate query mapping getUser
	at org.hibernate.cfg.Configuration$MappingsImpl.checkQueryName(Configuration.java:3241)
	at org.hibernate.cfg.Configuration$MappingsImpl.applyQuery(Configuration.java:3235)
	at org.hibernate.cfg.Configuration$MappingsImpl.addQuery(Configuration.java:3230)
	at org.hibernate.cfg.annotations.QueryBinder.bindQuery(QueryBinder.java:84)
	at org.hibernate.cfg.annotations.QueryBinder.bindQueries(QueryBinder.java:208)
	at org.hibernate.cfg.AnnotationBinder.bindQueries(AnnotationBinder.java:329)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:548)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3977)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3931)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1368)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:47:48,847 ERROR ~ 

@6bibffa8m
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Duplicate query mapping getUser

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.DuplicateMappingException: Duplicate query mapping getUser
	at org.hibernate.cfg.Configuration$MappingsImpl.checkQueryName(Configuration.java:3241)
	at org.hibernate.cfg.Configuration$MappingsImpl.applyQuery(Configuration.java:3235)
	at org.hibernate.cfg.Configuration$MappingsImpl.addQuery(Configuration.java:3230)
	at org.hibernate.cfg.annotations.QueryBinder.bindQuery(QueryBinder.java:84)
	at org.hibernate.cfg.annotations.QueryBinder.bindQueries(QueryBinder.java:208)
	at org.hibernate.cfg.AnnotationBinder.bindQueries(AnnotationBinder.java:329)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:548)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3977)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3931)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1368)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:47:49,540 ERROR ~ 

@6bibffa8n
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Duplicate query mapping getUser

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.DuplicateMappingException: Duplicate query mapping getUser
	at org.hibernate.cfg.Configuration$MappingsImpl.checkQueryName(Configuration.java:3241)
	at org.hibernate.cfg.Configuration$MappingsImpl.applyQuery(Configuration.java:3235)
	at org.hibernate.cfg.Configuration$MappingsImpl.addQuery(Configuration.java:3230)
	at org.hibernate.cfg.annotations.QueryBinder.bindQuery(QueryBinder.java:84)
	at org.hibernate.cfg.annotations.QueryBinder.bindQueries(QueryBinder.java:208)
	at org.hibernate.cfg.AnnotationBinder.bindQueries(AnnotationBinder.java:329)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:548)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3977)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3931)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1368)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:47:50,030 ERROR ~ 

@6bibffa8o
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Duplicate query mapping getUser

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.DuplicateMappingException: Duplicate query mapping getUser
	at org.hibernate.cfg.Configuration$MappingsImpl.checkQueryName(Configuration.java:3241)
	at org.hibernate.cfg.Configuration$MappingsImpl.applyQuery(Configuration.java:3235)
	at org.hibernate.cfg.Configuration$MappingsImpl.addQuery(Configuration.java:3230)
	at org.hibernate.cfg.annotations.QueryBinder.bindQuery(QueryBinder.java:84)
	at org.hibernate.cfg.annotations.QueryBinder.bindQueries(QueryBinder.java:208)
	at org.hibernate.cfg.AnnotationBinder.bindQueries(AnnotationBinder.java:329)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:548)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3977)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3931)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1368)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:47:50,359 ERROR ~ 

@6bibffa8p
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Duplicate query mapping getUser

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.DuplicateMappingException: Duplicate query mapping getUser
	at org.hibernate.cfg.Configuration$MappingsImpl.checkQueryName(Configuration.java:3241)
	at org.hibernate.cfg.Configuration$MappingsImpl.applyQuery(Configuration.java:3235)
	at org.hibernate.cfg.Configuration$MappingsImpl.addQuery(Configuration.java:3230)
	at org.hibernate.cfg.annotations.QueryBinder.bindQuery(QueryBinder.java:84)
	at org.hibernate.cfg.annotations.QueryBinder.bindQueries(QueryBinder.java:208)
	at org.hibernate.cfg.AnnotationBinder.bindQueries(AnnotationBinder.java:329)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:548)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3977)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3931)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1368)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:47:50,632 ERROR ~ 

@6bibffa90
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Duplicate query mapping getUser

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.DuplicateMappingException: Duplicate query mapping getUser
	at org.hibernate.cfg.Configuration$MappingsImpl.checkQueryName(Configuration.java:3241)
	at org.hibernate.cfg.Configuration$MappingsImpl.applyQuery(Configuration.java:3235)
	at org.hibernate.cfg.Configuration$MappingsImpl.addQuery(Configuration.java:3230)
	at org.hibernate.cfg.annotations.QueryBinder.bindQuery(QueryBinder.java:84)
	at org.hibernate.cfg.annotations.QueryBinder.bindQueries(QueryBinder.java:208)
	at org.hibernate.cfg.AnnotationBinder.bindQueries(AnnotationBinder.java:329)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:548)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3977)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3931)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1368)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:47:50,920 ERROR ~ 

@6bibffa91
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Duplicate query mapping getUser

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.DuplicateMappingException: Duplicate query mapping getUser
	at org.hibernate.cfg.Configuration$MappingsImpl.checkQueryName(Configuration.java:3241)
	at org.hibernate.cfg.Configuration$MappingsImpl.applyQuery(Configuration.java:3235)
	at org.hibernate.cfg.Configuration$MappingsImpl.addQuery(Configuration.java:3230)
	at org.hibernate.cfg.annotations.QueryBinder.bindQuery(QueryBinder.java:84)
	at org.hibernate.cfg.annotations.QueryBinder.bindQueries(QueryBinder.java:208)
	at org.hibernate.cfg.AnnotationBinder.bindQueries(AnnotationBinder.java:329)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:548)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3977)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3931)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1368)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:47:51,167 ERROR ~ 

@6bibffa92
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Duplicate query mapping getUser

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.DuplicateMappingException: Duplicate query mapping getUser
	at org.hibernate.cfg.Configuration$MappingsImpl.checkQueryName(Configuration.java:3241)
	at org.hibernate.cfg.Configuration$MappingsImpl.applyQuery(Configuration.java:3235)
	at org.hibernate.cfg.Configuration$MappingsImpl.addQuery(Configuration.java:3230)
	at org.hibernate.cfg.annotations.QueryBinder.bindQuery(QueryBinder.java:84)
	at org.hibernate.cfg.annotations.QueryBinder.bindQueries(QueryBinder.java:208)
	at org.hibernate.cfg.AnnotationBinder.bindQueries(AnnotationBinder.java:329)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:548)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3977)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3931)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1368)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:47:51,416 ERROR ~ 

@6bibffa93
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Duplicate query mapping getUser

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.DuplicateMappingException: Duplicate query mapping getUser
	at org.hibernate.cfg.Configuration$MappingsImpl.checkQueryName(Configuration.java:3241)
	at org.hibernate.cfg.Configuration$MappingsImpl.applyQuery(Configuration.java:3235)
	at org.hibernate.cfg.Configuration$MappingsImpl.addQuery(Configuration.java:3230)
	at org.hibernate.cfg.annotations.QueryBinder.bindQuery(QueryBinder.java:84)
	at org.hibernate.cfg.annotations.QueryBinder.bindQueries(QueryBinder.java:208)
	at org.hibernate.cfg.AnnotationBinder.bindQueries(AnnotationBinder.java:329)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:548)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3977)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3931)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1368)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:47:51,693 ERROR ~ 

@6bibffa94
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Duplicate query mapping getUser

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.DuplicateMappingException: Duplicate query mapping getUser
	at org.hibernate.cfg.Configuration$MappingsImpl.checkQueryName(Configuration.java:3241)
	at org.hibernate.cfg.Configuration$MappingsImpl.applyQuery(Configuration.java:3235)
	at org.hibernate.cfg.Configuration$MappingsImpl.addQuery(Configuration.java:3230)
	at org.hibernate.cfg.annotations.QueryBinder.bindQuery(QueryBinder.java:84)
	at org.hibernate.cfg.annotations.QueryBinder.bindQueries(QueryBinder.java:208)
	at org.hibernate.cfg.AnnotationBinder.bindQueries(AnnotationBinder.java:329)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:548)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3977)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3931)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1368)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:47:51,957 ERROR ~ 

@6bibffa95
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Duplicate query mapping getUser

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.DuplicateMappingException: Duplicate query mapping getUser
	at org.hibernate.cfg.Configuration$MappingsImpl.checkQueryName(Configuration.java:3241)
	at org.hibernate.cfg.Configuration$MappingsImpl.applyQuery(Configuration.java:3235)
	at org.hibernate.cfg.Configuration$MappingsImpl.addQuery(Configuration.java:3230)
	at org.hibernate.cfg.annotations.QueryBinder.bindQuery(QueryBinder.java:84)
	at org.hibernate.cfg.annotations.QueryBinder.bindQueries(QueryBinder.java:208)
	at org.hibernate.cfg.AnnotationBinder.bindQueries(AnnotationBinder.java:329)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:548)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3977)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3931)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1368)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:47:52,179 ERROR ~ 

@6bibffa96
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Duplicate query mapping getUser

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.DuplicateMappingException: Duplicate query mapping getUser
	at org.hibernate.cfg.Configuration$MappingsImpl.checkQueryName(Configuration.java:3241)
	at org.hibernate.cfg.Configuration$MappingsImpl.applyQuery(Configuration.java:3235)
	at org.hibernate.cfg.Configuration$MappingsImpl.addQuery(Configuration.java:3230)
	at org.hibernate.cfg.annotations.QueryBinder.bindQuery(QueryBinder.java:84)
	at org.hibernate.cfg.annotations.QueryBinder.bindQueries(QueryBinder.java:208)
	at org.hibernate.cfg.AnnotationBinder.bindQueries(AnnotationBinder.java:329)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:548)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3977)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3931)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1368)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:48:24,005 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
12:48:24,008 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
12:48:24,392 WARN  ~ You're running Play! in DEV mode
12:48:24,439 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
12:48:26,683 INFO  ~ Connected to jdbc:mysql://localhost/portal
12:48:32,778 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:48:32,778 ERROR ~ Table 'Deploy_Bundle' already exists
12:48:34,389 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
12:48:34,389 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
12:48:35,746 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
12:48:35,746 ERROR ~ Can't create table 'portal.#sql-3db_94' (errno: 150)
12:48:37,432 INFO  ~ Application 'UserPortal' is now started !
12:48:44,882 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:48:45,461 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:48:45,953 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
12:48:47,310 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:48:47,377 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:48:48,075 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:48:48,302 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:48:48,405 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:48:48,461 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:48:48,534 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:48:48,534 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
12:48:48,536 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:48:48,536 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:48:48,536 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:48:48,539 INFO  ~ resultSet1 size :0
12:48:48,539 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:48:48,539 INFO  ~  resultSet1 size []
12:48:48,539 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:48:49,745 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
12:48:49,793 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:48:49,866 INFO  ~  virtualDC  : Bronze
12:48:49,979 INFO  ~  va  : Bronze
12:48:50,145 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
12:48:56,103 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:48:56,331 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:48:56,403 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:48:56,457 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:48:56,510 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:48:56,510 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
12:48:56,511 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:48:56,511 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:48:56,511 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:48:56,512 INFO  ~ resultSet1 size :0
12:48:56,512 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:48:56,512 INFO  ~  resultSet1 size []
12:48:56,512 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:48:56,531 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=? limit ?
12:48:56,545 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
12:48:56,546 INFO  ~ Session user in addToServiceCatalog(): admin
12:48:56,546 INFO  ~  and  vdc 3  & va_id : 1
12:48:56,546 INFO  ~  lease period 100 years
12:48:56,588 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:48:57,237 INFO  ~  description : asdf
12:48:57,305 INFO  ~  description : asdf
12:48:57,361 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
12:48:57,363 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:48:57,364 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:48:57,365 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
12:48:57,366 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:48:57,366 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:48:57,369 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
12:49:00,332 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:49:00,530 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:49:00,592 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:49:00,592 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
12:49:00,594 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:49:00,594 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:49:00,594 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:49:00,595 INFO  ~ resultSet1 size :0
12:49:00,595 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:49:00,595 INFO  ~  resultSet1 size []
12:49:00,596 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:49:01,555 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:49:01,768 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:49:01,774 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:49:01,826 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:49:01,880 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:49:01,881 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
12:49:01,881 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:49:01,881 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:49:01,882 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:49:01,883 INFO  ~ resultSet1 size :1
12:49:01,883 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:49:01,885 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@5214cda3 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
12:49:01,885 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:49:01,911 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:49:01,911 INFO  ~  OfferID for icon 1
12:49:01,912 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
12:49:01,914 INFO  ~ ------------------------- EXITING displayIcon()---------
12:49:05,893 INFO  ~ -----INSIDE LOGOUT()-----
12:49:11,298 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:49:11,339 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:49:11,467 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:49:11,498 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:49:11,498 INFO  ~ Enterprie ID for current User 3
12:49:11,499 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:49:11,502 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:49:11,589 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:49:11,589 INFO  ~ Enterprie ID for current User 3
12:49:11,589 INFO  ~ CURRENT USER EMAIL ID: userent
12:49:11,589 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:49:11,591 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:49:11,591 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
12:49:11,591 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:49:11,591 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:49:11,622 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:49:11,622 INFO  ~  OfferID for icon 1
12:49:11,622 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
12:49:11,623 INFO  ~ ------------------------- EXITING displayIcon()---------
12:49:13,574 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
12:49:13,574 INFO  ~ CURRENT USER EMAIL ID: userent
12:49:13,574 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
12:49:13,576 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
12:49:13,591 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_9_0_, nodes1_.cpu as cpu9_0_, nodes1_.description as descript3_9_0_, nodes1_.hd as hd9_0_, nodes1_.icon as icon9_0_, nodes1_.idImage as idImage9_0_, nodes1_.node_name as node7_9_0_, nodes1_.ram as ram9_0_, nodes1_1_.offer_id as offer1_10_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:49:16,313 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
12:49:16,313 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
12:49:16,351 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:49:16,419 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
12:49:16,501 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:49:16,501 INFO  ~  vdcname : POR-userent-2012-09-07 12:49:16.5
12:49:16,564 INFO  ~  VDC to deploy: 
12:49:16,564 INFO  ~  Hypervisor to deploy: 
12:49:16,632 INFO  ~  Datacenter to deploy: 
12:49:16,632 INFO  ~  Network Built
12:49:16,632 INFO  ~ VDC built  
12:49:18,083 INFO  ~  1. VDC CREATED 
12:49:18,166 INFO  ~  2. VAPP CREATED 
12:49:18,167 INFO  ~ --------------------
12:49:18,167 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
12:49:18,169 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
12:49:18,170 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:49:18,171 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
12:49:18,171 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_9_0_, nodes1_.cpu as cpu9_0_, nodes1_.description as descript3_9_0_, nodes1_.hd as hd9_0_, nodes1_.icon as icon9_0_, nodes1_.idImage as idImage9_0_, nodes1_.node_name as node7_9_0_, nodes1_.ram as ram9_0_, nodes1_1_.offer_id as offer1_10_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:49:18,446 INFO  ~  3. VM CREATED
12:49:18,447 WARN  ~ EXCEPTION OCCURED  IN deploy()
java.lang.NullPointerException
	at controllers.Consumer.Deploy(Consumer.java:419)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:51:33,871 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
12:51:33,874 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
12:51:34,462 WARN  ~ You're running Play! in DEV mode
12:51:34,514 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
12:51:37,465 INFO  ~ Connected to jdbc:mysql://localhost/portal
12:51:43,122 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:51:43,122 ERROR ~ Table 'Deploy_Bundle' already exists
12:51:44,790 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
12:51:44,790 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
12:51:46,056 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
12:51:46,056 ERROR ~ Can't create table 'portal.#sql-3db_98' (errno: 150)
12:51:47,607 INFO  ~ Application 'UserPortal' is now started !
13:06:19,800 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
13:06:20,512 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:06:21,097 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
13:07:11,995 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:07:12,110 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:07:12,703 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:07:12,886 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
13:07:12,985 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:07:12,985 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
13:07:12,986 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:07:12,986 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:07:12,986 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:07:12,988 INFO  ~ resultSet1 size :0
13:07:12,988 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:07:12,988 INFO  ~  resultSet1 size []
13:07:12,988 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:07:16,739 INFO  ~  -----INSIDE PRODUCER LISTVM()------
13:07:16,792 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:07:17,097 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
13:07:17,097 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
13:07:17,100 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
13:07:17,311 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
13:07:17,312 INFO  ~ Session user in vmDetails(): admin
13:07:17,641 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
13:07:17,641 INFO  ~ Session user in vmDetails(): admin
13:07:25,780 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:07:25,984 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
13:07:26,059 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:07:26,059 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
13:07:26,060 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:07:26,060 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:07:26,060 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:07:26,061 INFO  ~ resultSet1 size :0
13:07:26,061 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:07:26,061 INFO  ~  resultSet1 size []
13:07:26,061 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:07:28,260 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:07:28,445 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
13:07:28,530 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:07:28,530 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
13:07:28,531 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:07:28,531 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:07:28,531 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:07:28,532 INFO  ~ resultSet1 size :0
13:07:28,532 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:07:28,532 INFO  ~  resultSet1 size []
13:07:28,532 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:07:35,809 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:07:35,863 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:07:36,186 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:07:36,429 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
13:07:36,513 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:07:36,513 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
13:07:36,514 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:07:36,514 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:07:36,514 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:07:36,516 INFO  ~ resultSet1 size :0
13:07:36,516 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:07:36,516 INFO  ~  resultSet1 size []
13:07:36,516 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:18:53,505 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:18:53,555 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:18:53,866 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:18:54,062 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
13:18:54,151 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:18:54,151 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
13:18:54,152 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:18:54,153 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:18:54,153 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:18:54,160 INFO  ~ resultSet1 size :0
13:18:54,160 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:18:54,160 INFO  ~  resultSet1 size []
13:18:54,160 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:27:53,072 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
09:27:53,133 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
09:27:53,930 WARN  ~ You're running Play! in DEV mode
09:27:54,033 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
09:27:58,857 INFO  ~ Connected to jdbc:mysql://localhost/portal
09:28:03,804 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
09:28:03,804 ERROR ~ Table 'Deploy_Bundle' already exists
09:28:05,572 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
09:28:05,572 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
09:28:06,830 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
09:28:06,830 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
09:28:08,449 INFO  ~ Application 'UserPortal' is now started !
09:28:15,765 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
09:28:16,498 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:28:17,158 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
09:28:18,750 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
09:28:18,820 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:28:19,516 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:28:19,761 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:28:19,898 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:28:19,911 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:28:19,912 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:28:19,912 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:28:19,913 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:28:19,915 INFO  ~ resultSet1 size :0
09:28:19,915 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:28:19,915 INFO  ~  resultSet1 size []
09:28:19,915 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:28:46,003 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
09:28:46,060 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:28:46,517 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:28:46,748 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:28:46,828 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:28:46,891 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:28:46,953 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:28:46,953 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:28:46,954 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:28:46,954 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:28:46,954 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:28:46,956 INFO  ~ resultSet1 size :0
09:28:46,956 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:28:46,956 INFO  ~  resultSet1 size []
09:28:46,956 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:28:51,525 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
09:28:51,577 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:28:51,641 INFO  ~  virtualDC  : Bronze
09:28:51,774 INFO  ~  va  : Bronze
09:28:51,938 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
09:28:57,171 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:28:57,402 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:28:57,479 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:28:57,539 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:28:57,638 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:28:57,638 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:28:57,640 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:28:57,640 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:28:57,640 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:28:57,641 INFO  ~ resultSet1 size :0
09:28:57,641 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:28:57,642 INFO  ~  resultSet1 size []
09:28:57,642 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:28:57,682 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=? limit ?
09:28:57,705 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
09:28:57,705 INFO  ~ Session user in addToServiceCatalog(): admin
09:28:57,705 INFO  ~  and  vdc 3  & va_id : 3
09:28:57,705 INFO  ~  lease period 100 years
09:28:57,748 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:28:58,475 INFO  ~  description : asdf
09:28:58,545 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
09:28:58,548 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
09:28:58,550 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
09:28:58,552 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
09:28:58,556 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
09:29:00,680 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:29:00,888 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:29:00,950 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:29:00,951 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:29:00,951 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:29:00,951 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:29:00,951 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:29:00,952 INFO  ~ resultSet1 size :0
09:29:00,952 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:29:00,952 INFO  ~  resultSet1 size []
09:29:00,952 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:29:01,553 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:29:01,770 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:29:01,843 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:29:01,910 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:29:01,918 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:29:01,918 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:29:01,919 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:29:01,919 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:29:01,919 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:29:01,921 INFO  ~ resultSet1 size :1
09:29:01,921 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:29:01,923 INFO  ~  resultSet1 size [sc_offer [ID :3, Name : webserver3, Icon: play.db.jpa.Blob@3099e91c , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
09:29:01,923 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:29:01,944 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:29:01,944 INFO  ~  OfferID for icon 3
09:29:01,945 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
09:29:01,947 INFO  ~ ------------------------- EXITING displayIcon()---------
09:29:03,964 INFO  ~  -----INSIDE PRODUCER LISTVM()------
09:29:04,001 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:29:04,250 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
09:29:04,250 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:29:04,252 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
09:29:04,408 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:29:04,408 INFO  ~  OfferID for icon 3
09:29:04,408 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
09:29:04,409 INFO  ~ ------------------------- EXITING displayIcon()---------
09:29:04,414 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
09:29:04,414 INFO  ~ Session user in vmDetails(): admin
09:29:07,952 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:29:08,131 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:29:08,186 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:29:08,186 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:29:08,186 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:29:08,186 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:29:08,186 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:29:08,187 INFO  ~ resultSet1 size :0
09:29:08,187 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:29:08,187 INFO  ~  resultSet1 size []
09:29:08,187 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:29:09,498 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:29:09,697 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:29:09,771 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:29:09,831 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:29:09,833 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:29:09,833 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:29:09,833 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:29:09,833 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:29:09,834 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:29:09,835 INFO  ~ resultSet1 size :1
09:29:09,835 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:29:09,835 INFO  ~  resultSet1 size [sc_offer [ID :3, Name : webserver3, Icon: play.db.jpa.Blob@1328fa3c , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
09:29:09,835 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:29:09,858 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:29:09,858 INFO  ~  OfferID for icon 3
09:29:09,858 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
09:29:09,859 INFO  ~ ------------------------- EXITING displayIcon()---------
09:29:13,002 INFO  ~ -----INSIDE LOGOUT()-----
09:29:18,533 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
09:29:18,570 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
09:29:18,726 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
09:29:18,771 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
09:29:18,771 INFO  ~ Enterprie ID for current User 3
09:29:18,771 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ group by offer0_.defaultServiceLevel
09:29:18,773 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
09:29:18,944 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
09:29:18,944 INFO  ~ Enterprie ID for current User 3
09:29:18,944 INFO  ~ CURRENT USER EMAIL ID: userent
09:29:18,944 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
09:29:18,946 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:29:18,946 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:29:18,946 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:29:18,946 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
09:29:19,106 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:29:19,106 INFO  ~  OfferID for icon 3
09:29:19,106 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
09:29:19,107 INFO  ~ ------------------------- EXITING displayIcon()---------
09:29:21,414 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
09:29:21,414 INFO  ~ Enterprie ID for current User 3
09:29:21,414 INFO  ~ CURRENT USER EMAIL ID: userent
09:29:21,468 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
09:29:21,606 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ group by offer0_.defaultServiceLevel
09:29:21,608 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
09:29:24,385 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
09:29:24,385 INFO  ~ Enterprie ID for current User 3
09:29:24,385 INFO  ~ CURRENT USER EMAIL ID: userent
09:29:24,385 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
09:29:24,387 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:29:24,387 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_1_.user_id as user1_3_, offerpurch0_2_.offer_id as offer19_1_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:29:24,387 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:29:24,387 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
09:29:24,458 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:29:24,458 INFO  ~  OfferID for icon 3
09:29:24,458 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
09:29:24,459 INFO  ~ ------------------------- EXITING displayIcon()---------
09:29:25,805 INFO  ~ ---------INSIDE CONSUMER OFFERDETAILS()---------------
09:29:25,805 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
09:29:25,809 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_9_0_, nodes1_.cpu as cpu9_0_, nodes1_.description as descript3_9_0_, nodes1_.hd as hd9_0_, nodes1_.icon as icon9_0_, nodes1_.idImage as idImage9_0_, nodes1_.node_name as node7_9_0_, nodes1_.ram as ram9_0_, nodes1_1_.offer_id as offer1_10_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:29:25,815 INFO  ~ ------------EXITING CONSUMER OFFERDETAILS()--------------
09:29:25,855 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_9_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_7_0_, nodes_reso1_.resourceType as resource2_7_0_, nodes_reso1_.sequence as sequence7_0_, nodes_reso1_.value as value7_0_, nodes_reso1_1_.id_node as id1_8_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
09:29:25,882 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:29:25,882 INFO  ~  OfferID for icon 3
09:29:25,882 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
09:29:25,883 INFO  ~ ------------------------- EXITING displayIcon()---------
09:29:29,388 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
09:29:29,389 INFO  ~ CURRENT USER EMAIL ID: userent
09:29:29,389 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
09:29:29,391 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
09:29:29,408 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_9_0_, nodes1_.cpu as cpu9_0_, nodes1_.description as descript3_9_0_, nodes1_.hd as hd9_0_, nodes1_.icon as icon9_0_, nodes1_.idImage as idImage9_0_, nodes1_.node_name as node7_9_0_, nodes1_.ram as ram9_0_, nodes1_1_.offer_id as offer1_10_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:32:40,980 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
09:32:40,980 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 3 , String va_param:: webserver3)
09:32:41,018 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
09:32:41,126 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
09:33:43,688 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
09:33:45,264 INFO  ~  vdcname : POR-userent-2012-09-10 09:33:38.303
09:33:46,384 INFO  ~  VDC to deploy: 
09:33:49,647 INFO  ~  Hypervisor to deploy: 
09:33:54,648 INFO  ~  Datacenter to deploy: 
09:33:57,927 INFO  ~  Network Built
09:34:07,375 INFO  ~ VDC built  
09:34:10,278 INFO  ~  1. VDC CREATED 
09:34:14,886 INFO  ~  2. VAPP CREATED 
09:34:45,550 INFO  ~ --------------------
09:38:02,007 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
09:38:02,009 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
09:38:02,010 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:38:02,011 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
09:38:02,011 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_9_0_, nodes1_.cpu as cpu9_0_, nodes1_.description as descript3_9_0_, nodes1_.hd as hd9_0_, nodes1_.icon as icon9_0_, nodes1_.idImage as idImage9_0_, nodes1_.node_name as node7_9_0_, nodes1_.ram as ram9_0_, nodes1_1_.offer_id as offer1_10_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:38:02,192 INFO  ~  3. VM CREATED
09:38:02,194 WARN  ~ EXCEPTION OCCURED  IN deploy()
java.lang.NullPointerException
	at controllers.Consumer.Deploy(Consumer.java:419)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
09:39:25,346 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
09:39:25,346 ERROR ~ Table 'Deploy_Bundle' already exists
09:39:27,049 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
09:39:27,049 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
09:39:28,323 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
09:39:28,324 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
09:39:29,739 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
09:39:29,740 INFO  ~ CURRENT USER EMAIL ID: userent
09:39:29,740 DEBUG ~ /* load models.Offer */ select offer0_.id as id25_0_, offer0_.datacenter as datacenter25_0_, offer0_.defaultLeasePeriod as defaultL3_25_0_, offer0_.defaultNetworkType as defaultN4_25_0_, offer0_.defaultServiceLevel as defaultS5_25_0_, offer0_.hypervisorType as hypervis6_25_0_, offer0_.icon as icon25_0_, offer0_.iconName as iconName25_0_, offer0_.image as image25_0_, offer0_.longDescription as longDes10_25_0_, offer0_.name as name25_0_, offer0_.price as price25_0_, offer0_.serviceType as service13_25_0_, offer0_.shortDescription as shortDe14_25_0_, offer0_.state as state25_0_, offer0_.virtualAppliance as virtual16_25_0_, offer0_.virtualDatacenter as virtual17_25_0_, offer0_.virtualDatacenterName as virtual18_25_0_ from Offer offer0_ where offer0_.id=?
09:39:29,740 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
09:39:29,853 ERROR ~ 

@6bj6k07di
Internal Server Error (500) for request GET /consumer/purchaseconfirmation?offer_id=3

Template execution error (In /app/views/Consumer/purchaseConfirmation.html around line 30)
Execution error occured in template /app/views/Consumer/purchaseConfirmation.html. Exception raised was NullPointerException : Cannot get property 'name' on null object.

play.exceptions.TemplateExecutionException: Cannot get property 'name' on null object
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:86)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:257)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Consumer.purchaseConfirmation(Consumer.java:220)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.NullPointerException: Cannot get property 'name' on null object
	at /app/views/Consumer/purchaseConfirmation.html.(line:30)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:232)
	... 13 more
09:39:29,857 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
09:39:29,857 INFO  ~ CURRENT USER EMAIL ID: userent
09:39:29,857 DEBUG ~ /* load models.Offer */ select offer0_.id as id25_0_, offer0_.datacenter as datacenter25_0_, offer0_.defaultLeasePeriod as defaultL3_25_0_, offer0_.defaultNetworkType as defaultN4_25_0_, offer0_.defaultServiceLevel as defaultS5_25_0_, offer0_.hypervisorType as hypervis6_25_0_, offer0_.icon as icon25_0_, offer0_.iconName as iconName25_0_, offer0_.image as image25_0_, offer0_.longDescription as longDes10_25_0_, offer0_.name as name25_0_, offer0_.price as price25_0_, offer0_.serviceType as service13_25_0_, offer0_.shortDescription as shortDe14_25_0_, offer0_.state as state25_0_, offer0_.virtualAppliance as virtual16_25_0_, offer0_.virtualDatacenter as virtual17_25_0_, offer0_.virtualDatacenterName as virtual18_25_0_ from Offer offer0_ where offer0_.id=?
09:39:29,857 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
09:39:30,185 ERROR ~ 

@6bj6k07dj
Internal Server Error (500) for request GET /consumer/purchaseconfirmation?offer_id=3

Template execution error (In /app/views/Consumer/purchaseConfirmation.html around line 30)
Execution error occured in template /app/views/Consumer/purchaseConfirmation.html. Exception raised was NullPointerException : Cannot get property 'name' on null object.

play.exceptions.TemplateExecutionException: Cannot get property 'name' on null object
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:86)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:257)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Consumer.purchaseConfirmation(Consumer.java:220)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.NullPointerException: Cannot get property 'name' on null object
	at /app/views/Consumer/purchaseConfirmation.html.(line:30)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:232)
	... 13 more
09:39:41,464 INFO  ~ -----INSIDE LOGOUT()-----
09:39:47,080 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
09:39:47,135 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:39:47,334 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
09:39:48,785 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
09:39:48,822 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:39:49,426 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:39:49,737 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id25_, offer0_.datacenter as datacenter25_, offer0_.defaultLeasePeriod as defaultL3_25_, offer0_.defaultNetworkType as defaultN4_25_, offer0_.defaultServiceLevel as defaultS5_25_, offer0_.hypervisorType as hypervis6_25_, offer0_.icon as icon25_, offer0_.iconName as iconName25_, offer0_.image as image25_, offer0_.longDescription as longDes10_25_, offer0_.name as name25_, offer0_.price as price25_, offer0_.serviceType as service13_25_, offer0_.shortDescription as shortDe14_25_, offer0_.state as state25_, offer0_.virtualAppliance as virtual16_25_, offer0_.virtualDatacenter as virtual17_25_, offer0_.virtualDatacenterName as virtual18_25_ from Offer offer0_ where offer0_.id=?
09:39:49,839 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id25_, offer0_.datacenter as datacenter25_, offer0_.defaultLeasePeriod as defaultL3_25_, offer0_.defaultNetworkType as defaultN4_25_, offer0_.defaultServiceLevel as defaultS5_25_, offer0_.hypervisorType as hypervis6_25_, offer0_.icon as icon25_, offer0_.iconName as iconName25_, offer0_.image as image25_, offer0_.longDescription as longDes10_25_, offer0_.name as name25_, offer0_.price as price25_, offer0_.serviceType as service13_25_, offer0_.shortDescription as shortDe14_25_, offer0_.state as state25_, offer0_.virtualAppliance as virtual16_25_, offer0_.virtualDatacenter as virtual17_25_, offer0_.virtualDatacenterName as virtual18_25_ from Offer offer0_ where offer0_.id=?
09:39:49,910 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id25_, offer0_.datacenter as datacenter25_, offer0_.defaultLeasePeriod as defaultL3_25_, offer0_.defaultNetworkType as defaultN4_25_, offer0_.defaultServiceLevel as defaultS5_25_, offer0_.hypervisorType as hypervis6_25_, offer0_.icon as icon25_, offer0_.iconName as iconName25_, offer0_.image as image25_, offer0_.longDescription as longDes10_25_, offer0_.name as name25_, offer0_.price as price25_, offer0_.serviceType as service13_25_, offer0_.shortDescription as shortDe14_25_, offer0_.state as state25_, offer0_.virtualAppliance as virtual16_25_, offer0_.virtualDatacenter as virtual17_25_, offer0_.virtualDatacenterName as virtual18_25_ from Offer offer0_ where offer0_.id=?
09:39:49,999 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:39:49,999 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id26_, offerpurch0_.expiration as expiration26_, offerpurch0_.idVirtualApplianceUser as idVirtua3_26_, offerpurch0_.leasePeriod as leasePer4_26_, offerpurch0_.serviceLevel as serviceL5_26_, offerpurch0_.start as start26_, offerpurch0_1_.user_id as user1_27_, offerpurch0_2_.offer_id as offer19_25_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:39:50,000 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:39:50,000 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:39:50,000 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id25_, offer0_.datacenter as datacenter25_, offer0_.defaultLeasePeriod as defaultL3_25_, offer0_.defaultNetworkType as defaultN4_25_, offer0_.defaultServiceLevel as defaultS5_25_, offer0_.hypervisorType as hypervis6_25_, offer0_.icon as icon25_, offer0_.iconName as iconName25_, offer0_.image as image25_, offer0_.longDescription as longDes10_25_, offer0_.name as name25_, offer0_.price as price25_, offer0_.serviceType as service13_25_, offer0_.shortDescription as shortDe14_25_, offer0_.state as state25_, offer0_.virtualAppliance as virtual16_25_, offer0_.virtualDatacenter as virtual17_25_, offer0_.virtualDatacenterName as virtual18_25_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:39:50,001 INFO  ~ resultSet1 size :0
09:39:50,001 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:39:50,001 INFO  ~  resultSet1 size []
09:39:50,001 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:39:51,356 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
09:39:51,391 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:39:51,478 INFO  ~  virtualDC  : Bronze
09:39:51,695 INFO  ~  va  : Bronze
09:39:51,938 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
09:39:57,916 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id25_, offer0_.datacenter as datacenter25_, offer0_.defaultLeasePeriod as defaultL3_25_, offer0_.defaultNetworkType as defaultN4_25_, offer0_.defaultServiceLevel as defaultS5_25_, offer0_.hypervisorType as hypervis6_25_, offer0_.icon as icon25_, offer0_.iconName as iconName25_, offer0_.image as image25_, offer0_.longDescription as longDes10_25_, offer0_.name as name25_, offer0_.price as price25_, offer0_.serviceType as service13_25_, offer0_.shortDescription as shortDe14_25_, offer0_.state as state25_, offer0_.virtualAppliance as virtual16_25_, offer0_.virtualDatacenter as virtual17_25_, offer0_.virtualDatacenterName as virtual18_25_ from Offer offer0_ where offer0_.id=? limit ?
09:39:57,927 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
09:39:57,927 INFO  ~ Session user in addToServiceCatalog(): admin
09:39:57,927 INFO  ~  and  vdc 3  & va_id : 1
09:39:57,927 INFO  ~  lease period 100 years
09:39:57,971 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:39:58,594 INFO  ~  description : sadfffs
09:39:58,716 INFO  ~  description : sadfffs
09:39:58,761 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
09:39:58,764 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
09:39:58,764 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
09:39:58,765 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
09:39:58,766 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
09:39:58,766 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
09:39:58,770 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
09:39:58,917 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:39:59,277 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id25_, offer0_.datacenter as datacenter25_, offer0_.defaultLeasePeriod as defaultL3_25_, offer0_.defaultNetworkType as defaultN4_25_, offer0_.defaultServiceLevel as defaultS5_25_, offer0_.hypervisorType as hypervis6_25_, offer0_.icon as icon25_, offer0_.iconName as iconName25_, offer0_.image as image25_, offer0_.longDescription as longDes10_25_, offer0_.name as name25_, offer0_.price as price25_, offer0_.serviceType as service13_25_, offer0_.shortDescription as shortDe14_25_, offer0_.state as state25_, offer0_.virtualAppliance as virtual16_25_, offer0_.virtualDatacenter as virtual17_25_, offer0_.virtualDatacenterName as virtual18_25_ from Offer offer0_ where offer0_.id=?
09:39:59,280 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id25_, offer0_.datacenter as datacenter25_, offer0_.defaultLeasePeriod as defaultL3_25_, offer0_.defaultNetworkType as defaultN4_25_, offer0_.defaultServiceLevel as defaultS5_25_, offer0_.hypervisorType as hypervis6_25_, offer0_.icon as icon25_, offer0_.iconName as iconName25_, offer0_.image as image25_, offer0_.longDescription as longDes10_25_, offer0_.name as name25_, offer0_.price as price25_, offer0_.serviceType as service13_25_, offer0_.shortDescription as shortDe14_25_, offer0_.state as state25_, offer0_.virtualAppliance as virtual16_25_, offer0_.virtualDatacenter as virtual17_25_, offer0_.virtualDatacenterName as virtual18_25_ from Offer offer0_ where offer0_.id=?
09:39:59,382 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id25_, offer0_.datacenter as datacenter25_, offer0_.defaultLeasePeriod as defaultL3_25_, offer0_.defaultNetworkType as defaultN4_25_, offer0_.defaultServiceLevel as defaultS5_25_, offer0_.hypervisorType as hypervis6_25_, offer0_.icon as icon25_, offer0_.iconName as iconName25_, offer0_.image as image25_, offer0_.longDescription as longDes10_25_, offer0_.name as name25_, offer0_.price as price25_, offer0_.serviceType as service13_25_, offer0_.shortDescription as shortDe14_25_, offer0_.state as state25_, offer0_.virtualAppliance as virtual16_25_, offer0_.virtualDatacenter as virtual17_25_, offer0_.virtualDatacenterName as virtual18_25_ from Offer offer0_ where offer0_.id=?
09:39:59,460 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:39:59,461 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id26_, offerpurch0_.expiration as expiration26_, offerpurch0_.idVirtualApplianceUser as idVirtua3_26_, offerpurch0_.leasePeriod as leasePer4_26_, offerpurch0_.serviceLevel as serviceL5_26_, offerpurch0_.start as start26_, offerpurch0_1_.user_id as user1_27_, offerpurch0_2_.offer_id as offer19_25_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:39:59,462 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:39:59,462 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:39:59,462 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id25_, offer0_.datacenter as datacenter25_, offer0_.defaultLeasePeriod as defaultL3_25_, offer0_.defaultNetworkType as defaultN4_25_, offer0_.defaultServiceLevel as defaultS5_25_, offer0_.hypervisorType as hypervis6_25_, offer0_.icon as icon25_, offer0_.iconName as iconName25_, offer0_.image as image25_, offer0_.longDescription as longDes10_25_, offer0_.name as name25_, offer0_.price as price25_, offer0_.serviceType as service13_25_, offer0_.shortDescription as shortDe14_25_, offer0_.state as state25_, offer0_.virtualAppliance as virtual16_25_, offer0_.virtualDatacenter as virtual17_25_, offer0_.virtualDatacenterName as virtual18_25_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:39:59,463 INFO  ~ resultSet1 size :1
09:39:59,463 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:39:59,463 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@8a7d8b0 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
09:39:59,463 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:39:59,493 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:39:59,493 INFO  ~  OfferID for icon 1
09:39:59,493 DEBUG ~ /* load models.Offer */ select offer0_.id as id25_0_, offer0_.datacenter as datacenter25_0_, offer0_.defaultLeasePeriod as defaultL3_25_0_, offer0_.defaultNetworkType as defaultN4_25_0_, offer0_.defaultServiceLevel as defaultS5_25_0_, offer0_.hypervisorType as hypervis6_25_0_, offer0_.icon as icon25_0_, offer0_.iconName as iconName25_0_, offer0_.image as image25_0_, offer0_.longDescription as longDes10_25_0_, offer0_.name as name25_0_, offer0_.price as price25_0_, offer0_.serviceType as service13_25_0_, offer0_.shortDescription as shortDe14_25_0_, offer0_.state as state25_0_, offer0_.virtualAppliance as virtual16_25_0_, offer0_.virtualDatacenter as virtual17_25_0_, offer0_.virtualDatacenterName as virtual18_25_0_ from Offer offer0_ where offer0_.id=?
09:39:59,495 INFO  ~ ------------------------- EXITING displayIcon()---------
09:40:01,308 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
09:40:01,355 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:40:01,879 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:40:02,252 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id25_, offer0_.datacenter as datacenter25_, offer0_.defaultLeasePeriod as defaultL3_25_, offer0_.defaultNetworkType as defaultN4_25_, offer0_.defaultServiceLevel as defaultS5_25_, offer0_.hypervisorType as hypervis6_25_, offer0_.icon as icon25_, offer0_.iconName as iconName25_, offer0_.image as image25_, offer0_.longDescription as longDes10_25_, offer0_.name as name25_, offer0_.price as price25_, offer0_.serviceType as service13_25_, offer0_.shortDescription as shortDe14_25_, offer0_.state as state25_, offer0_.virtualAppliance as virtual16_25_, offer0_.virtualDatacenter as virtual17_25_, offer0_.virtualDatacenterName as virtual18_25_ from Offer offer0_ where offer0_.id=?
09:40:02,254 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id25_, offer0_.datacenter as datacenter25_, offer0_.defaultLeasePeriod as defaultL3_25_, offer0_.defaultNetworkType as defaultN4_25_, offer0_.defaultServiceLevel as defaultS5_25_, offer0_.hypervisorType as hypervis6_25_, offer0_.icon as icon25_, offer0_.iconName as iconName25_, offer0_.image as image25_, offer0_.longDescription as longDes10_25_, offer0_.name as name25_, offer0_.price as price25_, offer0_.serviceType as service13_25_, offer0_.shortDescription as shortDe14_25_, offer0_.state as state25_, offer0_.virtualAppliance as virtual16_25_, offer0_.virtualDatacenter as virtual17_25_, offer0_.virtualDatacenterName as virtual18_25_ from Offer offer0_ where offer0_.id=?
09:40:02,328 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id25_, offer0_.datacenter as datacenter25_, offer0_.defaultLeasePeriod as defaultL3_25_, offer0_.defaultNetworkType as defaultN4_25_, offer0_.defaultServiceLevel as defaultS5_25_, offer0_.hypervisorType as hypervis6_25_, offer0_.icon as icon25_, offer0_.iconName as iconName25_, offer0_.image as image25_, offer0_.longDescription as longDes10_25_, offer0_.name as name25_, offer0_.price as price25_, offer0_.serviceType as service13_25_, offer0_.shortDescription as shortDe14_25_, offer0_.state as state25_, offer0_.virtualAppliance as virtual16_25_, offer0_.virtualDatacenter as virtual17_25_, offer0_.virtualDatacenterName as virtual18_25_ from Offer offer0_ where offer0_.id=?
09:40:02,403 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:40:02,403 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id26_, offerpurch0_.expiration as expiration26_, offerpurch0_.idVirtualApplianceUser as idVirtua3_26_, offerpurch0_.leasePeriod as leasePer4_26_, offerpurch0_.serviceLevel as serviceL5_26_, offerpurch0_.start as start26_, offerpurch0_1_.user_id as user1_27_, offerpurch0_2_.offer_id as offer19_25_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:40:02,404 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:40:02,404 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:40:02,404 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id25_, offer0_.datacenter as datacenter25_, offer0_.defaultLeasePeriod as defaultL3_25_, offer0_.defaultNetworkType as defaultN4_25_, offer0_.defaultServiceLevel as defaultS5_25_, offer0_.hypervisorType as hypervis6_25_, offer0_.icon as icon25_, offer0_.iconName as iconName25_, offer0_.image as image25_, offer0_.longDescription as longDes10_25_, offer0_.name as name25_, offer0_.price as price25_, offer0_.serviceType as service13_25_, offer0_.shortDescription as shortDe14_25_, offer0_.state as state25_, offer0_.virtualAppliance as virtual16_25_, offer0_.virtualDatacenter as virtual17_25_, offer0_.virtualDatacenterName as virtual18_25_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:40:02,405 INFO  ~ resultSet1 size :1
09:40:02,405 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:40:02,405 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@f631ab6 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
09:40:02,405 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:40:02,437 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:40:02,437 INFO  ~  OfferID for icon 1
09:40:02,437 DEBUG ~ /* load models.Offer */ select offer0_.id as id25_0_, offer0_.datacenter as datacenter25_0_, offer0_.defaultLeasePeriod as defaultL3_25_0_, offer0_.defaultNetworkType as defaultN4_25_0_, offer0_.defaultServiceLevel as defaultS5_25_0_, offer0_.hypervisorType as hypervis6_25_0_, offer0_.icon as icon25_0_, offer0_.iconName as iconName25_0_, offer0_.image as image25_0_, offer0_.longDescription as longDes10_25_0_, offer0_.name as name25_0_, offer0_.price as price25_0_, offer0_.serviceType as service13_25_0_, offer0_.shortDescription as shortDe14_25_0_, offer0_.state as state25_0_, offer0_.virtualAppliance as virtual16_25_0_, offer0_.virtualDatacenter as virtual17_25_0_, offer0_.virtualDatacenterName as virtual18_25_0_ from Offer offer0_ where offer0_.id=?
09:40:02,438 INFO  ~ ------------------------- EXITING displayIcon()---------
09:40:06,095 INFO  ~ -----INSIDE LOGOUT()-----
09:40:11,360 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
09:40:11,405 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
09:40:11,593 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
09:40:11,603 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
09:40:11,603 INFO  ~ Enterprie ID for current User 3
09:40:11,603 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id25_, offer0_.datacenter as datacenter25_, offer0_.defaultLeasePeriod as defaultL3_25_, offer0_.defaultNetworkType as defaultN4_25_, offer0_.defaultServiceLevel as defaultS5_25_, offer0_.hypervisorType as hypervis6_25_, offer0_.icon as icon25_, offer0_.iconName as iconName25_, offer0_.image as image25_, offer0_.longDescription as longDes10_25_, offer0_.name as name25_, offer0_.price as price25_, offer0_.serviceType as service13_25_, offer0_.shortDescription as shortDe14_25_, offer0_.state as state25_, offer0_.virtualAppliance as virtual16_25_, offer0_.virtualDatacenter as virtual17_25_, offer0_.virtualDatacenterName as virtual18_25_ from Offer offer0_ group by offer0_.defaultServiceLevel
09:40:11,605 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
09:40:11,733 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
09:40:11,733 INFO  ~ Enterprie ID for current User 3
09:40:11,733 INFO  ~ CURRENT USER EMAIL ID: userent
09:40:11,734 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id25_, offer0_.datacenter as datacenter25_, offer0_.defaultLeasePeriod as defaultL3_25_, offer0_.defaultNetworkType as defaultN4_25_, offer0_.defaultServiceLevel as defaultS5_25_, offer0_.hypervisorType as hypervis6_25_, offer0_.icon as icon25_, offer0_.iconName as iconName25_, offer0_.image as image25_, offer0_.longDescription as longDes10_25_, offer0_.name as name25_, offer0_.price as price25_, offer0_.serviceType as service13_25_, offer0_.shortDescription as shortDe14_25_, offer0_.state as state25_, offer0_.virtualAppliance as virtual16_25_, offer0_.virtualDatacenter as virtual17_25_, offer0_.virtualDatacenterName as virtual18_25_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
09:40:11,735 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:40:11,735 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id26_, offerpurch0_.expiration as expiration26_, offerpurch0_.idVirtualApplianceUser as idVirtua3_26_, offerpurch0_.leasePeriod as leasePer4_26_, offerpurch0_.serviceLevel as serviceL5_26_, offerpurch0_.start as start26_, offerpurch0_1_.user_id as user1_27_, offerpurch0_2_.offer_id as offer19_25_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:40:11,735 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:40:11,735 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
09:40:11,770 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:40:11,770 INFO  ~  OfferID for icon 1
09:40:11,770 DEBUG ~ /* load models.Offer */ select offer0_.id as id25_0_, offer0_.datacenter as datacenter25_0_, offer0_.defaultLeasePeriod as defaultL3_25_0_, offer0_.defaultNetworkType as defaultN4_25_0_, offer0_.defaultServiceLevel as defaultS5_25_0_, offer0_.hypervisorType as hypervis6_25_0_, offer0_.icon as icon25_0_, offer0_.iconName as iconName25_0_, offer0_.image as image25_0_, offer0_.longDescription as longDes10_25_0_, offer0_.name as name25_0_, offer0_.price as price25_0_, offer0_.serviceType as service13_25_0_, offer0_.shortDescription as shortDe14_25_0_, offer0_.state as state25_0_, offer0_.virtualAppliance as virtual16_25_0_, offer0_.virtualDatacenter as virtual17_25_0_, offer0_.virtualDatacenterName as virtual18_25_0_ from Offer offer0_ where offer0_.id=?
09:40:11,771 INFO  ~ ------------------------- EXITING displayIcon()---------
09:40:13,497 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
09:40:13,497 INFO  ~ CURRENT USER EMAIL ID: userent
09:40:13,497 DEBUG ~ /* load models.Offer */ select offer0_.id as id25_0_, offer0_.datacenter as datacenter25_0_, offer0_.defaultLeasePeriod as defaultL3_25_0_, offer0_.defaultNetworkType as defaultN4_25_0_, offer0_.defaultServiceLevel as defaultS5_25_0_, offer0_.hypervisorType as hypervis6_25_0_, offer0_.icon as icon25_0_, offer0_.iconName as iconName25_0_, offer0_.image as image25_0_, offer0_.longDescription as longDes10_25_0_, offer0_.name as name25_0_, offer0_.price as price25_0_, offer0_.serviceType as service13_25_0_, offer0_.shortDescription as shortDe14_25_0_, offer0_.state as state25_0_, offer0_.virtualAppliance as virtual16_25_0_, offer0_.virtualDatacenter as virtual17_25_0_, offer0_.virtualDatacenterName as virtual18_25_0_ from Offer offer0_ where offer0_.id=?
09:40:13,498 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
09:40:13,610 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_25_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_33_0_, nodes1_.cpu as cpu33_0_, nodes1_.description as descript3_33_0_, nodes1_.hd as hd33_0_, nodes1_.icon as icon33_0_, nodes1_.idImage as idImage33_0_, nodes1_.node_name as node7_33_0_, nodes1_.ram as ram33_0_, nodes1_1_.offer_id as offer1_34_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:40:24,908 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
09:40:26,124 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
09:40:28,260 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
09:40:31,236 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
09:40:34,597 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
09:40:34,797 INFO  ~  vdcname : POR-userent-2012-09-10 09:40:34.396
09:40:36,253 INFO  ~  VDC to deploy: 
09:40:36,956 INFO  ~  Hypervisor to deploy: 
09:40:37,388 INFO  ~  Datacenter to deploy: 
09:40:38,452 INFO  ~  Network Built
09:40:39,972 INFO  ~ VDC built  
09:40:45,044 INFO  ~  1. VDC CREATED 
09:40:48,452 INFO  ~  2. VAPP CREATED 
09:40:53,347 INFO  ~ --------------------
09:41:00,668 DEBUG ~ /* load models.Offer */ select offer0_.id as id25_0_, offer0_.datacenter as datacenter25_0_, offer0_.defaultLeasePeriod as defaultL3_25_0_, offer0_.defaultNetworkType as defaultN4_25_0_, offer0_.defaultServiceLevel as defaultS5_25_0_, offer0_.hypervisorType as hypervis6_25_0_, offer0_.icon as icon25_0_, offer0_.iconName as iconName25_0_, offer0_.image as image25_0_, offer0_.longDescription as longDes10_25_0_, offer0_.name as name25_0_, offer0_.price as price25_0_, offer0_.serviceType as service13_25_0_, offer0_.shortDescription as shortDe14_25_0_, offer0_.state as state25_0_, offer0_.virtualAppliance as virtual16_25_0_, offer0_.virtualDatacenter as virtual17_25_0_, offer0_.virtualDatacenterName as virtual18_25_0_ from Offer offer0_ where offer0_.id=?
09:41:05,652 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
09:41:05,652 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id25_, offer0_.datacenter as datacenter25_, offer0_.defaultLeasePeriod as defaultL3_25_, offer0_.defaultNetworkType as defaultN4_25_, offer0_.defaultServiceLevel as defaultS5_25_, offer0_.hypervisorType as hypervis6_25_, offer0_.icon as icon25_, offer0_.iconName as iconName25_, offer0_.image as image25_, offer0_.longDescription as longDes10_25_, offer0_.name as name25_, offer0_.price as price25_, offer0_.serviceType as service13_25_, offer0_.shortDescription as shortDe14_25_, offer0_.state as state25_, offer0_.virtualAppliance as virtual16_25_, offer0_.virtualDatacenter as virtual17_25_, offer0_.virtualDatacenterName as virtual18_25_ from Offer offer0_ where offer0_.id=?
09:41:05,674 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
09:41:08,804 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_25_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_33_0_, nodes1_.cpu as cpu33_0_, nodes1_.description as descript3_33_0_, nodes1_.hd as hd33_0_, nodes1_.icon as icon33_0_, nodes1_.idImage as idImage33_0_, nodes1_.node_name as node7_33_0_, nodes1_.ram as ram33_0_, nodes1_1_.offer_id as offer1_34_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:41:15,579 INFO  ~  3. VM CREATED
09:41:44,051 WARN  ~ EXCEPTION OCCURED  IN deploy()
java.lang.NullPointerException
	at controllers.Consumer.Deploy(Consumer.java:418)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
09:41:47,459 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
09:41:47,459 INFO  ~ CURRENT USER EMAIL ID: userent
09:41:47,459 DEBUG ~ /* load models.Offer */ select offer0_.id as id25_0_, offer0_.datacenter as datacenter25_0_, offer0_.defaultLeasePeriod as defaultL3_25_0_, offer0_.defaultNetworkType as defaultN4_25_0_, offer0_.defaultServiceLevel as defaultS5_25_0_, offer0_.hypervisorType as hypervis6_25_0_, offer0_.icon as icon25_0_, offer0_.iconName as iconName25_0_, offer0_.image as image25_0_, offer0_.longDescription as longDes10_25_0_, offer0_.name as name25_0_, offer0_.price as price25_0_, offer0_.serviceType as service13_25_0_, offer0_.shortDescription as shortDe14_25_0_, offer0_.state as state25_0_, offer0_.virtualAppliance as virtual16_25_0_, offer0_.virtualDatacenter as virtual17_25_0_, offer0_.virtualDatacenterName as virtual18_25_0_ from Offer offer0_ where offer0_.id=?
09:41:47,460 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
09:41:47,461 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_25_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_33_0_, nodes1_.cpu as cpu33_0_, nodes1_.description as descript3_33_0_, nodes1_.hd as hd33_0_, nodes1_.icon as icon33_0_, nodes1_.idImage as idImage33_0_, nodes1_.node_name as node7_33_0_, nodes1_.ram as ram33_0_, nodes1_1_.offer_id as offer1_34_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:41:50,227 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
09:41:50,227 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
09:41:50,282 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
09:41:50,391 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
09:41:52,075 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
09:41:52,075 INFO  ~  vdcname : POR-userent-2012-09-10 09:41:52.075
09:41:52,201 INFO  ~  VDC to deploy: 
09:41:52,201 INFO  ~  Hypervisor to deploy: 
09:41:52,298 INFO  ~  Datacenter to deploy: 
09:41:52,298 INFO  ~  Network Built
09:41:52,298 INFO  ~ VDC built  
09:41:54,316 INFO  ~  1. VDC CREATED 
09:41:54,461 INFO  ~  2. VAPP CREATED 
09:41:54,461 INFO  ~ --------------------
09:42:02,275 DEBUG ~ /* load models.Offer */ select offer0_.id as id25_0_, offer0_.datacenter as datacenter25_0_, offer0_.defaultLeasePeriod as defaultL3_25_0_, offer0_.defaultNetworkType as defaultN4_25_0_, offer0_.defaultServiceLevel as defaultS5_25_0_, offer0_.hypervisorType as hypervis6_25_0_, offer0_.icon as icon25_0_, offer0_.iconName as iconName25_0_, offer0_.image as image25_0_, offer0_.longDescription as longDes10_25_0_, offer0_.name as name25_0_, offer0_.price as price25_0_, offer0_.serviceType as service13_25_0_, offer0_.shortDescription as shortDe14_25_0_, offer0_.state as state25_0_, offer0_.virtualAppliance as virtual16_25_0_, offer0_.virtualDatacenter as virtual17_25_0_, offer0_.virtualDatacenterName as virtual18_25_0_ from Offer offer0_ where offer0_.id=?
09:42:59,426 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
09:42:59,427 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id25_, offer0_.datacenter as datacenter25_, offer0_.defaultLeasePeriod as defaultL3_25_, offer0_.defaultNetworkType as defaultN4_25_, offer0_.defaultServiceLevel as defaultS5_25_, offer0_.hypervisorType as hypervis6_25_, offer0_.icon as icon25_, offer0_.iconName as iconName25_, offer0_.image as image25_, offer0_.longDescription as longDes10_25_, offer0_.name as name25_, offer0_.price as price25_, offer0_.serviceType as service13_25_, offer0_.shortDescription as shortDe14_25_, offer0_.state as state25_, offer0_.virtualAppliance as virtual16_25_, offer0_.virtualDatacenter as virtual17_25_, offer0_.virtualDatacenterName as virtual18_25_ from Offer offer0_ where offer0_.id=?
09:42:59,443 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
09:43:03,651 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_25_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_33_0_, nodes1_.cpu as cpu33_0_, nodes1_.description as descript3_33_0_, nodes1_.hd as hd33_0_, nodes1_.icon as icon33_0_, nodes1_.idImage as idImage33_0_, nodes1_.node_name as node7_33_0_, nodes1_.ram as ram33_0_, nodes1_1_.offer_id as offer1_34_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:43:10,346 INFO  ~  3. VM CREATED
09:44:09,165 WARN  ~ EXCEPTION OCCURED  IN deploy()
java.lang.NullPointerException
	at controllers.Consumer.Deploy(Consumer.java:418)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
09:46:54,418 ERROR ~ 

@6bj6k07dl
Internal Server Error (500) for request GET /consumer/purchasedOffers?enterpriseID=3

Compilation error (In /app/controllers/Consumer.java around line 464)
The file /app/controllers/Consumer.java could not be compiled. Error raised is : The method setNodes(Set&lt;Deploy_Bundle_Nodes>) in the type Deploy_Bundle is not applicable for the arguments (ArrayList&lt;Deploy_Bundle_Nodes>)

play.exceptions.CompilationException: The method setNodes(Set<Deploy_Bundle_Nodes>) in the type Deploy_Bundle is not applicable for the arguments (ArrayList<Deploy_Bundle_Nodes>)
	at play.classloading.ApplicationCompiler$2.acceptResult(ApplicationCompiler.java:246)
	at org.eclipse.jdt.internal.compiler.Compiler.handleInternalException(Compiler.java:676)
	at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:520)
	at play.classloading.ApplicationCompiler.compile(ApplicationCompiler.java:282)
	at play.classloading.ApplicationClasses$ApplicationClass.compile(ApplicationClasses.java:277)
	at play.classloading.ApplicationClassloader.detectChanges(ApplicationClassloader.java:322)
	at play.Play.detectChanges(Play.java:614)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
09:46:55,035 ERROR ~ 

@6bj6k07dm
Internal Server Error (500) for request GET /consumer/availableoffersAll?enterpriseID=3

Compilation error (In /app/controllers/Consumer.java around line 464)
The file /app/controllers/Consumer.java could not be compiled. Error raised is : The method setNodes(Set&lt;Deploy_Bundle_Nodes>) in the type Deploy_Bundle is not applicable for the arguments (ArrayList&lt;Deploy_Bundle_Nodes>)

play.exceptions.CompilationException: The method setNodes(Set<Deploy_Bundle_Nodes>) in the type Deploy_Bundle is not applicable for the arguments (ArrayList<Deploy_Bundle_Nodes>)
	at play.classloading.ApplicationCompiler$2.acceptResult(ApplicationCompiler.java:246)
	at org.eclipse.jdt.internal.compiler.Compiler.handleInternalException(Compiler.java:676)
	at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:520)
	at play.classloading.ApplicationCompiler.compile(ApplicationCompiler.java:282)
	at play.classloading.ApplicationClasses$ApplicationClass.compile(ApplicationClasses.java:277)
	at play.classloading.ApplicationClassloader.detectChanges(ApplicationClassloader.java:322)
	at play.Play.detectChanges(Play.java:614)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
09:46:56,990 ERROR ~ 

@6bj6k07dn
Internal Server Error (500) for request GET /consumer/servicecatalog?enterpriseID=3

Compilation error (In /app/controllers/Consumer.java around line 464)
The file /app/controllers/Consumer.java could not be compiled. Error raised is : The method setNodes(Set&lt;Deploy_Bundle_Nodes>) in the type Deploy_Bundle is not applicable for the arguments (ArrayList&lt;Deploy_Bundle_Nodes>)

play.exceptions.CompilationException: The method setNodes(Set<Deploy_Bundle_Nodes>) in the type Deploy_Bundle is not applicable for the arguments (ArrayList<Deploy_Bundle_Nodes>)
	at play.classloading.ApplicationCompiler$2.acceptResult(ApplicationCompiler.java:246)
	at org.eclipse.jdt.internal.compiler.Compiler.handleInternalException(Compiler.java:676)
	at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:520)
	at play.classloading.ApplicationCompiler.compile(ApplicationCompiler.java:282)
	at play.classloading.ApplicationClasses$ApplicationClass.compile(ApplicationClasses.java:277)
	at play.classloading.ApplicationClassloader.detectChanges(ApplicationClassloader.java:322)
	at play.Play.detectChanges(Play.java:614)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
09:50:39,528 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
09:50:39,528 ERROR ~ Table 'Deploy_Bundle' already exists
09:50:41,414 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
09:50:41,414 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
09:50:42,655 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
09:50:42,656 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
09:50:44,184 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
09:50:44,184 INFO  ~ Enterprie ID for current User 3
09:50:44,184 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id49_, offer0_.datacenter as datacenter49_, offer0_.defaultLeasePeriod as defaultL3_49_, offer0_.defaultNetworkType as defaultN4_49_, offer0_.defaultServiceLevel as defaultS5_49_, offer0_.hypervisorType as hypervis6_49_, offer0_.icon as icon49_, offer0_.iconName as iconName49_, offer0_.image as image49_, offer0_.longDescription as longDes10_49_, offer0_.name as name49_, offer0_.price as price49_, offer0_.serviceType as service13_49_, offer0_.shortDescription as shortDe14_49_, offer0_.state as state49_, offer0_.virtualAppliance as virtual16_49_, offer0_.virtualDatacenter as virtual17_49_, offer0_.virtualDatacenterName as virtual18_49_ from Offer offer0_ group by offer0_.defaultServiceLevel
09:50:44,185 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
09:50:44,317 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
09:50:44,317 INFO  ~ Enterprie ID for current User 3
09:50:44,317 INFO  ~ CURRENT USER EMAIL ID: userent
09:50:44,318 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id49_, offer0_.datacenter as datacenter49_, offer0_.defaultLeasePeriod as defaultL3_49_, offer0_.defaultNetworkType as defaultN4_49_, offer0_.defaultServiceLevel as defaultS5_49_, offer0_.hypervisorType as hypervis6_49_, offer0_.icon as icon49_, offer0_.iconName as iconName49_, offer0_.image as image49_, offer0_.longDescription as longDes10_49_, offer0_.name as name49_, offer0_.price as price49_, offer0_.serviceType as service13_49_, offer0_.shortDescription as shortDe14_49_, offer0_.state as state49_, offer0_.virtualAppliance as virtual16_49_, offer0_.virtualDatacenter as virtual17_49_, offer0_.virtualDatacenterName as virtual18_49_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
09:50:44,318 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:50:44,318 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id50_, offerpurch0_.expiration as expiration50_, offerpurch0_.idVirtualApplianceUser as idVirtua3_50_, offerpurch0_.leasePeriod as leasePer4_50_, offerpurch0_.serviceLevel as serviceL5_50_, offerpurch0_.start as start50_, offerpurch0_1_.user_id as user1_51_, offerpurch0_2_.offer_id as offer19_49_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:50:44,319 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:50:44,319 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
09:50:46,516 INFO  ~ -----INSIDE LOGOUT()-----
09:50:50,981 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
09:50:51,016 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:50:51,304 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
09:50:52,796 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
09:50:52,830 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:50:53,213 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:50:53,442 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id49_, offer0_.datacenter as datacenter49_, offer0_.defaultLeasePeriod as defaultL3_49_, offer0_.defaultNetworkType as defaultN4_49_, offer0_.defaultServiceLevel as defaultS5_49_, offer0_.hypervisorType as hypervis6_49_, offer0_.icon as icon49_, offer0_.iconName as iconName49_, offer0_.image as image49_, offer0_.longDescription as longDes10_49_, offer0_.name as name49_, offer0_.price as price49_, offer0_.serviceType as service13_49_, offer0_.shortDescription as shortDe14_49_, offer0_.state as state49_, offer0_.virtualAppliance as virtual16_49_, offer0_.virtualDatacenter as virtual17_49_, offer0_.virtualDatacenterName as virtual18_49_ from Offer offer0_ where offer0_.id=?
09:50:53,514 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id49_, offer0_.datacenter as datacenter49_, offer0_.defaultLeasePeriod as defaultL3_49_, offer0_.defaultNetworkType as defaultN4_49_, offer0_.defaultServiceLevel as defaultS5_49_, offer0_.hypervisorType as hypervis6_49_, offer0_.icon as icon49_, offer0_.iconName as iconName49_, offer0_.image as image49_, offer0_.longDescription as longDes10_49_, offer0_.name as name49_, offer0_.price as price49_, offer0_.serviceType as service13_49_, offer0_.shortDescription as shortDe14_49_, offer0_.state as state49_, offer0_.virtualAppliance as virtual16_49_, offer0_.virtualDatacenter as virtual17_49_, offer0_.virtualDatacenterName as virtual18_49_ from Offer offer0_ where offer0_.id=?
09:50:53,597 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id49_, offer0_.datacenter as datacenter49_, offer0_.defaultLeasePeriod as defaultL3_49_, offer0_.defaultNetworkType as defaultN4_49_, offer0_.defaultServiceLevel as defaultS5_49_, offer0_.hypervisorType as hypervis6_49_, offer0_.icon as icon49_, offer0_.iconName as iconName49_, offer0_.image as image49_, offer0_.longDescription as longDes10_49_, offer0_.name as name49_, offer0_.price as price49_, offer0_.serviceType as service13_49_, offer0_.shortDescription as shortDe14_49_, offer0_.state as state49_, offer0_.virtualAppliance as virtual16_49_, offer0_.virtualDatacenter as virtual17_49_, offer0_.virtualDatacenterName as virtual18_49_ from Offer offer0_ where offer0_.id=?
09:50:53,652 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:50:53,653 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id50_, offerpurch0_.expiration as expiration50_, offerpurch0_.idVirtualApplianceUser as idVirtua3_50_, offerpurch0_.leasePeriod as leasePer4_50_, offerpurch0_.serviceLevel as serviceL5_50_, offerpurch0_.start as start50_, offerpurch0_1_.user_id as user1_51_, offerpurch0_2_.offer_id as offer19_49_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:50:53,653 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:50:53,653 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:50:53,653 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id49_, offer0_.datacenter as datacenter49_, offer0_.defaultLeasePeriod as defaultL3_49_, offer0_.defaultNetworkType as defaultN4_49_, offer0_.defaultServiceLevel as defaultS5_49_, offer0_.hypervisorType as hypervis6_49_, offer0_.icon as icon49_, offer0_.iconName as iconName49_, offer0_.image as image49_, offer0_.longDescription as longDes10_49_, offer0_.name as name49_, offer0_.price as price49_, offer0_.serviceType as service13_49_, offer0_.shortDescription as shortDe14_49_, offer0_.state as state49_, offer0_.virtualAppliance as virtual16_49_, offer0_.virtualDatacenter as virtual17_49_, offer0_.virtualDatacenterName as virtual18_49_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:50:53,654 INFO  ~ resultSet1 size :0
09:50:53,654 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:50:53,655 INFO  ~  resultSet1 size []
09:50:53,655 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:50:55,174 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
09:50:55,209 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:50:55,270 INFO  ~  virtualDC  : Bronze
09:50:55,366 INFO  ~  va  : Bronze
09:50:55,540 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
09:51:00,242 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id49_, offer0_.datacenter as datacenter49_, offer0_.defaultLeasePeriod as defaultL3_49_, offer0_.defaultNetworkType as defaultN4_49_, offer0_.defaultServiceLevel as defaultS5_49_, offer0_.hypervisorType as hypervis6_49_, offer0_.icon as icon49_, offer0_.iconName as iconName49_, offer0_.image as image49_, offer0_.longDescription as longDes10_49_, offer0_.name as name49_, offer0_.price as price49_, offer0_.serviceType as service13_49_, offer0_.shortDescription as shortDe14_49_, offer0_.state as state49_, offer0_.virtualAppliance as virtual16_49_, offer0_.virtualDatacenter as virtual17_49_, offer0_.virtualDatacenterName as virtual18_49_ from Offer offer0_ where offer0_.id=? limit ?
09:51:00,249 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
09:51:00,249 INFO  ~ Session user in addToServiceCatalog(): admin
09:51:00,249 INFO  ~  and  vdc 3  & va_id : 1
09:51:00,249 INFO  ~  lease period 100 years
09:51:00,281 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:51:00,699 INFO  ~  description : sdafsd
09:51:00,758 INFO  ~  description : sdafsd
09:51:00,784 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
09:51:00,785 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
09:51:00,785 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
09:51:00,786 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
09:51:00,786 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
09:51:00,787 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
09:51:00,789 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
09:51:00,909 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:51:01,108 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id49_, offer0_.datacenter as datacenter49_, offer0_.defaultLeasePeriod as defaultL3_49_, offer0_.defaultNetworkType as defaultN4_49_, offer0_.defaultServiceLevel as defaultS5_49_, offer0_.hypervisorType as hypervis6_49_, offer0_.icon as icon49_, offer0_.iconName as iconName49_, offer0_.image as image49_, offer0_.longDescription as longDes10_49_, offer0_.name as name49_, offer0_.price as price49_, offer0_.serviceType as service13_49_, offer0_.shortDescription as shortDe14_49_, offer0_.state as state49_, offer0_.virtualAppliance as virtual16_49_, offer0_.virtualDatacenter as virtual17_49_, offer0_.virtualDatacenterName as virtual18_49_ from Offer offer0_ where offer0_.id=?
09:51:01,109 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id49_, offer0_.datacenter as datacenter49_, offer0_.defaultLeasePeriod as defaultL3_49_, offer0_.defaultNetworkType as defaultN4_49_, offer0_.defaultServiceLevel as defaultS5_49_, offer0_.hypervisorType as hypervis6_49_, offer0_.icon as icon49_, offer0_.iconName as iconName49_, offer0_.image as image49_, offer0_.longDescription as longDes10_49_, offer0_.name as name49_, offer0_.price as price49_, offer0_.serviceType as service13_49_, offer0_.shortDescription as shortDe14_49_, offer0_.state as state49_, offer0_.virtualAppliance as virtual16_49_, offer0_.virtualDatacenter as virtual17_49_, offer0_.virtualDatacenterName as virtual18_49_ from Offer offer0_ where offer0_.id=?
09:51:01,163 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id49_, offer0_.datacenter as datacenter49_, offer0_.defaultLeasePeriod as defaultL3_49_, offer0_.defaultNetworkType as defaultN4_49_, offer0_.defaultServiceLevel as defaultS5_49_, offer0_.hypervisorType as hypervis6_49_, offer0_.icon as icon49_, offer0_.iconName as iconName49_, offer0_.image as image49_, offer0_.longDescription as longDes10_49_, offer0_.name as name49_, offer0_.price as price49_, offer0_.serviceType as service13_49_, offer0_.shortDescription as shortDe14_49_, offer0_.state as state49_, offer0_.virtualAppliance as virtual16_49_, offer0_.virtualDatacenter as virtual17_49_, offer0_.virtualDatacenterName as virtual18_49_ from Offer offer0_ where offer0_.id=?
09:51:01,219 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:51:01,220 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id50_, offerpurch0_.expiration as expiration50_, offerpurch0_.idVirtualApplianceUser as idVirtua3_50_, offerpurch0_.leasePeriod as leasePer4_50_, offerpurch0_.serviceLevel as serviceL5_50_, offerpurch0_.start as start50_, offerpurch0_1_.user_id as user1_51_, offerpurch0_2_.offer_id as offer19_49_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:51:01,220 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:51:01,221 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:51:01,221 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id49_, offer0_.datacenter as datacenter49_, offer0_.defaultLeasePeriod as defaultL3_49_, offer0_.defaultNetworkType as defaultN4_49_, offer0_.defaultServiceLevel as defaultS5_49_, offer0_.hypervisorType as hypervis6_49_, offer0_.icon as icon49_, offer0_.iconName as iconName49_, offer0_.image as image49_, offer0_.longDescription as longDes10_49_, offer0_.name as name49_, offer0_.price as price49_, offer0_.serviceType as service13_49_, offer0_.shortDescription as shortDe14_49_, offer0_.state as state49_, offer0_.virtualAppliance as virtual16_49_, offer0_.virtualDatacenter as virtual17_49_, offer0_.virtualDatacenterName as virtual18_49_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:51:01,222 INFO  ~ resultSet1 size :1
09:51:01,222 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:51:01,222 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@7b27751c , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
09:51:01,222 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:51:01,252 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:51:01,252 INFO  ~  OfferID for icon 1
09:51:01,253 DEBUG ~ /* load models.Offer */ select offer0_.id as id49_0_, offer0_.datacenter as datacenter49_0_, offer0_.defaultLeasePeriod as defaultL3_49_0_, offer0_.defaultNetworkType as defaultN4_49_0_, offer0_.defaultServiceLevel as defaultS5_49_0_, offer0_.hypervisorType as hypervis6_49_0_, offer0_.icon as icon49_0_, offer0_.iconName as iconName49_0_, offer0_.image as image49_0_, offer0_.longDescription as longDes10_49_0_, offer0_.name as name49_0_, offer0_.price as price49_0_, offer0_.serviceType as service13_49_0_, offer0_.shortDescription as shortDe14_49_0_, offer0_.state as state49_0_, offer0_.virtualAppliance as virtual16_49_0_, offer0_.virtualDatacenter as virtual17_49_0_, offer0_.virtualDatacenterName as virtual18_49_0_ from Offer offer0_ where offer0_.id=?
09:51:01,254 INFO  ~ ------------------------- EXITING displayIcon()---------
09:51:05,534 INFO  ~ -----INSIDE LOGOUT()-----
09:51:10,004 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
09:51:10,041 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
09:51:10,175 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
09:51:10,184 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
09:51:10,184 INFO  ~ Enterprie ID for current User 3
09:51:10,184 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id49_, offer0_.datacenter as datacenter49_, offer0_.defaultLeasePeriod as defaultL3_49_, offer0_.defaultNetworkType as defaultN4_49_, offer0_.defaultServiceLevel as defaultS5_49_, offer0_.hypervisorType as hypervis6_49_, offer0_.icon as icon49_, offer0_.iconName as iconName49_, offer0_.image as image49_, offer0_.longDescription as longDes10_49_, offer0_.name as name49_, offer0_.price as price49_, offer0_.serviceType as service13_49_, offer0_.shortDescription as shortDe14_49_, offer0_.state as state49_, offer0_.virtualAppliance as virtual16_49_, offer0_.virtualDatacenter as virtual17_49_, offer0_.virtualDatacenterName as virtual18_49_ from Offer offer0_ group by offer0_.defaultServiceLevel
09:51:10,185 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
09:51:10,308 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
09:51:10,308 INFO  ~ Enterprie ID for current User 3
09:51:10,308 INFO  ~ CURRENT USER EMAIL ID: userent
09:51:10,308 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id49_, offer0_.datacenter as datacenter49_, offer0_.defaultLeasePeriod as defaultL3_49_, offer0_.defaultNetworkType as defaultN4_49_, offer0_.defaultServiceLevel as defaultS5_49_, offer0_.hypervisorType as hypervis6_49_, offer0_.icon as icon49_, offer0_.iconName as iconName49_, offer0_.image as image49_, offer0_.longDescription as longDes10_49_, offer0_.name as name49_, offer0_.price as price49_, offer0_.serviceType as service13_49_, offer0_.shortDescription as shortDe14_49_, offer0_.state as state49_, offer0_.virtualAppliance as virtual16_49_, offer0_.virtualDatacenter as virtual17_49_, offer0_.virtualDatacenterName as virtual18_49_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
09:51:10,310 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:51:10,310 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id50_, offerpurch0_.expiration as expiration50_, offerpurch0_.idVirtualApplianceUser as idVirtua3_50_, offerpurch0_.leasePeriod as leasePer4_50_, offerpurch0_.serviceLevel as serviceL5_50_, offerpurch0_.start as start50_, offerpurch0_1_.user_id as user1_51_, offerpurch0_2_.offer_id as offer19_49_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:51:10,311 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:51:10,311 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
09:51:10,340 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:51:10,340 INFO  ~  OfferID for icon 1
09:51:10,341 DEBUG ~ /* load models.Offer */ select offer0_.id as id49_0_, offer0_.datacenter as datacenter49_0_, offer0_.defaultLeasePeriod as defaultL3_49_0_, offer0_.defaultNetworkType as defaultN4_49_0_, offer0_.defaultServiceLevel as defaultS5_49_0_, offer0_.hypervisorType as hypervis6_49_0_, offer0_.icon as icon49_0_, offer0_.iconName as iconName49_0_, offer0_.image as image49_0_, offer0_.longDescription as longDes10_49_0_, offer0_.name as name49_0_, offer0_.price as price49_0_, offer0_.serviceType as service13_49_0_, offer0_.shortDescription as shortDe14_49_0_, offer0_.state as state49_0_, offer0_.virtualAppliance as virtual16_49_0_, offer0_.virtualDatacenter as virtual17_49_0_, offer0_.virtualDatacenterName as virtual18_49_0_ from Offer offer0_ where offer0_.id=?
09:51:10,341 INFO  ~ ------------------------- EXITING displayIcon()---------
09:51:11,794 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
09:51:11,794 INFO  ~ CURRENT USER EMAIL ID: userent
09:51:11,794 DEBUG ~ /* load models.Offer */ select offer0_.id as id49_0_, offer0_.datacenter as datacenter49_0_, offer0_.defaultLeasePeriod as defaultL3_49_0_, offer0_.defaultNetworkType as defaultN4_49_0_, offer0_.defaultServiceLevel as defaultS5_49_0_, offer0_.hypervisorType as hypervis6_49_0_, offer0_.icon as icon49_0_, offer0_.iconName as iconName49_0_, offer0_.image as image49_0_, offer0_.longDescription as longDes10_49_0_, offer0_.name as name49_0_, offer0_.price as price49_0_, offer0_.serviceType as service13_49_0_, offer0_.shortDescription as shortDe14_49_0_, offer0_.state as state49_0_, offer0_.virtualAppliance as virtual16_49_0_, offer0_.virtualDatacenter as virtual17_49_0_, offer0_.virtualDatacenterName as virtual18_49_0_ from Offer offer0_ where offer0_.id=?
09:51:11,796 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
09:51:11,807 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_49_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_57_0_, nodes1_.cpu as cpu57_0_, nodes1_.description as descript3_57_0_, nodes1_.hd as hd57_0_, nodes1_.icon as icon57_0_, nodes1_.idImage as idImage57_0_, nodes1_.node_name as node7_57_0_, nodes1_.ram as ram57_0_, nodes1_1_.offer_id as offer1_58_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:51:23,695 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
09:51:25,099 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
09:51:25,858 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
09:51:28,543 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
09:51:31,272 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
09:51:31,272 INFO  ~  vdcname : POR-userent-2012-09-10 09:51:31.271
09:51:31,375 INFO  ~  VDC to deploy: 
09:51:31,375 INFO  ~  Hypervisor to deploy: 
09:51:31,447 INFO  ~  Datacenter to deploy: 
09:51:31,448 INFO  ~  Network Built
09:51:31,448 INFO  ~ VDC built  
09:51:33,138 INFO  ~  1. VDC CREATED 
09:51:33,273 INFO  ~  2. VAPP CREATED 
09:51:33,273 INFO  ~ --------------------
09:51:35,119 DEBUG ~ /* load models.Offer */ select offer0_.id as id49_0_, offer0_.datacenter as datacenter49_0_, offer0_.defaultLeasePeriod as defaultL3_49_0_, offer0_.defaultNetworkType as defaultN4_49_0_, offer0_.defaultServiceLevel as defaultS5_49_0_, offer0_.hypervisorType as hypervis6_49_0_, offer0_.icon as icon49_0_, offer0_.iconName as iconName49_0_, offer0_.image as image49_0_, offer0_.longDescription as longDes10_49_0_, offer0_.name as name49_0_, offer0_.price as price49_0_, offer0_.serviceType as service13_49_0_, offer0_.shortDescription as shortDe14_49_0_, offer0_.state as state49_0_, offer0_.virtualAppliance as virtual16_49_0_, offer0_.virtualDatacenter as virtual17_49_0_, offer0_.virtualDatacenterName as virtual18_49_0_ from Offer offer0_ where offer0_.id=?
09:51:45,943 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
09:51:45,944 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id49_, offer0_.datacenter as datacenter49_, offer0_.defaultLeasePeriod as defaultL3_49_, offer0_.defaultNetworkType as defaultN4_49_, offer0_.defaultServiceLevel as defaultS5_49_, offer0_.hypervisorType as hypervis6_49_, offer0_.icon as icon49_, offer0_.iconName as iconName49_, offer0_.image as image49_, offer0_.longDescription as longDes10_49_, offer0_.name as name49_, offer0_.price as price49_, offer0_.serviceType as service13_49_, offer0_.shortDescription as shortDe14_49_, offer0_.state as state49_, offer0_.virtualAppliance as virtual16_49_, offer0_.virtualDatacenter as virtual17_49_, offer0_.virtualDatacenterName as virtual18_49_ from Offer offer0_ where offer0_.id=?
09:51:45,961 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
09:51:48,152 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_49_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_57_0_, nodes1_.cpu as cpu57_0_, nodes1_.description as descript3_57_0_, nodes1_.hd as hd57_0_, nodes1_.icon as icon57_0_, nodes1_.idImage as idImage57_0_, nodes1_.node_name as node7_57_0_, nodes1_.ram as ram57_0_, nodes1_1_.offer_id as offer1_58_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:51:50,735 INFO  ~  3. VM CREATED
09:51:56,672 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_57_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_55_0_, nodes_reso1_.resourceType as resource2_55_0_, nodes_reso1_.sequence as sequence55_0_, nodes_reso1_.value as value55_0_, nodes_reso1_1_.id_node as id1_56_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
09:52:00,903 INFO  ~  4. HARDDISKS ATTACHED 
09:52:01,655 INFO  ~  Handler created :
09:52:03,751 INFO  ~ STARTING MONITORING ......
09:52:09,798 INFO  ~  3. VM CREATED
09:52:19,422 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
09:52:19,423 INFO  ~  CREATED VM : VirtualMachine [id=193, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_b259c42d-682e-4091-b5c7-0e40c7a5af51, password=vmpassword, ram=64, uuid=b259c42d-682e-4091-b5c7-0e40c7a5af51, vncAddress=null, vncPort=0]
09:52:19,483 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
09:52:19,483 INFO  ~ ------------------------- INSIDE getVMDetais()----------
09:52:19,483 INFO  ~  getVMDetais() params : vdc_id 152 vapp_id : 155 vm-id : 193
09:52:19,484 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_59_, mkt_config0_.deploy_enterprise_id as deploy2_59_, mkt_config0_.enterprise_name as enterprise3_59_, mkt_config0_.mkt_branding_css as mkt4_59_, mkt_config0_.mkt_branding_icon as mkt5_59_, mkt_config0_.mkt_deploy_pw as mkt6_59_, mkt_config0_.mkt_deploy_user as mkt7_59_, mkt_config0_.mkt_theme_css as mkt8_59_, mkt_config0_.mkt_url as mkt9_59_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
09:52:19,485 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
09:52:19,485 INFO  ~  AbiquoUtils context set to :null
09:52:19,486 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
09:52:24,352 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_57_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_55_0_, nodes_reso1_.resourceType as resource2_55_0_, nodes_reso1_.sequence as sequence55_0_, nodes_reso1_.value as value55_0_, nodes_reso1_1_.id_node as id1_56_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
09:52:26,964 INFO  ~  4. HARDDISKS ATTACHED 
09:52:28,007 INFO  ~  Handler created :
09:52:30,023 INFO  ~ STARTING MONITORING ......
09:52:32,415 INFO  ~ SAVING DEPLOY INFORMATION ......
09:52:38,745 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
09:52:38,768 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, leasePeriod, serviceLevel, start) values (?, ?, ?, ?, ?)
09:52:38,782 DEBUG ~ /* insert models.OfferPurchased */ insert into User (user_id, id) values (?, ?)
09:52:38,784 DEBUG ~ /* insert models.OfferPurchased */ insert into Offer (offer_id, id) values (?, ?)
09:52:38,793 ERROR ~ Duplicate entry '1' for key 'PRIMARY'
09:52:45,760 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
09:52:45,761 INFO  ~  CREATED VM : VirtualMachine [id=194, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_beb28c52-2546-4732-9c5f-8b5e345c771c, password=vmpassword, ram=128, uuid=beb28c52-2546-4732-9c5f-8b5e345c771c, vncAddress=null, vncPort=0]
09:52:45,819 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
09:52:45,819 INFO  ~ ------------------------- INSIDE getVMDetais()----------
09:52:45,819 INFO  ~  getVMDetais() params : vdc_id 152 vapp_id : 155 vm-id : 194
09:52:45,819 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_59_, mkt_config0_.deploy_enterprise_id as deploy2_59_, mkt_config0_.enterprise_name as enterprise3_59_, mkt_config0_.mkt_branding_css as mkt4_59_, mkt_config0_.mkt_branding_icon as mkt5_59_, mkt_config0_.mkt_deploy_pw as mkt6_59_, mkt_config0_.mkt_deploy_user as mkt7_59_, mkt_config0_.mkt_theme_css as mkt8_59_, mkt_config0_.mkt_url as mkt9_59_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
09:52:45,820 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
09:52:45,820 INFO  ~  AbiquoUtils context set to :null
09:52:45,821 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
09:56:50,099 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not insert: [models.OfferPurchased]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:466)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.ConstraintViolationException: could not insert: [models.OfferPurchased]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:96)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2454)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2854)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '1' for key 'PRIMARY'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1039)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2437)
	... 23 more
09:57:08,971 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
09:57:08,971 ERROR ~ Table 'Deploy_Bundle' already exists
09:57:10,549 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
09:57:10,549 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
09:57:11,906 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
09:57:11,906 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
09:57:13,451 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
09:57:13,452 INFO  ~ Enterprie ID for current User 3
09:57:13,452 INFO  ~ CURRENT USER EMAIL ID: userent
09:57:13,452 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
09:57:13,453 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:57:13,453 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id74_, offerpurch0_.expiration as expiration74_, offerpurch0_.idVirtualApplianceUser as idVirtua3_74_, offerpurch0_.leasePeriod as leasePer4_74_, offerpurch0_.serviceLevel as serviceL5_74_, offerpurch0_.start as start74_, offerpurch0_1_.user_id as user1_75_, offerpurch0_2_.offer_id as offer19_73_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:57:13,454 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:57:13,454 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
09:57:13,469 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
09:57:13,469 INFO  ~ CURRENT USER EMAIL ID: userent
09:57:13,469 DEBUG ~ /* load models.Offer */ select offer0_.id as id73_0_, offer0_.datacenter as datacenter73_0_, offer0_.defaultLeasePeriod as defaultL3_73_0_, offer0_.defaultNetworkType as defaultN4_73_0_, offer0_.defaultServiceLevel as defaultS5_73_0_, offer0_.hypervisorType as hypervis6_73_0_, offer0_.icon as icon73_0_, offer0_.iconName as iconName73_0_, offer0_.image as image73_0_, offer0_.longDescription as longDes10_73_0_, offer0_.name as name73_0_, offer0_.price as price73_0_, offer0_.serviceType as service13_73_0_, offer0_.shortDescription as shortDe14_73_0_, offer0_.state as state73_0_, offer0_.virtualAppliance as virtual16_73_0_, offer0_.virtualDatacenter as virtual17_73_0_, offer0_.virtualDatacenterName as virtual18_73_0_ from Offer offer0_ where offer0_.id=?
09:57:13,469 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
09:57:13,504 ERROR ~ 

@6bj6k07dp
Internal Server Error (500) for request GET /consumer/purchaseconfirmation?offer_id=1

Template execution error (In /app/views/Consumer/purchaseConfirmation.html around line 30)
Execution error occured in template /app/views/Consumer/purchaseConfirmation.html. Exception raised was NullPointerException : Cannot get property 'name' on null object.

play.exceptions.TemplateExecutionException: Cannot get property 'name' on null object
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:86)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:257)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Consumer.purchaseConfirmation(Consumer.java:220)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.NullPointerException: Cannot get property 'name' on null object
	at /app/views/Consumer/purchaseConfirmation.html.(line:30)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:232)
	... 13 more
09:57:13,508 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
09:57:13,508 INFO  ~ CURRENT USER EMAIL ID: userent
09:57:13,508 DEBUG ~ /* load models.Offer */ select offer0_.id as id73_0_, offer0_.datacenter as datacenter73_0_, offer0_.defaultLeasePeriod as defaultL3_73_0_, offer0_.defaultNetworkType as defaultN4_73_0_, offer0_.defaultServiceLevel as defaultS5_73_0_, offer0_.hypervisorType as hypervis6_73_0_, offer0_.icon as icon73_0_, offer0_.iconName as iconName73_0_, offer0_.image as image73_0_, offer0_.longDescription as longDes10_73_0_, offer0_.name as name73_0_, offer0_.price as price73_0_, offer0_.serviceType as service13_73_0_, offer0_.shortDescription as shortDe14_73_0_, offer0_.state as state73_0_, offer0_.virtualAppliance as virtual16_73_0_, offer0_.virtualDatacenter as virtual17_73_0_, offer0_.virtualDatacenterName as virtual18_73_0_ from Offer offer0_ where offer0_.id=?
09:57:13,508 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
09:57:13,614 ERROR ~ 

@6bj6k07e0
Internal Server Error (500) for request GET /consumer/purchaseconfirmation?offer_id=1

Template execution error (In /app/views/Consumer/purchaseConfirmation.html around line 30)
Execution error occured in template /app/views/Consumer/purchaseConfirmation.html. Exception raised was NullPointerException : Cannot get property 'name' on null object.

play.exceptions.TemplateExecutionException: Cannot get property 'name' on null object
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:86)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:257)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Consumer.purchaseConfirmation(Consumer.java:220)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.NullPointerException: Cannot get property 'name' on null object
	at /app/views/Consumer/purchaseConfirmation.html.(line:30)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:232)
	... 13 more
09:57:35,466 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
09:57:35,508 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:57:35,636 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
09:57:37,075 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
09:57:37,107 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:57:37,465 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:57:37,675 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=?
09:57:37,756 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=?
09:57:37,813 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=?
09:57:37,870 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:57:37,870 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id74_, offerpurch0_.expiration as expiration74_, offerpurch0_.idVirtualApplianceUser as idVirtua3_74_, offerpurch0_.leasePeriod as leasePer4_74_, offerpurch0_.serviceLevel as serviceL5_74_, offerpurch0_.start as start74_, offerpurch0_1_.user_id as user1_75_, offerpurch0_2_.offer_id as offer19_73_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:57:37,871 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:57:37,871 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:57:37,871 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:57:37,872 INFO  ~ resultSet1 size :0
09:57:37,872 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:57:37,872 INFO  ~  resultSet1 size []
09:57:37,872 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:57:38,855 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
09:57:38,892 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:57:38,952 INFO  ~  virtualDC  : Bronze
09:57:39,041 INFO  ~  va  : Bronze
09:57:39,226 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
09:57:45,410 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=? limit ?
09:57:45,419 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
09:57:45,419 INFO  ~ Session user in addToServiceCatalog(): admin
09:57:45,419 INFO  ~  and  vdc 3  & va_id : 1
09:57:45,419 INFO  ~  lease period 100 years
09:57:45,452 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:57:45,916 INFO  ~  description : sadfsdafsdf
09:57:45,979 INFO  ~  description : sadfsdafsdf
09:57:46,012 WARN  ~ EXCEPTION OCCURED IN addToServiceCAtalog()
javax.persistence.PersistenceException: org.hibernate.PersistentObjectException: detached entity passed to persist: models.Offer
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.ProducerRemote.addToServiceCatalog(ProducerRemote.java:370)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: models.Offer
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:127)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
09:57:46,063 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:57:46,274 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=?
09:57:46,350 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=?
09:57:46,409 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=?
09:57:46,471 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:57:46,472 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id74_, offerpurch0_.expiration as expiration74_, offerpurch0_.idVirtualApplianceUser as idVirtua3_74_, offerpurch0_.leasePeriod as leasePer4_74_, offerpurch0_.serviceLevel as serviceL5_74_, offerpurch0_.start as start74_, offerpurch0_1_.user_id as user1_75_, offerpurch0_2_.offer_id as offer19_73_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:57:46,472 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:57:46,472 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:57:46,472 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:57:46,473 INFO  ~ resultSet1 size :0
09:57:46,473 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:57:46,473 INFO  ~  resultSet1 size []
09:57:46,473 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:57:55,506 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=? limit ?
09:57:55,511 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
09:57:55,511 INFO  ~ Session user in addToServiceCatalog(): admin
09:57:55,511 INFO  ~  and  vdc 3  & va_id : 1
09:57:55,511 INFO  ~  lease period 100 years
09:57:55,541 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:57:55,995 INFO  ~  description : sdfsdf
09:57:56,058 INFO  ~  description : sdfsdf
09:57:56,083 WARN  ~ EXCEPTION OCCURED IN addToServiceCAtalog()
javax.persistence.PersistenceException: org.hibernate.PersistentObjectException: detached entity passed to persist: models.Offer
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.ProducerRemote.addToServiceCatalog(ProducerRemote.java:370)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: models.Offer
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:127)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
09:57:56,129 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:57:56,365 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=?
09:57:56,440 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=?
09:57:56,491 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=?
09:57:56,549 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:57:56,549 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id74_, offerpurch0_.expiration as expiration74_, offerpurch0_.idVirtualApplianceUser as idVirtua3_74_, offerpurch0_.leasePeriod as leasePer4_74_, offerpurch0_.serviceLevel as serviceL5_74_, offerpurch0_.start as start74_, offerpurch0_1_.user_id as user1_75_, offerpurch0_2_.offer_id as offer19_73_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:57:56,550 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:57:56,550 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:57:56,550 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:57:56,551 INFO  ~ resultSet1 size :0
09:57:56,551 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:57:56,551 INFO  ~  resultSet1 size []
09:57:56,551 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:58:00,862 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
09:58:00,910 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:58:01,435 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:58:01,645 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=?
09:58:01,723 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=?
09:58:01,779 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=?
09:58:01,831 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:58:01,831 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id74_, offerpurch0_.expiration as expiration74_, offerpurch0_.idVirtualApplianceUser as idVirtua3_74_, offerpurch0_.leasePeriod as leasePer4_74_, offerpurch0_.serviceLevel as serviceL5_74_, offerpurch0_.start as start74_, offerpurch0_1_.user_id as user1_75_, offerpurch0_2_.offer_id as offer19_73_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:58:01,832 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:58:01,832 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:58:01,832 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:58:01,833 INFO  ~ resultSet1 size :0
09:58:01,833 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:58:01,833 INFO  ~  resultSet1 size []
09:58:01,833 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:58:05,203 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
09:58:05,242 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:58:05,303 INFO  ~  virtualDC  : Bronze
09:58:05,432 INFO  ~  va  : Bronze
09:58:05,575 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
09:58:11,407 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=? limit ?
09:58:11,414 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
09:58:11,414 INFO  ~ Session user in addToServiceCatalog(): admin
09:58:11,414 INFO  ~  and  vdc 3  & va_id : 2
09:58:11,414 INFO  ~  lease period 100 years
09:58:11,446 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:58:11,913 INFO  ~  description : asdfsda
09:58:11,957 WARN  ~ EXCEPTION OCCURED IN addToServiceCAtalog()
javax.persistence.PersistenceException: org.hibernate.PersistentObjectException: detached entity passed to persist: models.Offer
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.ProducerRemote.addToServiceCatalog(ProducerRemote.java:370)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: models.Offer
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:127)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
09:58:12,008 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:58:12,323 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=?
09:58:12,395 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=?
09:58:12,444 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.id=?
09:58:12,504 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:58:12,504 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id74_, offerpurch0_.expiration as expiration74_, offerpurch0_.idVirtualApplianceUser as idVirtua3_74_, offerpurch0_.leasePeriod as leasePer4_74_, offerpurch0_.serviceLevel as serviceL5_74_, offerpurch0_.start as start74_, offerpurch0_1_.user_id as user1_75_, offerpurch0_2_.offer_id as offer19_73_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
09:58:12,505 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:58:12,505 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:58:12,505 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id73_, offer0_.datacenter as datacenter73_, offer0_.defaultLeasePeriod as defaultL3_73_, offer0_.defaultNetworkType as defaultN4_73_, offer0_.defaultServiceLevel as defaultS5_73_, offer0_.hypervisorType as hypervis6_73_, offer0_.icon as icon73_, offer0_.iconName as iconName73_, offer0_.image as image73_, offer0_.longDescription as longDes10_73_, offer0_.name as name73_, offer0_.price as price73_, offer0_.serviceType as service13_73_, offer0_.shortDescription as shortDe14_73_, offer0_.state as state73_, offer0_.virtualAppliance as virtual16_73_, offer0_.virtualDatacenter as virtual17_73_, offer0_.virtualDatacenterName as virtual18_73_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:58:12,505 INFO  ~ resultSet1 size :0
09:58:12,505 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:58:12,506 INFO  ~  resultSet1 size []
09:58:12,506 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:01:57,483 ERROR ~ 

@6bj6k07e3
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:01:57,593 ERROR ~ 

@6bj6k07e4
Internal Server Error (500) for request GET /Producer/listAllOffers?id_vdc=2&service_level=Silver

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:03:17,449 ERROR ~ 

@6bj6k07e5
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:03:18,236 ERROR ~ 

@6bj6k07e6
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:03:36,833 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
10:03:36,833 ERROR ~ Table 'Deploy_Bundle' already exists
10:03:38,335 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
10:03:38,335 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
10:03:39,601 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
10:03:39,601 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
10:03:44,156 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:03:44,191 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:03:44,601 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:03:44,795 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id153_, offer0_.datacenter as datacenter153_, offer0_.defaultLeasePeriod as defaultL3_153_, offer0_.defaultNetworkType as defaultN4_153_, offer0_.defaultServiceLevel as defaultS5_153_, offer0_.hypervisorType as hypervis6_153_, offer0_.icon as icon153_, offer0_.iconName as iconName153_, offer0_.image as image153_, offer0_.longDescription as longDes10_153_, offer0_.name as name153_, offer0_.price as price153_, offer0_.serviceType as service13_153_, offer0_.shortDescription as shortDe14_153_, offer0_.state as state153_, offer0_.virtualAppliance as virtual16_153_, offer0_.virtualDatacenter as virtual17_153_, offer0_.virtualDatacenterName as virtual18_153_ from Offer offer0_ where offer0_.id=?
10:03:44,881 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id153_, offer0_.datacenter as datacenter153_, offer0_.defaultLeasePeriod as defaultL3_153_, offer0_.defaultNetworkType as defaultN4_153_, offer0_.defaultServiceLevel as defaultS5_153_, offer0_.hypervisorType as hypervis6_153_, offer0_.icon as icon153_, offer0_.iconName as iconName153_, offer0_.image as image153_, offer0_.longDescription as longDes10_153_, offer0_.name as name153_, offer0_.price as price153_, offer0_.serviceType as service13_153_, offer0_.shortDescription as shortDe14_153_, offer0_.state as state153_, offer0_.virtualAppliance as virtual16_153_, offer0_.virtualDatacenter as virtual17_153_, offer0_.virtualDatacenterName as virtual18_153_ from Offer offer0_ where offer0_.id=?
10:03:44,933 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id153_, offer0_.datacenter as datacenter153_, offer0_.defaultLeasePeriod as defaultL3_153_, offer0_.defaultNetworkType as defaultN4_153_, offer0_.defaultServiceLevel as defaultS5_153_, offer0_.hypervisorType as hypervis6_153_, offer0_.icon as icon153_, offer0_.iconName as iconName153_, offer0_.image as image153_, offer0_.longDescription as longDes10_153_, offer0_.name as name153_, offer0_.price as price153_, offer0_.serviceType as service13_153_, offer0_.shortDescription as shortDe14_153_, offer0_.state as state153_, offer0_.virtualAppliance as virtual16_153_, offer0_.virtualDatacenter as virtual17_153_, offer0_.virtualDatacenterName as virtual18_153_ from Offer offer0_ where offer0_.id=?
10:03:45,007 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:03:45,007 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id154_, offerpurch0_.expiration as expiration154_, offerpurch0_.idVirtualApplianceUser as idVirtua3_154_, offerpurch0_.leasePeriod as leasePer4_154_, offerpurch0_.serviceLevel as serviceL5_154_, offerpurch0_.start as start154_, offerpurch0_1_.user_id as user1_155_, offerpurch0_2_.offer_id as offer19_153_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:03:45,008 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:03:45,008 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:03:45,008 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id153_, offer0_.datacenter as datacenter153_, offer0_.defaultLeasePeriod as defaultL3_153_, offer0_.defaultNetworkType as defaultN4_153_, offer0_.defaultServiceLevel as defaultS5_153_, offer0_.hypervisorType as hypervis6_153_, offer0_.icon as icon153_, offer0_.iconName as iconName153_, offer0_.image as image153_, offer0_.longDescription as longDes10_153_, offer0_.name as name153_, offer0_.price as price153_, offer0_.serviceType as service13_153_, offer0_.shortDescription as shortDe14_153_, offer0_.state as state153_, offer0_.virtualAppliance as virtual16_153_, offer0_.virtualDatacenter as virtual17_153_, offer0_.virtualDatacenterName as virtual18_153_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:03:45,009 INFO  ~ resultSet1 size :0
10:03:45,009 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:03:45,009 INFO  ~  resultSet1 size []
10:03:45,009 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:03:45,128 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:03:45,316 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id153_, offer0_.datacenter as datacenter153_, offer0_.defaultLeasePeriod as defaultL3_153_, offer0_.defaultNetworkType as defaultN4_153_, offer0_.defaultServiceLevel as defaultS5_153_, offer0_.hypervisorType as hypervis6_153_, offer0_.icon as icon153_, offer0_.iconName as iconName153_, offer0_.image as image153_, offer0_.longDescription as longDes10_153_, offer0_.name as name153_, offer0_.price as price153_, offer0_.serviceType as service13_153_, offer0_.shortDescription as shortDe14_153_, offer0_.state as state153_, offer0_.virtualAppliance as virtual16_153_, offer0_.virtualDatacenter as virtual17_153_, offer0_.virtualDatacenterName as virtual18_153_ from Offer offer0_ where offer0_.id=?
10:03:45,375 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:03:45,375 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id154_, offerpurch0_.expiration as expiration154_, offerpurch0_.idVirtualApplianceUser as idVirtua3_154_, offerpurch0_.leasePeriod as leasePer4_154_, offerpurch0_.serviceLevel as serviceL5_154_, offerpurch0_.start as start154_, offerpurch0_1_.user_id as user1_155_, offerpurch0_2_.offer_id as offer19_153_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:03:45,376 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:03:45,376 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:03:45,376 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id153_, offer0_.datacenter as datacenter153_, offer0_.defaultLeasePeriod as defaultL3_153_, offer0_.defaultNetworkType as defaultN4_153_, offer0_.defaultServiceLevel as defaultS5_153_, offer0_.hypervisorType as hypervis6_153_, offer0_.icon as icon153_, offer0_.iconName as iconName153_, offer0_.image as image153_, offer0_.longDescription as longDes10_153_, offer0_.name as name153_, offer0_.price as price153_, offer0_.serviceType as service13_153_, offer0_.shortDescription as shortDe14_153_, offer0_.state as state153_, offer0_.virtualAppliance as virtual16_153_, offer0_.virtualDatacenter as virtual17_153_, offer0_.virtualDatacenterName as virtual18_153_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:03:45,377 INFO  ~ resultSet1 size :0
10:03:45,377 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:03:45,377 INFO  ~  resultSet1 size []
10:03:45,377 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:03:46,232 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
10:03:46,271 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:03:46,336 INFO  ~  virtualDC  : gold
10:03:46,432 INFO  ~  va  : gold
10:03:46,582 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
10:03:50,726 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id153_, offer0_.datacenter as datacenter153_, offer0_.defaultLeasePeriod as defaultL3_153_, offer0_.defaultNetworkType as defaultN4_153_, offer0_.defaultServiceLevel as defaultS5_153_, offer0_.hypervisorType as hypervis6_153_, offer0_.icon as icon153_, offer0_.iconName as iconName153_, offer0_.image as image153_, offer0_.longDescription as longDes10_153_, offer0_.name as name153_, offer0_.price as price153_, offer0_.serviceType as service13_153_, offer0_.shortDescription as shortDe14_153_, offer0_.state as state153_, offer0_.virtualAppliance as virtual16_153_, offer0_.virtualDatacenter as virtual17_153_, offer0_.virtualDatacenterName as virtual18_153_ from Offer offer0_ where offer0_.id=? limit ?
10:03:50,732 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
10:03:50,733 INFO  ~ Session user in addToServiceCatalog(): admin
10:03:50,733 INFO  ~  and  vdc 1  & va_id : 5
10:03:50,733 INFO  ~  lease period 100 years
10:03:50,761 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:03:51,185 INFO  ~  description : afsdafa
10:03:51,214 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
10:03:51,215 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
10:03:51,216 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
10:03:51,216 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
10:03:51,218 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
10:03:51,331 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:03:51,515 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id153_, offer0_.datacenter as datacenter153_, offer0_.defaultLeasePeriod as defaultL3_153_, offer0_.defaultNetworkType as defaultN4_153_, offer0_.defaultServiceLevel as defaultS5_153_, offer0_.hypervisorType as hypervis6_153_, offer0_.icon as icon153_, offer0_.iconName as iconName153_, offer0_.image as image153_, offer0_.longDescription as longDes10_153_, offer0_.name as name153_, offer0_.price as price153_, offer0_.serviceType as service13_153_, offer0_.shortDescription as shortDe14_153_, offer0_.state as state153_, offer0_.virtualAppliance as virtual16_153_, offer0_.virtualDatacenter as virtual17_153_, offer0_.virtualDatacenterName as virtual18_153_ from Offer offer0_ where offer0_.id=?
10:03:51,516 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:03:51,516 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id154_, offerpurch0_.expiration as expiration154_, offerpurch0_.idVirtualApplianceUser as idVirtua3_154_, offerpurch0_.leasePeriod as leasePer4_154_, offerpurch0_.serviceLevel as serviceL5_154_, offerpurch0_.start as start154_, offerpurch0_1_.user_id as user1_155_, offerpurch0_2_.offer_id as offer19_153_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:03:51,517 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:03:51,517 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:03:51,517 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id153_, offer0_.datacenter as datacenter153_, offer0_.defaultLeasePeriod as defaultL3_153_, offer0_.defaultNetworkType as defaultN4_153_, offer0_.defaultServiceLevel as defaultS5_153_, offer0_.hypervisorType as hypervis6_153_, offer0_.icon as icon153_, offer0_.iconName as iconName153_, offer0_.image as image153_, offer0_.longDescription as longDes10_153_, offer0_.name as name153_, offer0_.price as price153_, offer0_.serviceType as service13_153_, offer0_.shortDescription as shortDe14_153_, offer0_.state as state153_, offer0_.virtualAppliance as virtual16_153_, offer0_.virtualDatacenter as virtual17_153_, offer0_.virtualDatacenterName as virtual18_153_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:03:51,518 INFO  ~ resultSet1 size :1
10:03:51,518 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:03:51,519 INFO  ~  resultSet1 size [sc_offer [ID :5, Name : goldserver, Icon: play.db.jpa.Blob@2b5817ba , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
10:03:51,519 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:03:51,557 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:03:51,557 INFO  ~  OfferID for icon 5
10:03:51,557 DEBUG ~ /* load models.Offer */ select offer0_.id as id153_0_, offer0_.datacenter as datacenter153_0_, offer0_.defaultLeasePeriod as defaultL3_153_0_, offer0_.defaultNetworkType as defaultN4_153_0_, offer0_.defaultServiceLevel as defaultS5_153_0_, offer0_.hypervisorType as hypervis6_153_0_, offer0_.icon as icon153_0_, offer0_.iconName as iconName153_0_, offer0_.image as image153_0_, offer0_.longDescription as longDes10_153_0_, offer0_.name as name153_0_, offer0_.price as price153_0_, offer0_.serviceType as service13_153_0_, offer0_.shortDescription as shortDe14_153_0_, offer0_.state as state153_0_, offer0_.virtualAppliance as virtual16_153_0_, offer0_.virtualDatacenter as virtual17_153_0_, offer0_.virtualDatacenterName as virtual18_153_0_ from Offer offer0_ where offer0_.id=?
10:03:51,559 INFO  ~ ------------------------- EXITING displayIcon()---------
10:03:57,871 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
10:03:57,871 INFO  ~ Enterprie ID for current User 3
10:03:57,871 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id153_, offer0_.datacenter as datacenter153_, offer0_.defaultLeasePeriod as defaultL3_153_, offer0_.defaultNetworkType as defaultN4_153_, offer0_.defaultServiceLevel as defaultS5_153_, offer0_.hypervisorType as hypervis6_153_, offer0_.icon as icon153_, offer0_.iconName as iconName153_, offer0_.image as image153_, offer0_.longDescription as longDes10_153_, offer0_.name as name153_, offer0_.price as price153_, offer0_.serviceType as service13_153_, offer0_.shortDescription as shortDe14_153_, offer0_.state as state153_, offer0_.virtualAppliance as virtual16_153_, offer0_.virtualDatacenter as virtual17_153_, offer0_.virtualDatacenterName as virtual18_153_ from Offer offer0_ group by offer0_.defaultServiceLevel
10:03:57,873 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
10:03:58,007 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
10:03:58,007 INFO  ~ Enterprie ID for current User 3
10:03:58,008 INFO  ~ CURRENT USER EMAIL ID: userent
10:03:58,008 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id153_, offer0_.datacenter as datacenter153_, offer0_.defaultLeasePeriod as defaultL3_153_, offer0_.defaultNetworkType as defaultN4_153_, offer0_.defaultServiceLevel as defaultS5_153_, offer0_.hypervisorType as hypervis6_153_, offer0_.icon as icon153_, offer0_.iconName as iconName153_, offer0_.image as image153_, offer0_.longDescription as longDes10_153_, offer0_.name as name153_, offer0_.price as price153_, offer0_.serviceType as service13_153_, offer0_.shortDescription as shortDe14_153_, offer0_.state as state153_, offer0_.virtualAppliance as virtual16_153_, offer0_.virtualDatacenter as virtual17_153_, offer0_.virtualDatacenterName as virtual18_153_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:03:58,009 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:03:58,009 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id154_, offerpurch0_.expiration as expiration154_, offerpurch0_.idVirtualApplianceUser as idVirtua3_154_, offerpurch0_.leasePeriod as leasePer4_154_, offerpurch0_.serviceLevel as serviceL5_154_, offerpurch0_.start as start154_, offerpurch0_1_.user_id as user1_155_, offerpurch0_2_.offer_id as offer19_153_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:03:58,010 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:03:58,010 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:03:58,080 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:03:58,080 INFO  ~  OfferID for icon 5
10:03:58,080 DEBUG ~ /* load models.Offer */ select offer0_.id as id153_0_, offer0_.datacenter as datacenter153_0_, offer0_.defaultLeasePeriod as defaultL3_153_0_, offer0_.defaultNetworkType as defaultN4_153_0_, offer0_.defaultServiceLevel as defaultS5_153_0_, offer0_.hypervisorType as hypervis6_153_0_, offer0_.icon as icon153_0_, offer0_.iconName as iconName153_0_, offer0_.image as image153_0_, offer0_.longDescription as longDes10_153_0_, offer0_.name as name153_0_, offer0_.price as price153_0_, offer0_.serviceType as service13_153_0_, offer0_.shortDescription as shortDe14_153_0_, offer0_.state as state153_0_, offer0_.virtualAppliance as virtual16_153_0_, offer0_.virtualDatacenter as virtual17_153_0_, offer0_.virtualDatacenterName as virtual18_153_0_ from Offer offer0_ where offer0_.id=?
10:03:58,081 INFO  ~ ------------------------- EXITING displayIcon()---------
10:07:01,074 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
10:07:01,074 INFO  ~ CURRENT USER EMAIL ID: userent
10:07:01,074 DEBUG ~ /* load models.Offer */ select offer0_.id as id153_0_, offer0_.datacenter as datacenter153_0_, offer0_.defaultLeasePeriod as defaultL3_153_0_, offer0_.defaultNetworkType as defaultN4_153_0_, offer0_.defaultServiceLevel as defaultS5_153_0_, offer0_.hypervisorType as hypervis6_153_0_, offer0_.icon as icon153_0_, offer0_.iconName as iconName153_0_, offer0_.image as image153_0_, offer0_.longDescription as longDes10_153_0_, offer0_.name as name153_0_, offer0_.price as price153_0_, offer0_.serviceType as service13_153_0_, offer0_.shortDescription as shortDe14_153_0_, offer0_.state as state153_0_, offer0_.virtualAppliance as virtual16_153_0_, offer0_.virtualDatacenter as virtual17_153_0_, offer0_.virtualDatacenterName as virtual18_153_0_ from Offer offer0_ where offer0_.id=?
10:07:01,075 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
10:07:01,174 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_153_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_161_0_, nodes1_.cpu as cpu161_0_, nodes1_.description as descript3_161_0_, nodes1_.hd as hd161_0_, nodes1_.icon as icon161_0_, nodes1_.idImage as idImage161_0_, nodes1_.node_name as node7_161_0_, nodes1_.ram as ram161_0_, nodes1_1_.offer_id as offer1_162_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:07:06,425 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:07:06,425 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 5 , String va_param:: goldserver)
10:07:06,467 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:07:06,678 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
10:07:07,561 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:07:07,562 INFO  ~  vdcname : POR-userent-2012-09-10 10:07:07.561
10:07:07,673 INFO  ~  VDC to deploy: 
10:07:07,674 INFO  ~  Hypervisor to deploy: 
10:07:07,746 INFO  ~  Datacenter to deploy: 
10:07:07,747 INFO  ~  Network Built
10:07:07,747 INFO  ~ VDC built  
10:07:09,516 INFO  ~  1. VDC CREATED 
10:07:09,672 INFO  ~  2. VAPP CREATED 
10:07:09,672 INFO  ~ --------------------
10:07:10,969 DEBUG ~ /* load models.Offer */ select offer0_.id as id153_0_, offer0_.datacenter as datacenter153_0_, offer0_.defaultLeasePeriod as defaultL3_153_0_, offer0_.defaultNetworkType as defaultN4_153_0_, offer0_.defaultServiceLevel as defaultS5_153_0_, offer0_.hypervisorType as hypervis6_153_0_, offer0_.icon as icon153_0_, offer0_.iconName as iconName153_0_, offer0_.image as image153_0_, offer0_.longDescription as longDes10_153_0_, offer0_.name as name153_0_, offer0_.price as price153_0_, offer0_.serviceType as service13_153_0_, offer0_.shortDescription as shortDe14_153_0_, offer0_.state as state153_0_, offer0_.virtualAppliance as virtual16_153_0_, offer0_.virtualDatacenter as virtual17_153_0_, offer0_.virtualDatacenterName as virtual18_153_0_ from Offer offer0_ where offer0_.id=?
10:07:11,769 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:07:11,770 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id153_, offer0_.datacenter as datacenter153_, offer0_.defaultLeasePeriod as defaultL3_153_, offer0_.defaultNetworkType as defaultN4_153_, offer0_.defaultServiceLevel as defaultS5_153_, offer0_.hypervisorType as hypervis6_153_, offer0_.icon as icon153_, offer0_.iconName as iconName153_, offer0_.image as image153_, offer0_.longDescription as longDes10_153_, offer0_.name as name153_, offer0_.price as price153_, offer0_.serviceType as service13_153_, offer0_.shortDescription as shortDe14_153_, offer0_.state as state153_, offer0_.virtualAppliance as virtual16_153_, offer0_.virtualDatacenter as virtual17_153_, offer0_.virtualDatacenterName as virtual18_153_ from Offer offer0_ where offer0_.id=?
10:07:11,771 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:07:11,772 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_153_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_161_0_, nodes1_.cpu as cpu161_0_, nodes1_.description as descript3_161_0_, nodes1_.hd as hd161_0_, nodes1_.icon as icon161_0_, nodes1_.idImage as idImage161_0_, nodes1_.node_name as node7_161_0_, nodes1_.ram as ram161_0_, nodes1_1_.offer_id as offer1_162_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:07:11,983 INFO  ~  3. VM CREATED
10:07:13,945 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_161_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_159_0_, nodes_reso1_.resourceType as resource2_159_0_, nodes_reso1_.sequence as sequence159_0_, nodes_reso1_.value as value159_0_, nodes_reso1_1_.id_node as id1_160_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:07:14,049 INFO  ~  4. HARDDISKS ATTACHED 
10:07:14,050 INFO  ~  Handler created :
10:07:14,416 INFO  ~ STARTING MONITORING ......
10:07:14,416 INFO  ~ SAVING DEPLOY INFORMATION ......
10:07:30,095 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:07:30,095 INFO  ~  CREATED VM : VirtualMachine [id=195, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_6d7e1804-38f1-4154-87c1-b3132d3f1cdc, password=vmpassword, ram=64, uuid=6d7e1804-38f1-4154-87c1-b3132d3f1cdc, vncAddress=null, vncPort=0]
10:07:30,152 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
10:07:30,152 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:07:30,152 INFO  ~  getVMDetais() params : vdc_id 153 vapp_id : 156 vm-id : 195
10:07:30,152 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_163_, mkt_config0_.deploy_enterprise_id as deploy2_163_, mkt_config0_.enterprise_name as enterprise3_163_, mkt_config0_.mkt_branding_css as mkt4_163_, mkt_config0_.mkt_branding_icon as mkt5_163_, mkt_config0_.mkt_deploy_pw as mkt6_163_, mkt_config0_.mkt_deploy_user as mkt7_163_, mkt_config0_.mkt_theme_css as mkt8_163_, mkt_config0_.mkt_url as mkt9_163_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:07:30,154 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:07:30,154 INFO  ~  AbiquoUtils context set to :null
10:07:30,154 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:20:00,119 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
10:20:00,139 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, leasePeriod, serviceLevel, start) values (?, ?, ?, ?, ?)
10:20:00,143 DEBUG ~ /* insert models.OfferPurchased */ insert into User (user_id, id) values (?, ?)
10:20:00,144 DEBUG ~ /* insert models.OfferPurchased */ insert into Offer (offer_id, id) values (?, ?)
10:20:00,158 DEBUG ~ /* insert models.Deploy_Bundle */ insert into Deploy_Bundle (deploy_datacenter, deploy_hypervisorType, deploy_network, offerPurchased_id, vapp_id, vapp_name, vdc_name) values (?, ?, ?, ?, ?, ?, ?)
10:20:00,163 ERROR ~ Unknown column 'offerPurchased_id' in 'field list'
10:21:04,844 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not insert: [models.Deploy_Bundle]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:466)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert: [models.Deploy_Bundle]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:64)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2345)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2852)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:799)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:791)
	at org.hibernate.engine.EJB3CascadingAction$1.cascade(EJB3CascadingAction.java:48)
	at org.hibernate.engine.Cascade.cascadeToOne(Cascade.java:392)
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:335)
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:204)
	at org.hibernate.engine.Cascade.cascadeCollectionElements(Cascade.java:425)
	at org.hibernate.engine.Cascade.cascadeCollection(Cascade.java:362)
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:338)
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:204)
	at org.hibernate.engine.Cascade.cascade(Cascade.java:161)
	at org.hibernate.event.def.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:475)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:353)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerPurchased_id' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:94)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
	... 42 more
10:21:05,087 ERROR ~ 

@6bj6k07e8
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Repeated column in mapping for entity: models.OfferPurchased column: id (should be mapped with insert="false" update="false")

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.MappingException: Repeated column in mapping for entity: models.OfferPurchased column: id (should be mapped with insert="false" update="false")
	at org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:676)
	at org.hibernate.mapping.PersistentClass.checkPropertyColumnDuplication(PersistentClass.java:698)
	at org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:720)
	at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:474)
	at org.hibernate.mapping.RootClass.validate(RootClass.java:235)
	at org.hibernate.cfg.Configuration.validate(Configuration.java:1332)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1835)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:21:58,789 ERROR ~ 

@6bj6k07e9
Internal Server Error (500) for request GET /ProducerLocal/admin

Compilation error (In /app/models/OfferPurchased.java around line 152)
The file /app/models/OfferPurchased.java could not be compiled. Error raised is : The return type is incompatible with Model.getId()

play.exceptions.CompilationException: The return type is incompatible with Model.getId()
	at play.classloading.ApplicationCompiler$2.acceptResult(ApplicationCompiler.java:246)
	at org.eclipse.jdt.internal.compiler.Compiler.handleInternalException(Compiler.java:676)
	at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:520)
	at play.classloading.ApplicationCompiler.compile(ApplicationCompiler.java:282)
	at play.classloading.ApplicationClasses$ApplicationClass.compile(ApplicationClasses.java:277)
	at play.classloading.ApplicationClassloader.detectChanges(ApplicationClassloader.java:322)
	at play.Play.detectChanges(Play.java:614)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
10:22:40,223 ERROR ~ 

@6bj6k07ea
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:24,083 ERROR ~ 

@6bj6k07eb
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:24,911 ERROR ~ 

@6bj6k07ec
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:25,548 ERROR ~ 

@6bj6k07ed
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:25,988 ERROR ~ 

@6bj6k07ee
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:26,198 ERROR ~ 

@6bj6k07ef
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:26,385 ERROR ~ 

@6bj6k07eg
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:26,552 ERROR ~ 

@6bj6k07eh
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:26,727 ERROR ~ 

@6bj6k07ei
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:27,056 ERROR ~ 

@6bj6k07ej
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:27,148 ERROR ~ 

@6bj6k07ek
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:27,233 ERROR ~ 

@6bj6k07el
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:27,401 ERROR ~ 

@6bj6k07em
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:27,616 ERROR ~ 

@6bj6k07en
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:27,817 ERROR ~ 

@6bj6k07eo
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:28,005 ERROR ~ 

@6bj6k07ep
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:28,236 ERROR ~ 

@6bj6k07f0
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:28,437 ERROR ~ 

@6bj6k07f1
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:28,639 ERROR ~ 

@6bj6k07f2
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:28,873 ERROR ~ 

@6bj6k07f3
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:29,096 ERROR ~ 

@6bj6k07f4
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:29,299 ERROR ~ 

@6bj6k07f5
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:29,492 ERROR ~ 

@6bj6k07f6
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:29,697 ERROR ~ 

@6bj6k07f7
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:30,050 ERROR ~ 

@6bj6k07f8
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:30,228 ERROR ~ 

@6bj6k07f9
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:30,423 ERROR ~ 

@6bj6k07fa
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:30,591 ERROR ~ 

@6bj6k07fb
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:24:30,772 ERROR ~ 

@6bj6k07fc
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:26:32,031 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
10:26:32,031 ERROR ~ Table 'Deploy_Bundle' already exists
10:26:33,599 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
10:26:33,599 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
10:26:34,765 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
10:26:34,765 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
10:26:37,594 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:26:37,635 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:26:38,035 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:26:38,237 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id598_, offer0_.datacenter as datacenter598_, offer0_.defaultLeasePeriod as defaultL3_598_, offer0_.defaultNetworkType as defaultN4_598_, offer0_.defaultServiceLevel as defaultS5_598_, offer0_.hypervisorType as hypervis6_598_, offer0_.icon as icon598_, offer0_.iconName as iconName598_, offer0_.image as image598_, offer0_.longDescription as longDes10_598_, offer0_.name as name598_, offer0_.price as price598_, offer0_.serviceType as service13_598_, offer0_.shortDescription as shortDe14_598_, offer0_.state as state598_, offer0_.virtualAppliance as virtual16_598_, offer0_.virtualDatacenter as virtual17_598_, offer0_.virtualDatacenterName as virtual18_598_ from Offer offer0_ where offer0_.id=?
10:26:38,315 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id598_, offer0_.datacenter as datacenter598_, offer0_.defaultLeasePeriod as defaultL3_598_, offer0_.defaultNetworkType as defaultN4_598_, offer0_.defaultServiceLevel as defaultS5_598_, offer0_.hypervisorType as hypervis6_598_, offer0_.icon as icon598_, offer0_.iconName as iconName598_, offer0_.image as image598_, offer0_.longDescription as longDes10_598_, offer0_.name as name598_, offer0_.price as price598_, offer0_.serviceType as service13_598_, offer0_.shortDescription as shortDe14_598_, offer0_.state as state598_, offer0_.virtualAppliance as virtual16_598_, offer0_.virtualDatacenter as virtual17_598_, offer0_.virtualDatacenterName as virtual18_598_ from Offer offer0_ where offer0_.id=?
10:26:38,372 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id598_, offer0_.datacenter as datacenter598_, offer0_.defaultLeasePeriod as defaultL3_598_, offer0_.defaultNetworkType as defaultN4_598_, offer0_.defaultServiceLevel as defaultS5_598_, offer0_.hypervisorType as hypervis6_598_, offer0_.icon as icon598_, offer0_.iconName as iconName598_, offer0_.image as image598_, offer0_.longDescription as longDes10_598_, offer0_.name as name598_, offer0_.price as price598_, offer0_.serviceType as service13_598_, offer0_.shortDescription as shortDe14_598_, offer0_.state as state598_, offer0_.virtualAppliance as virtual16_598_, offer0_.virtualDatacenter as virtual17_598_, offer0_.virtualDatacenterName as virtual18_598_ from Offer offer0_ where offer0_.id=?
10:26:38,429 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:26:38,429 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id599_, offerpurch0_.expiration as expiration599_, offerpurch0_.idVirtualApplianceUser as idVirtua3_599_, offerpurch0_.leasePeriod as leasePer4_599_, offerpurch0_.offerPurchasedId as offerPur5_599_, offerpurch0_.serviceLevel as serviceL6_599_, offerpurch0_.start as start599_, offerpurch0_1_.user_id as user1_600_, offerpurch0_2_.offer_id as offer19_598_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:26:38,430 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:26:38,430 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:26:38,430 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id598_, offer0_.datacenter as datacenter598_, offer0_.defaultLeasePeriod as defaultL3_598_, offer0_.defaultNetworkType as defaultN4_598_, offer0_.defaultServiceLevel as defaultS5_598_, offer0_.hypervisorType as hypervis6_598_, offer0_.icon as icon598_, offer0_.iconName as iconName598_, offer0_.image as image598_, offer0_.longDescription as longDes10_598_, offer0_.name as name598_, offer0_.price as price598_, offer0_.serviceType as service13_598_, offer0_.shortDescription as shortDe14_598_, offer0_.state as state598_, offer0_.virtualAppliance as virtual16_598_, offer0_.virtualDatacenter as virtual17_598_, offer0_.virtualDatacenterName as virtual18_598_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:26:38,431 INFO  ~ resultSet1 size :0
10:26:38,431 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:26:38,431 INFO  ~  resultSet1 size []
10:26:38,431 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:26:39,446 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
10:26:39,481 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:26:39,539 INFO  ~  virtualDC  : Bronze
10:26:39,633 INFO  ~  va  : Bronze
10:26:39,795 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
10:26:44,262 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id598_, offer0_.datacenter as datacenter598_, offer0_.defaultLeasePeriod as defaultL3_598_, offer0_.defaultNetworkType as defaultN4_598_, offer0_.defaultServiceLevel as defaultS5_598_, offer0_.hypervisorType as hypervis6_598_, offer0_.icon as icon598_, offer0_.iconName as iconName598_, offer0_.image as image598_, offer0_.longDescription as longDes10_598_, offer0_.name as name598_, offer0_.price as price598_, offer0_.serviceType as service13_598_, offer0_.shortDescription as shortDe14_598_, offer0_.state as state598_, offer0_.virtualAppliance as virtual16_598_, offer0_.virtualDatacenter as virtual17_598_, offer0_.virtualDatacenterName as virtual18_598_ from Offer offer0_ where offer0_.id=? limit ?
10:26:44,270 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
10:26:44,270 INFO  ~ Session user in addToServiceCatalog(): admin
10:26:44,270 INFO  ~  and  vdc 3  & va_id : 1
10:26:44,270 INFO  ~  lease period 100 years
10:26:44,300 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:26:44,791 INFO  ~  description : dfdfdf
10:26:44,846 INFO  ~  description : dfdfdf
10:26:44,882 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
10:26:44,883 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
10:26:44,883 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
10:26:44,884 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
10:26:44,884 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
10:26:44,884 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
10:26:44,886 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
10:26:44,996 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:26:45,196 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id598_, offer0_.datacenter as datacenter598_, offer0_.defaultLeasePeriod as defaultL3_598_, offer0_.defaultNetworkType as defaultN4_598_, offer0_.defaultServiceLevel as defaultS5_598_, offer0_.hypervisorType as hypervis6_598_, offer0_.icon as icon598_, offer0_.iconName as iconName598_, offer0_.image as image598_, offer0_.longDescription as longDes10_598_, offer0_.name as name598_, offer0_.price as price598_, offer0_.serviceType as service13_598_, offer0_.shortDescription as shortDe14_598_, offer0_.state as state598_, offer0_.virtualAppliance as virtual16_598_, offer0_.virtualDatacenter as virtual17_598_, offer0_.virtualDatacenterName as virtual18_598_ from Offer offer0_ where offer0_.id=?
10:26:45,197 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id598_, offer0_.datacenter as datacenter598_, offer0_.defaultLeasePeriod as defaultL3_598_, offer0_.defaultNetworkType as defaultN4_598_, offer0_.defaultServiceLevel as defaultS5_598_, offer0_.hypervisorType as hypervis6_598_, offer0_.icon as icon598_, offer0_.iconName as iconName598_, offer0_.image as image598_, offer0_.longDescription as longDes10_598_, offer0_.name as name598_, offer0_.price as price598_, offer0_.serviceType as service13_598_, offer0_.shortDescription as shortDe14_598_, offer0_.state as state598_, offer0_.virtualAppliance as virtual16_598_, offer0_.virtualDatacenter as virtual17_598_, offer0_.virtualDatacenterName as virtual18_598_ from Offer offer0_ where offer0_.id=?
10:26:45,251 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id598_, offer0_.datacenter as datacenter598_, offer0_.defaultLeasePeriod as defaultL3_598_, offer0_.defaultNetworkType as defaultN4_598_, offer0_.defaultServiceLevel as defaultS5_598_, offer0_.hypervisorType as hypervis6_598_, offer0_.icon as icon598_, offer0_.iconName as iconName598_, offer0_.image as image598_, offer0_.longDescription as longDes10_598_, offer0_.name as name598_, offer0_.price as price598_, offer0_.serviceType as service13_598_, offer0_.shortDescription as shortDe14_598_, offer0_.state as state598_, offer0_.virtualAppliance as virtual16_598_, offer0_.virtualDatacenter as virtual17_598_, offer0_.virtualDatacenterName as virtual18_598_ from Offer offer0_ where offer0_.id=?
10:26:45,307 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:26:45,308 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id599_, offerpurch0_.expiration as expiration599_, offerpurch0_.idVirtualApplianceUser as idVirtua3_599_, offerpurch0_.leasePeriod as leasePer4_599_, offerpurch0_.offerPurchasedId as offerPur5_599_, offerpurch0_.serviceLevel as serviceL6_599_, offerpurch0_.start as start599_, offerpurch0_1_.user_id as user1_600_, offerpurch0_2_.offer_id as offer19_598_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:26:45,308 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:26:45,308 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:26:45,309 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id598_, offer0_.datacenter as datacenter598_, offer0_.defaultLeasePeriod as defaultL3_598_, offer0_.defaultNetworkType as defaultN4_598_, offer0_.defaultServiceLevel as defaultS5_598_, offer0_.hypervisorType as hypervis6_598_, offer0_.icon as icon598_, offer0_.iconName as iconName598_, offer0_.image as image598_, offer0_.longDescription as longDes10_598_, offer0_.name as name598_, offer0_.price as price598_, offer0_.serviceType as service13_598_, offer0_.shortDescription as shortDe14_598_, offer0_.state as state598_, offer0_.virtualAppliance as virtual16_598_, offer0_.virtualDatacenter as virtual17_598_, offer0_.virtualDatacenterName as virtual18_598_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:26:45,310 INFO  ~ resultSet1 size :1
10:26:45,310 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:26:45,310 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@14add9ad , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
10:26:45,310 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:26:45,346 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:26:45,346 INFO  ~  OfferID for icon 1
10:26:45,346 DEBUG ~ /* load models.Offer */ select offer0_.id as id598_0_, offer0_.datacenter as datacenter598_0_, offer0_.defaultLeasePeriod as defaultL3_598_0_, offer0_.defaultNetworkType as defaultN4_598_0_, offer0_.defaultServiceLevel as defaultS5_598_0_, offer0_.hypervisorType as hypervis6_598_0_, offer0_.icon as icon598_0_, offer0_.iconName as iconName598_0_, offer0_.image as image598_0_, offer0_.longDescription as longDes10_598_0_, offer0_.name as name598_0_, offer0_.price as price598_0_, offer0_.serviceType as service13_598_0_, offer0_.shortDescription as shortDe14_598_0_, offer0_.state as state598_0_, offer0_.virtualAppliance as virtual16_598_0_, offer0_.virtualDatacenter as virtual17_598_0_, offer0_.virtualDatacenterName as virtual18_598_0_ from Offer offer0_ where offer0_.id=?
10:26:45,348 INFO  ~ ------------------------- EXITING displayIcon()---------
10:26:57,483 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:26:57,518 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:26:57,659 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:26:57,674 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
10:26:57,674 INFO  ~ Enterprie ID for current User 3
10:26:57,675 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id598_, offer0_.datacenter as datacenter598_, offer0_.defaultLeasePeriod as defaultL3_598_, offer0_.defaultNetworkType as defaultN4_598_, offer0_.defaultServiceLevel as defaultS5_598_, offer0_.hypervisorType as hypervis6_598_, offer0_.icon as icon598_, offer0_.iconName as iconName598_, offer0_.image as image598_, offer0_.longDescription as longDes10_598_, offer0_.name as name598_, offer0_.price as price598_, offer0_.serviceType as service13_598_, offer0_.shortDescription as shortDe14_598_, offer0_.state as state598_, offer0_.virtualAppliance as virtual16_598_, offer0_.virtualDatacenter as virtual17_598_, offer0_.virtualDatacenterName as virtual18_598_ from Offer offer0_ group by offer0_.defaultServiceLevel
10:26:57,677 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
10:26:57,825 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
10:26:57,825 INFO  ~ Enterprie ID for current User 3
10:26:57,825 INFO  ~ CURRENT USER EMAIL ID: userent
10:26:57,825 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id598_, offer0_.datacenter as datacenter598_, offer0_.defaultLeasePeriod as defaultL3_598_, offer0_.defaultNetworkType as defaultN4_598_, offer0_.defaultServiceLevel as defaultS5_598_, offer0_.hypervisorType as hypervis6_598_, offer0_.icon as icon598_, offer0_.iconName as iconName598_, offer0_.image as image598_, offer0_.longDescription as longDes10_598_, offer0_.name as name598_, offer0_.price as price598_, offer0_.serviceType as service13_598_, offer0_.shortDescription as shortDe14_598_, offer0_.state as state598_, offer0_.virtualAppliance as virtual16_598_, offer0_.virtualDatacenter as virtual17_598_, offer0_.virtualDatacenterName as virtual18_598_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:26:57,826 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:26:57,827 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id599_, offerpurch0_.expiration as expiration599_, offerpurch0_.idVirtualApplianceUser as idVirtua3_599_, offerpurch0_.leasePeriod as leasePer4_599_, offerpurch0_.offerPurchasedId as offerPur5_599_, offerpurch0_.serviceLevel as serviceL6_599_, offerpurch0_.start as start599_, offerpurch0_1_.user_id as user1_600_, offerpurch0_2_.offer_id as offer19_598_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:26:57,827 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:26:57,827 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:26:57,856 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:26:57,856 INFO  ~  OfferID for icon 1
10:26:57,856 DEBUG ~ /* load models.Offer */ select offer0_.id as id598_0_, offer0_.datacenter as datacenter598_0_, offer0_.defaultLeasePeriod as defaultL3_598_0_, offer0_.defaultNetworkType as defaultN4_598_0_, offer0_.defaultServiceLevel as defaultS5_598_0_, offer0_.hypervisorType as hypervis6_598_0_, offer0_.icon as icon598_0_, offer0_.iconName as iconName598_0_, offer0_.image as image598_0_, offer0_.longDescription as longDes10_598_0_, offer0_.name as name598_0_, offer0_.price as price598_0_, offer0_.serviceType as service13_598_0_, offer0_.shortDescription as shortDe14_598_0_, offer0_.state as state598_0_, offer0_.virtualAppliance as virtual16_598_0_, offer0_.virtualDatacenter as virtual17_598_0_, offer0_.virtualDatacenterName as virtual18_598_0_ from Offer offer0_ where offer0_.id=?
10:26:57,857 INFO  ~ ------------------------- EXITING displayIcon()---------
10:26:59,313 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
10:26:59,314 INFO  ~ CURRENT USER EMAIL ID: userent
10:26:59,314 DEBUG ~ /* load models.Offer */ select offer0_.id as id598_0_, offer0_.datacenter as datacenter598_0_, offer0_.defaultLeasePeriod as defaultL3_598_0_, offer0_.defaultNetworkType as defaultN4_598_0_, offer0_.defaultServiceLevel as defaultS5_598_0_, offer0_.hypervisorType as hypervis6_598_0_, offer0_.icon as icon598_0_, offer0_.iconName as iconName598_0_, offer0_.image as image598_0_, offer0_.longDescription as longDes10_598_0_, offer0_.name as name598_0_, offer0_.price as price598_0_, offer0_.serviceType as service13_598_0_, offer0_.shortDescription as shortDe14_598_0_, offer0_.state as state598_0_, offer0_.virtualAppliance as virtual16_598_0_, offer0_.virtualDatacenter as virtual17_598_0_, offer0_.virtualDatacenterName as virtual18_598_0_ from Offer offer0_ where offer0_.id=?
10:26:59,315 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
10:26:59,325 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_598_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_606_0_, nodes1_.cpu as cpu606_0_, nodes1_.description as descript3_606_0_, nodes1_.hd as hd606_0_, nodes1_.icon as icon606_0_, nodes1_.idImage as idImage606_0_, nodes1_.node_name as node7_606_0_, nodes1_.ram as ram606_0_, nodes1_1_.offer_id as offer1_607_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:27:12,526 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:27:12,526 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
10:27:12,563 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:27:12,682 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
10:27:12,775 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:27:12,775 INFO  ~  vdcname : POR-userent-2012-09-10 10:27:12.775
10:27:12,871 INFO  ~  VDC to deploy: 
10:27:12,871 INFO  ~  Hypervisor to deploy: 
10:27:12,941 INFO  ~  Datacenter to deploy: 
10:27:12,941 INFO  ~  Network Built
10:27:12,941 INFO  ~ VDC built  
10:27:15,230 INFO  ~  1. VDC CREATED 
10:27:15,353 INFO  ~  2. VAPP CREATED 
10:27:15,353 INFO  ~ --------------------
10:27:15,353 DEBUG ~ /* load models.Offer */ select offer0_.id as id598_0_, offer0_.datacenter as datacenter598_0_, offer0_.defaultLeasePeriod as defaultL3_598_0_, offer0_.defaultNetworkType as defaultN4_598_0_, offer0_.defaultServiceLevel as defaultS5_598_0_, offer0_.hypervisorType as hypervis6_598_0_, offer0_.icon as icon598_0_, offer0_.iconName as iconName598_0_, offer0_.image as image598_0_, offer0_.longDescription as longDes10_598_0_, offer0_.name as name598_0_, offer0_.price as price598_0_, offer0_.serviceType as service13_598_0_, offer0_.shortDescription as shortDe14_598_0_, offer0_.state as state598_0_, offer0_.virtualAppliance as virtual16_598_0_, offer0_.virtualDatacenter as virtual17_598_0_, offer0_.virtualDatacenterName as virtual18_598_0_ from Offer offer0_ where offer0_.id=?
10:27:15,355 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:27:15,356 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id598_, offer0_.datacenter as datacenter598_, offer0_.defaultLeasePeriod as defaultL3_598_, offer0_.defaultNetworkType as defaultN4_598_, offer0_.defaultServiceLevel as defaultS5_598_, offer0_.hypervisorType as hypervis6_598_, offer0_.icon as icon598_, offer0_.iconName as iconName598_, offer0_.image as image598_, offer0_.longDescription as longDes10_598_, offer0_.name as name598_, offer0_.price as price598_, offer0_.serviceType as service13_598_, offer0_.shortDescription as shortDe14_598_, offer0_.state as state598_, offer0_.virtualAppliance as virtual16_598_, offer0_.virtualDatacenter as virtual17_598_, offer0_.virtualDatacenterName as virtual18_598_ from Offer offer0_ where offer0_.id=?
10:27:15,356 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:27:15,357 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_598_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_606_0_, nodes1_.cpu as cpu606_0_, nodes1_.description as descript3_606_0_, nodes1_.hd as hd606_0_, nodes1_.icon as icon606_0_, nodes1_.idImage as idImage606_0_, nodes1_.node_name as node7_606_0_, nodes1_.ram as ram606_0_, nodes1_1_.offer_id as offer1_607_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:27:15,604 INFO  ~  3. VM CREATED
10:27:15,605 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_606_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_604_0_, nodes_reso1_.resourceType as resource2_604_0_, nodes_reso1_.sequence as sequence604_0_, nodes_reso1_.value as value604_0_, nodes_reso1_1_.id_node as id1_605_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:27:15,693 INFO  ~  4. HARDDISKS ATTACHED 
10:27:15,694 INFO  ~  Handler created :
10:27:16,104 INFO  ~ STARTING MONITORING ......
10:27:16,328 INFO  ~  3. VM CREATED
10:27:16,328 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_606_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_604_0_, nodes_reso1_.resourceType as resource2_604_0_, nodes_reso1_.sequence as sequence604_0_, nodes_reso1_.value as value604_0_, nodes_reso1_1_.id_node as id1_605_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:27:16,451 INFO  ~  4. HARDDISKS ATTACHED 
10:27:16,451 INFO  ~  Handler created :
10:27:16,862 INFO  ~ STARTING MONITORING ......
10:27:16,862 INFO  ~ SAVING DEPLOY INFORMATION ......
10:27:16,864 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
10:27:16,867 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, leasePeriod, offerPurchasedId, serviceLevel, start) values (?, ?, ?, ?, ?, ?)
10:27:16,868 DEBUG ~ /* insert models.OfferPurchased */ insert into User (user_id, id) values (?, ?)
10:27:16,869 DEBUG ~ /* insert models.OfferPurchased */ insert into Offer (offer_id, id) values (?, ?)
10:27:16,870 ERROR ~ Duplicate entry '1' for key 'PRIMARY'
10:27:16,871 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not insert: [models.OfferPurchased]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:466)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.ConstraintViolationException: could not insert: [models.OfferPurchased]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:96)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2454)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2854)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '1' for key 'PRIMARY'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1039)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2437)
	... 23 more
10:27:37,284 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:27:37,284 INFO  ~  CREATED VM : VirtualMachine [id=197, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_f3c88089-f182-4e61-87a8-058a0f182d27, password=vmpassword, ram=128, uuid=f3c88089-f182-4e61-87a8-058a0f182d27, vncAddress=null, vncPort=0]
10:27:37,327 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
10:27:37,327 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:27:37,327 INFO  ~  getVMDetais() params : vdc_id 154 vapp_id : 157 vm-id : 197
10:27:37,328 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_608_, mkt_config0_.deploy_enterprise_id as deploy2_608_, mkt_config0_.enterprise_name as enterprise3_608_, mkt_config0_.mkt_branding_css as mkt4_608_, mkt_config0_.mkt_branding_icon as mkt5_608_, mkt_config0_.mkt_deploy_pw as mkt6_608_, mkt_config0_.mkt_deploy_user as mkt7_608_, mkt_config0_.mkt_theme_css as mkt8_608_, mkt_config0_.mkt_url as mkt9_608_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:27:37,328 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:27:37,328 INFO  ~  AbiquoUtils context set to :null
10:27:37,329 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:27:41,649 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:27:41,649 INFO  ~  CREATED VM : VirtualMachine [id=196, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_9447f795-ace8-4734-b0eb-e03003eb6c22, password=vmpassword, ram=64, uuid=9447f795-ace8-4734-b0eb-e03003eb6c22, vncAddress=null, vncPort=0]
10:27:41,703 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
10:27:41,703 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:27:41,703 INFO  ~  getVMDetais() params : vdc_id 154 vapp_id : 157 vm-id : 196
10:27:41,703 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_608_, mkt_config0_.deploy_enterprise_id as deploy2_608_, mkt_config0_.enterprise_name as enterprise3_608_, mkt_config0_.mkt_branding_css as mkt4_608_, mkt_config0_.mkt_branding_icon as mkt5_608_, mkt_config0_.mkt_deploy_pw as mkt6_608_, mkt_config0_.mkt_deploy_user as mkt7_608_, mkt_config0_.mkt_theme_css as mkt8_608_, mkt_config0_.mkt_url as mkt9_608_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:27:41,704 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:27:41,704 INFO  ~  AbiquoUtils context set to :null
10:27:41,704 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:27:43,161 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
10:27:43,161 INFO  ~ CURRENT USER EMAIL ID: userent
10:27:43,161 DEBUG ~ /* load models.Offer */ select offer0_.id as id598_0_, offer0_.datacenter as datacenter598_0_, offer0_.defaultLeasePeriod as defaultL3_598_0_, offer0_.defaultNetworkType as defaultN4_598_0_, offer0_.defaultServiceLevel as defaultS5_598_0_, offer0_.hypervisorType as hypervis6_598_0_, offer0_.icon as icon598_0_, offer0_.iconName as iconName598_0_, offer0_.image as image598_0_, offer0_.longDescription as longDes10_598_0_, offer0_.name as name598_0_, offer0_.price as price598_0_, offer0_.serviceType as service13_598_0_, offer0_.shortDescription as shortDe14_598_0_, offer0_.state as state598_0_, offer0_.virtualAppliance as virtual16_598_0_, offer0_.virtualDatacenter as virtual17_598_0_, offer0_.virtualDatacenterName as virtual18_598_0_ from Offer offer0_ where offer0_.id=?
10:27:43,163 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
10:27:43,164 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_598_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_606_0_, nodes1_.cpu as cpu606_0_, nodes1_.description as descript3_606_0_, nodes1_.hd as hd606_0_, nodes1_.icon as icon606_0_, nodes1_.idImage as idImage606_0_, nodes1_.node_name as node7_606_0_, nodes1_.ram as ram606_0_, nodes1_1_.offer_id as offer1_607_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:27:46,993 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:27:46,993 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
10:27:47,032 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:27:47,255 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
10:27:48,096 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:27:48,097 INFO  ~  vdcname : POR-userent-2012-09-10 10:27:48.096
10:27:48,222 INFO  ~  VDC to deploy: 
10:27:48,222 INFO  ~  Hypervisor to deploy: 
10:27:48,298 INFO  ~  Datacenter to deploy: 
10:27:48,298 INFO  ~  Network Built
10:27:48,298 INFO  ~ VDC built  
10:27:50,535 INFO  ~  1. VDC CREATED 
10:27:50,658 INFO  ~  2. VAPP CREATED 
10:27:50,658 INFO  ~ --------------------
10:27:52,233 DEBUG ~ /* load models.Offer */ select offer0_.id as id598_0_, offer0_.datacenter as datacenter598_0_, offer0_.defaultLeasePeriod as defaultL3_598_0_, offer0_.defaultNetworkType as defaultN4_598_0_, offer0_.defaultServiceLevel as defaultS5_598_0_, offer0_.hypervisorType as hypervis6_598_0_, offer0_.icon as icon598_0_, offer0_.iconName as iconName598_0_, offer0_.image as image598_0_, offer0_.longDescription as longDes10_598_0_, offer0_.name as name598_0_, offer0_.price as price598_0_, offer0_.serviceType as service13_598_0_, offer0_.shortDescription as shortDe14_598_0_, offer0_.state as state598_0_, offer0_.virtualAppliance as virtual16_598_0_, offer0_.virtualDatacenter as virtual17_598_0_, offer0_.virtualDatacenterName as virtual18_598_0_ from Offer offer0_ where offer0_.id=?
10:27:53,609 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:27:53,609 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id598_, offer0_.datacenter as datacenter598_, offer0_.defaultLeasePeriod as defaultL3_598_, offer0_.defaultNetworkType as defaultN4_598_, offer0_.defaultServiceLevel as defaultS5_598_, offer0_.hypervisorType as hypervis6_598_, offer0_.icon as icon598_, offer0_.iconName as iconName598_, offer0_.image as image598_, offer0_.longDescription as longDes10_598_, offer0_.name as name598_, offer0_.price as price598_, offer0_.serviceType as service13_598_, offer0_.shortDescription as shortDe14_598_, offer0_.state as state598_, offer0_.virtualAppliance as virtual16_598_, offer0_.virtualDatacenter as virtual17_598_, offer0_.virtualDatacenterName as virtual18_598_ from Offer offer0_ where offer0_.id=?
10:27:53,610 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:27:53,610 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_598_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_606_0_, nodes1_.cpu as cpu606_0_, nodes1_.description as descript3_606_0_, nodes1_.hd as hd606_0_, nodes1_.icon as icon606_0_, nodes1_.idImage as idImage606_0_, nodes1_.node_name as node7_606_0_, nodes1_.ram as ram606_0_, nodes1_1_.offer_id as offer1_607_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:27:53,831 INFO  ~  3. VM CREATED
10:27:55,737 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_606_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_604_0_, nodes_reso1_.resourceType as resource2_604_0_, nodes_reso1_.sequence as sequence604_0_, nodes_reso1_.value as value604_0_, nodes_reso1_1_.id_node as id1_605_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:27:55,854 INFO  ~  4. HARDDISKS ATTACHED 
10:27:55,854 INFO  ~  Handler created :
10:27:56,308 INFO  ~ STARTING MONITORING ......
10:27:56,554 INFO  ~  3. VM CREATED
10:27:59,010 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_606_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_604_0_, nodes_reso1_.resourceType as resource2_604_0_, nodes_reso1_.sequence as sequence604_0_, nodes_reso1_.value as value604_0_, nodes_reso1_1_.id_node as id1_605_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:27:59,097 INFO  ~  4. HARDDISKS ATTACHED 
10:27:59,097 INFO  ~  Handler created :
10:27:59,502 INFO  ~ STARTING MONITORING ......
10:27:59,502 INFO  ~ SAVING DEPLOY INFORMATION ......
10:28:16,348 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
10:28:16,357 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, leasePeriod, offerPurchasedId, serviceLevel, start) values (?, ?, ?, ?, ?, ?)
10:28:16,361 DEBUG ~ /* insert models.OfferPurchased */ insert into User (user_id, id) values (?, ?)
10:28:16,364 DEBUG ~ /* insert models.OfferPurchased */ insert into Offer (offer_id, id) values (?, ?)
10:28:16,391 DEBUG ~ /* insert models.Deploy_Bundle */ insert into Deploy_Bundle (deploy_datacenter, deploy_hypervisorType, deploy_network, offerPurchased_id, vapp_id, vapp_name, vdc_name) values (?, ?, ?, ?, ?, ?, ?)
10:28:16,398 ERROR ~ Unknown column 'offerPurchased_id' in 'field list'
10:28:16,856 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:28:16,857 INFO  ~  CREATED VM : VirtualMachine [id=198, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_d5dfdb56-b623-4b12-a597-39933e72d8ad, password=vmpassword, ram=64, uuid=d5dfdb56-b623-4b12-a597-39933e72d8ad, vncAddress=null, vncPort=0]
10:28:16,916 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
10:28:16,916 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:28:16,916 INFO  ~  getVMDetais() params : vdc_id 155 vapp_id : 158 vm-id : 198
10:28:16,916 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_608_, mkt_config0_.deploy_enterprise_id as deploy2_608_, mkt_config0_.enterprise_name as enterprise3_608_, mkt_config0_.mkt_branding_css as mkt4_608_, mkt_config0_.mkt_branding_icon as mkt5_608_, mkt_config0_.mkt_deploy_pw as mkt6_608_, mkt_config0_.mkt_deploy_user as mkt7_608_, mkt_config0_.mkt_theme_css as mkt8_608_, mkt_config0_.mkt_url as mkt9_608_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:28:16,917 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:28:16,917 INFO  ~  AbiquoUtils context set to :null
10:28:16,918 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:28:19,924 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:28:19,924 INFO  ~  CREATED VM : VirtualMachine [id=199, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_0f6becc0-c074-40fe-8efc-ba33a28b7126, password=vmpassword, ram=128, uuid=0f6becc0-c074-40fe-8efc-ba33a28b7126, vncAddress=null, vncPort=0]
10:28:19,993 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
10:28:19,993 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:28:19,993 INFO  ~  getVMDetais() params : vdc_id 155 vapp_id : 158 vm-id : 199
10:28:19,993 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_608_, mkt_config0_.deploy_enterprise_id as deploy2_608_, mkt_config0_.enterprise_name as enterprise3_608_, mkt_config0_.mkt_branding_css as mkt4_608_, mkt_config0_.mkt_branding_icon as mkt5_608_, mkt_config0_.mkt_deploy_pw as mkt6_608_, mkt_config0_.mkt_deploy_user as mkt7_608_, mkt_config0_.mkt_theme_css as mkt8_608_, mkt_config0_.mkt_url as mkt9_608_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:28:19,994 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:28:19,994 INFO  ~  AbiquoUtils context set to :null
10:28:19,994 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:30:03,859 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not insert: [models.Deploy_Bundle]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:466)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert: [models.Deploy_Bundle]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:64)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2345)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2852)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:799)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:791)
	at org.hibernate.engine.EJB3CascadingAction$1.cascade(EJB3CascadingAction.java:48)
	at org.hibernate.engine.Cascade.cascadeToOne(Cascade.java:392)
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:335)
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:204)
	at org.hibernate.engine.Cascade.cascadeCollectionElements(Cascade.java:425)
	at org.hibernate.engine.Cascade.cascadeCollection(Cascade.java:362)
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:338)
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:204)
	at org.hibernate.engine.Cascade.cascade(Cascade.java:161)
	at org.hibernate.event.def.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:475)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:353)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerPurchased_id' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:94)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
	... 42 more
10:30:29,088 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_code varchar(255), primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
10:30:29,088 ERROR ~ Table 'Deploy_Bundle' already exists
10:30:30,632 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DAB042EF30 (offerPurchased_code), add constraint FK12BC56DAB042EF30 foreign key (offerPurchased_code) references OfferPurchased (code)
10:30:30,632 ERROR ~ Key column 'offerPurchased_code' doesn't exist in table
10:30:31,772 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (code)
10:30:31,772 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
10:30:34,704 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:30:34,740 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:30:35,114 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:30:35,324 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id622_, offer0_.datacenter as datacenter622_, offer0_.defaultLeasePeriod as defaultL3_622_, offer0_.defaultNetworkType as defaultN4_622_, offer0_.defaultServiceLevel as defaultS5_622_, offer0_.hypervisorType as hypervis6_622_, offer0_.icon as icon622_, offer0_.iconName as iconName622_, offer0_.image as image622_, offer0_.longDescription as longDes10_622_, offer0_.name as name622_, offer0_.price as price622_, offer0_.serviceType as service13_622_, offer0_.shortDescription as shortDe14_622_, offer0_.state as state622_, offer0_.virtualAppliance as virtual16_622_, offer0_.virtualDatacenter as virtual17_622_, offer0_.virtualDatacenterName as virtual18_622_ from Offer offer0_ where offer0_.id=?
10:30:35,410 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id622_, offer0_.datacenter as datacenter622_, offer0_.defaultLeasePeriod as defaultL3_622_, offer0_.defaultNetworkType as defaultN4_622_, offer0_.defaultServiceLevel as defaultS5_622_, offer0_.hypervisorType as hypervis6_622_, offer0_.icon as icon622_, offer0_.iconName as iconName622_, offer0_.image as image622_, offer0_.longDescription as longDes10_622_, offer0_.name as name622_, offer0_.price as price622_, offer0_.serviceType as service13_622_, offer0_.shortDescription as shortDe14_622_, offer0_.state as state622_, offer0_.virtualAppliance as virtual16_622_, offer0_.virtualDatacenter as virtual17_622_, offer0_.virtualDatacenterName as virtual18_622_ from Offer offer0_ where offer0_.id=?
10:30:35,462 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id622_, offer0_.datacenter as datacenter622_, offer0_.defaultLeasePeriod as defaultL3_622_, offer0_.defaultNetworkType as defaultN4_622_, offer0_.defaultServiceLevel as defaultS5_622_, offer0_.hypervisorType as hypervis6_622_, offer0_.icon as icon622_, offer0_.iconName as iconName622_, offer0_.image as image622_, offer0_.longDescription as longDes10_622_, offer0_.name as name622_, offer0_.price as price622_, offer0_.serviceType as service13_622_, offer0_.shortDescription as shortDe14_622_, offer0_.state as state622_, offer0_.virtualAppliance as virtual16_622_, offer0_.virtualDatacenter as virtual17_622_, offer0_.virtualDatacenterName as virtual18_622_ from Offer offer0_ where offer0_.id=?
10:30:35,523 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:30:35,523 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.code as code623_, offerpurch0_.expiration as expiration623_, offerpurch0_.idVirtualApplianceUser as idVirtua3_623_, offerpurch0_.leasePeriod as leasePer4_623_, offerpurch0_.serviceLevel as serviceL5_623_, offerpurch0_.start as start623_, offerpurch0_1_.user_id as user1_624_, offerpurch0_2_.offer_id as offer19_622_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.code=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.code=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:30:35,524 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:30:35,524 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:30:35,524 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id622_, offer0_.datacenter as datacenter622_, offer0_.defaultLeasePeriod as defaultL3_622_, offer0_.defaultNetworkType as defaultN4_622_, offer0_.defaultServiceLevel as defaultS5_622_, offer0_.hypervisorType as hypervis6_622_, offer0_.icon as icon622_, offer0_.iconName as iconName622_, offer0_.image as image622_, offer0_.longDescription as longDes10_622_, offer0_.name as name622_, offer0_.price as price622_, offer0_.serviceType as service13_622_, offer0_.shortDescription as shortDe14_622_, offer0_.state as state622_, offer0_.virtualAppliance as virtual16_622_, offer0_.virtualDatacenter as virtual17_622_, offer0_.virtualDatacenterName as virtual18_622_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:30:35,525 INFO  ~ resultSet1 size :0
10:30:35,525 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:30:35,525 INFO  ~  resultSet1 size []
10:30:35,525 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:30:36,279 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
10:30:36,311 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:30:36,366 INFO  ~  virtualDC  : Bronze
10:30:36,458 INFO  ~  va  : Bronze
10:30:36,630 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
10:30:40,921 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id622_, offer0_.datacenter as datacenter622_, offer0_.defaultLeasePeriod as defaultL3_622_, offer0_.defaultNetworkType as defaultN4_622_, offer0_.defaultServiceLevel as defaultS5_622_, offer0_.hypervisorType as hypervis6_622_, offer0_.icon as icon622_, offer0_.iconName as iconName622_, offer0_.image as image622_, offer0_.longDescription as longDes10_622_, offer0_.name as name622_, offer0_.price as price622_, offer0_.serviceType as service13_622_, offer0_.shortDescription as shortDe14_622_, offer0_.state as state622_, offer0_.virtualAppliance as virtual16_622_, offer0_.virtualDatacenter as virtual17_622_, offer0_.virtualDatacenterName as virtual18_622_ from Offer offer0_ where offer0_.id=? limit ?
10:30:40,929 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
10:30:40,930 INFO  ~ Session user in addToServiceCatalog(): admin
10:30:40,930 INFO  ~  and  vdc 3  & va_id : 1
10:30:40,930 INFO  ~  lease period 100 years
10:30:40,961 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:30:41,455 INFO  ~  description : sadfasd
10:30:41,517 INFO  ~  description : sadfasd
10:30:41,550 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
10:30:41,553 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
10:30:41,553 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
10:30:41,554 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
10:30:41,555 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
10:30:41,555 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
10:30:41,559 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
10:30:41,671 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:30:41,874 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id622_, offer0_.datacenter as datacenter622_, offer0_.defaultLeasePeriod as defaultL3_622_, offer0_.defaultNetworkType as defaultN4_622_, offer0_.defaultServiceLevel as defaultS5_622_, offer0_.hypervisorType as hypervis6_622_, offer0_.icon as icon622_, offer0_.iconName as iconName622_, offer0_.image as image622_, offer0_.longDescription as longDes10_622_, offer0_.name as name622_, offer0_.price as price622_, offer0_.serviceType as service13_622_, offer0_.shortDescription as shortDe14_622_, offer0_.state as state622_, offer0_.virtualAppliance as virtual16_622_, offer0_.virtualDatacenter as virtual17_622_, offer0_.virtualDatacenterName as virtual18_622_ from Offer offer0_ where offer0_.id=?
10:30:41,875 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id622_, offer0_.datacenter as datacenter622_, offer0_.defaultLeasePeriod as defaultL3_622_, offer0_.defaultNetworkType as defaultN4_622_, offer0_.defaultServiceLevel as defaultS5_622_, offer0_.hypervisorType as hypervis6_622_, offer0_.icon as icon622_, offer0_.iconName as iconName622_, offer0_.image as image622_, offer0_.longDescription as longDes10_622_, offer0_.name as name622_, offer0_.price as price622_, offer0_.serviceType as service13_622_, offer0_.shortDescription as shortDe14_622_, offer0_.state as state622_, offer0_.virtualAppliance as virtual16_622_, offer0_.virtualDatacenter as virtual17_622_, offer0_.virtualDatacenterName as virtual18_622_ from Offer offer0_ where offer0_.id=?
10:30:41,930 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id622_, offer0_.datacenter as datacenter622_, offer0_.defaultLeasePeriod as defaultL3_622_, offer0_.defaultNetworkType as defaultN4_622_, offer0_.defaultServiceLevel as defaultS5_622_, offer0_.hypervisorType as hypervis6_622_, offer0_.icon as icon622_, offer0_.iconName as iconName622_, offer0_.image as image622_, offer0_.longDescription as longDes10_622_, offer0_.name as name622_, offer0_.price as price622_, offer0_.serviceType as service13_622_, offer0_.shortDescription as shortDe14_622_, offer0_.state as state622_, offer0_.virtualAppliance as virtual16_622_, offer0_.virtualDatacenter as virtual17_622_, offer0_.virtualDatacenterName as virtual18_622_ from Offer offer0_ where offer0_.id=?
10:30:41,993 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:30:41,994 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.code as code623_, offerpurch0_.expiration as expiration623_, offerpurch0_.idVirtualApplianceUser as idVirtua3_623_, offerpurch0_.leasePeriod as leasePer4_623_, offerpurch0_.serviceLevel as serviceL5_623_, offerpurch0_.start as start623_, offerpurch0_1_.user_id as user1_624_, offerpurch0_2_.offer_id as offer19_622_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.code=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.code=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:30:41,994 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:30:41,994 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:30:41,995 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id622_, offer0_.datacenter as datacenter622_, offer0_.defaultLeasePeriod as defaultL3_622_, offer0_.defaultNetworkType as defaultN4_622_, offer0_.defaultServiceLevel as defaultS5_622_, offer0_.hypervisorType as hypervis6_622_, offer0_.icon as icon622_, offer0_.iconName as iconName622_, offer0_.image as image622_, offer0_.longDescription as longDes10_622_, offer0_.name as name622_, offer0_.price as price622_, offer0_.serviceType as service13_622_, offer0_.shortDescription as shortDe14_622_, offer0_.state as state622_, offer0_.virtualAppliance as virtual16_622_, offer0_.virtualDatacenter as virtual17_622_, offer0_.virtualDatacenterName as virtual18_622_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:30:41,996 INFO  ~ resultSet1 size :1
10:30:41,996 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:30:41,996 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@17231d57 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
10:30:41,996 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:30:42,030 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:30:42,030 INFO  ~  OfferID for icon 1
10:30:42,030 DEBUG ~ /* load models.Offer */ select offer0_.id as id622_0_, offer0_.datacenter as datacenter622_0_, offer0_.defaultLeasePeriod as defaultL3_622_0_, offer0_.defaultNetworkType as defaultN4_622_0_, offer0_.defaultServiceLevel as defaultS5_622_0_, offer0_.hypervisorType as hypervis6_622_0_, offer0_.icon as icon622_0_, offer0_.iconName as iconName622_0_, offer0_.image as image622_0_, offer0_.longDescription as longDes10_622_0_, offer0_.name as name622_0_, offer0_.price as price622_0_, offer0_.serviceType as service13_622_0_, offer0_.shortDescription as shortDe14_622_0_, offer0_.state as state622_0_, offer0_.virtualAppliance as virtual16_622_0_, offer0_.virtualDatacenter as virtual17_622_0_, offer0_.virtualDatacenterName as virtual18_622_0_ from Offer offer0_ where offer0_.id=?
10:30:42,032 INFO  ~ ------------------------- EXITING displayIcon()---------
10:30:48,206 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
10:30:48,206 INFO  ~ Enterprie ID for current User 3
10:30:48,206 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id622_, offer0_.datacenter as datacenter622_, offer0_.defaultLeasePeriod as defaultL3_622_, offer0_.defaultNetworkType as defaultN4_622_, offer0_.defaultServiceLevel as defaultS5_622_, offer0_.hypervisorType as hypervis6_622_, offer0_.icon as icon622_, offer0_.iconName as iconName622_, offer0_.image as image622_, offer0_.longDescription as longDes10_622_, offer0_.name as name622_, offer0_.price as price622_, offer0_.serviceType as service13_622_, offer0_.shortDescription as shortDe14_622_, offer0_.state as state622_, offer0_.virtualAppliance as virtual16_622_, offer0_.virtualDatacenter as virtual17_622_, offer0_.virtualDatacenterName as virtual18_622_ from Offer offer0_ group by offer0_.defaultServiceLevel
10:30:48,207 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
10:30:48,334 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
10:30:48,334 INFO  ~ Enterprie ID for current User 3
10:30:48,334 INFO  ~ CURRENT USER EMAIL ID: userent
10:30:48,334 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id622_, offer0_.datacenter as datacenter622_, offer0_.defaultLeasePeriod as defaultL3_622_, offer0_.defaultNetworkType as defaultN4_622_, offer0_.defaultServiceLevel as defaultS5_622_, offer0_.hypervisorType as hypervis6_622_, offer0_.icon as icon622_, offer0_.iconName as iconName622_, offer0_.image as image622_, offer0_.longDescription as longDes10_622_, offer0_.name as name622_, offer0_.price as price622_, offer0_.serviceType as service13_622_, offer0_.shortDescription as shortDe14_622_, offer0_.state as state622_, offer0_.virtualAppliance as virtual16_622_, offer0_.virtualDatacenter as virtual17_622_, offer0_.virtualDatacenterName as virtual18_622_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:30:48,336 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:30:48,337 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.code as code623_, offerpurch0_.expiration as expiration623_, offerpurch0_.idVirtualApplianceUser as idVirtua3_623_, offerpurch0_.leasePeriod as leasePer4_623_, offerpurch0_.serviceLevel as serviceL5_623_, offerpurch0_.start as start623_, offerpurch0_1_.user_id as user1_624_, offerpurch0_2_.offer_id as offer19_622_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.code=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.code=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:30:48,338 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:30:48,338 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:30:48,365 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:30:48,365 INFO  ~  OfferID for icon 1
10:30:48,365 DEBUG ~ /* load models.Offer */ select offer0_.id as id622_0_, offer0_.datacenter as datacenter622_0_, offer0_.defaultLeasePeriod as defaultL3_622_0_, offer0_.defaultNetworkType as defaultN4_622_0_, offer0_.defaultServiceLevel as defaultS5_622_0_, offer0_.hypervisorType as hypervis6_622_0_, offer0_.icon as icon622_0_, offer0_.iconName as iconName622_0_, offer0_.image as image622_0_, offer0_.longDescription as longDes10_622_0_, offer0_.name as name622_0_, offer0_.price as price622_0_, offer0_.serviceType as service13_622_0_, offer0_.shortDescription as shortDe14_622_0_, offer0_.state as state622_0_, offer0_.virtualAppliance as virtual16_622_0_, offer0_.virtualDatacenter as virtual17_622_0_, offer0_.virtualDatacenterName as virtual18_622_0_ from Offer offer0_ where offer0_.id=?
10:30:48,366 INFO  ~ ------------------------- EXITING displayIcon()---------
10:30:56,603 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:30:56,649 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:30:56,809 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:30:56,816 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
10:30:56,816 INFO  ~ Enterprie ID for current User 3
10:30:56,817 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id622_, offer0_.datacenter as datacenter622_, offer0_.defaultLeasePeriod as defaultL3_622_, offer0_.defaultNetworkType as defaultN4_622_, offer0_.defaultServiceLevel as defaultS5_622_, offer0_.hypervisorType as hypervis6_622_, offer0_.icon as icon622_, offer0_.iconName as iconName622_, offer0_.image as image622_, offer0_.longDescription as longDes10_622_, offer0_.name as name622_, offer0_.price as price622_, offer0_.serviceType as service13_622_, offer0_.shortDescription as shortDe14_622_, offer0_.state as state622_, offer0_.virtualAppliance as virtual16_622_, offer0_.virtualDatacenter as virtual17_622_, offer0_.virtualDatacenterName as virtual18_622_ from Offer offer0_ group by offer0_.defaultServiceLevel
10:30:56,818 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
10:30:56,942 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
10:30:56,942 INFO  ~ Enterprie ID for current User 3
10:30:56,942 INFO  ~ CURRENT USER EMAIL ID: userent
10:30:56,942 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id622_, offer0_.datacenter as datacenter622_, offer0_.defaultLeasePeriod as defaultL3_622_, offer0_.defaultNetworkType as defaultN4_622_, offer0_.defaultServiceLevel as defaultS5_622_, offer0_.hypervisorType as hypervis6_622_, offer0_.icon as icon622_, offer0_.iconName as iconName622_, offer0_.image as image622_, offer0_.longDescription as longDes10_622_, offer0_.name as name622_, offer0_.price as price622_, offer0_.serviceType as service13_622_, offer0_.shortDescription as shortDe14_622_, offer0_.state as state622_, offer0_.virtualAppliance as virtual16_622_, offer0_.virtualDatacenter as virtual17_622_, offer0_.virtualDatacenterName as virtual18_622_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:30:56,953 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:30:56,953 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.code as code623_, offerpurch0_.expiration as expiration623_, offerpurch0_.idVirtualApplianceUser as idVirtua3_623_, offerpurch0_.leasePeriod as leasePer4_623_, offerpurch0_.serviceLevel as serviceL5_623_, offerpurch0_.start as start623_, offerpurch0_1_.user_id as user1_624_, offerpurch0_2_.offer_id as offer19_622_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.code=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.code=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:30:56,954 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:30:56,954 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:30:56,971 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:30:56,971 INFO  ~  OfferID for icon 1
10:30:56,971 DEBUG ~ /* load models.Offer */ select offer0_.id as id622_0_, offer0_.datacenter as datacenter622_0_, offer0_.defaultLeasePeriod as defaultL3_622_0_, offer0_.defaultNetworkType as defaultN4_622_0_, offer0_.defaultServiceLevel as defaultS5_622_0_, offer0_.hypervisorType as hypervis6_622_0_, offer0_.icon as icon622_0_, offer0_.iconName as iconName622_0_, offer0_.image as image622_0_, offer0_.longDescription as longDes10_622_0_, offer0_.name as name622_0_, offer0_.price as price622_0_, offer0_.serviceType as service13_622_0_, offer0_.shortDescription as shortDe14_622_0_, offer0_.state as state622_0_, offer0_.virtualAppliance as virtual16_622_0_, offer0_.virtualDatacenter as virtual17_622_0_, offer0_.virtualDatacenterName as virtual18_622_0_ from Offer offer0_ where offer0_.id=?
10:30:56,972 INFO  ~ ------------------------- EXITING displayIcon()---------
10:30:58,210 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
10:30:58,210 INFO  ~ CURRENT USER EMAIL ID: userent
10:30:58,210 DEBUG ~ /* load models.Offer */ select offer0_.id as id622_0_, offer0_.datacenter as datacenter622_0_, offer0_.defaultLeasePeriod as defaultL3_622_0_, offer0_.defaultNetworkType as defaultN4_622_0_, offer0_.defaultServiceLevel as defaultS5_622_0_, offer0_.hypervisorType as hypervis6_622_0_, offer0_.icon as icon622_0_, offer0_.iconName as iconName622_0_, offer0_.image as image622_0_, offer0_.longDescription as longDes10_622_0_, offer0_.name as name622_0_, offer0_.price as price622_0_, offer0_.serviceType as service13_622_0_, offer0_.shortDescription as shortDe14_622_0_, offer0_.state as state622_0_, offer0_.virtualAppliance as virtual16_622_0_, offer0_.virtualDatacenter as virtual17_622_0_, offer0_.virtualDatacenterName as virtual18_622_0_ from Offer offer0_ where offer0_.id=?
10:30:58,212 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
10:30:58,228 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_622_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_630_0_, nodes1_.cpu as cpu630_0_, nodes1_.description as descript3_630_0_, nodes1_.hd as hd630_0_, nodes1_.icon as icon630_0_, nodes1_.idImage as idImage630_0_, nodes1_.node_name as node7_630_0_, nodes1_.ram as ram630_0_, nodes1_1_.offer_id as offer1_631_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:30:59,526 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:30:59,526 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
10:30:59,559 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:30:59,637 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
10:30:59,710 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:30:59,710 INFO  ~  vdcname : POR-userent-2012-09-10 10:30:59.71
10:30:59,760 INFO  ~  VDC to deploy: 
10:30:59,760 INFO  ~  Hypervisor to deploy: 
10:30:59,818 INFO  ~  Datacenter to deploy: 
10:30:59,818 INFO  ~  Network Built
10:30:59,818 INFO  ~ VDC built  
10:31:02,721 INFO  ~  1. VDC CREATED 
10:31:02,804 INFO  ~  2. VAPP CREATED 
10:31:02,804 INFO  ~ --------------------
10:31:02,804 DEBUG ~ /* load models.Offer */ select offer0_.id as id622_0_, offer0_.datacenter as datacenter622_0_, offer0_.defaultLeasePeriod as defaultL3_622_0_, offer0_.defaultNetworkType as defaultN4_622_0_, offer0_.defaultServiceLevel as defaultS5_622_0_, offer0_.hypervisorType as hypervis6_622_0_, offer0_.icon as icon622_0_, offer0_.iconName as iconName622_0_, offer0_.image as image622_0_, offer0_.longDescription as longDes10_622_0_, offer0_.name as name622_0_, offer0_.price as price622_0_, offer0_.serviceType as service13_622_0_, offer0_.shortDescription as shortDe14_622_0_, offer0_.state as state622_0_, offer0_.virtualAppliance as virtual16_622_0_, offer0_.virtualDatacenter as virtual17_622_0_, offer0_.virtualDatacenterName as virtual18_622_0_ from Offer offer0_ where offer0_.id=?
10:31:02,805 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:31:02,805 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id622_, offer0_.datacenter as datacenter622_, offer0_.defaultLeasePeriod as defaultL3_622_, offer0_.defaultNetworkType as defaultN4_622_, offer0_.defaultServiceLevel as defaultS5_622_, offer0_.hypervisorType as hypervis6_622_, offer0_.icon as icon622_, offer0_.iconName as iconName622_, offer0_.image as image622_, offer0_.longDescription as longDes10_622_, offer0_.name as name622_, offer0_.price as price622_, offer0_.serviceType as service13_622_, offer0_.shortDescription as shortDe14_622_, offer0_.state as state622_, offer0_.virtualAppliance as virtual16_622_, offer0_.virtualDatacenter as virtual17_622_, offer0_.virtualDatacenterName as virtual18_622_ from Offer offer0_ where offer0_.id=?
10:31:02,806 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:31:02,806 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_622_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_630_0_, nodes1_.cpu as cpu630_0_, nodes1_.description as descript3_630_0_, nodes1_.hd as hd630_0_, nodes1_.icon as icon630_0_, nodes1_.idImage as idImage630_0_, nodes1_.node_name as node7_630_0_, nodes1_.ram as ram630_0_, nodes1_1_.offer_id as offer1_631_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:31:02,989 INFO  ~  3. VM CREATED
10:31:02,990 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_630_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_628_0_, nodes_reso1_.resourceType as resource2_628_0_, nodes_reso1_.sequence as sequence628_0_, nodes_reso1_.value as value628_0_, nodes_reso1_1_.id_node as id1_629_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:31:03,088 INFO  ~  4. HARDDISKS ATTACHED 
10:31:03,089 INFO  ~  Handler created :
10:31:03,636 INFO  ~ STARTING MONITORING ......
10:31:03,855 INFO  ~  3. VM CREATED
10:31:03,855 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_630_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_628_0_, nodes_reso1_.resourceType as resource2_628_0_, nodes_reso1_.sequence as sequence628_0_, nodes_reso1_.value as value628_0_, nodes_reso1_1_.id_node as id1_629_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:31:03,984 INFO  ~  4. HARDDISKS ATTACHED 
10:31:03,984 INFO  ~  Handler created :
10:31:04,406 INFO  ~ STARTING MONITORING ......
10:31:04,406 INFO  ~ SAVING DEPLOY INFORMATION ......
10:31:04,418 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): models.OfferPurchased
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:466)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): models.OfferPurchased
	at org.hibernate.id.Assigned.generate(Assigned.java:53)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:121)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
10:31:23,963 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:31:23,964 INFO  ~  CREATED VM : VirtualMachine [id=200, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_a60a8f6c-a0c8-41a5-881c-fe23025ddd5a, password=vmpassword, ram=64, uuid=a60a8f6c-a0c8-41a5-881c-fe23025ddd5a, vncAddress=null, vncPort=0]
10:31:24,002 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
10:31:24,002 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:31:24,002 INFO  ~  getVMDetais() params : vdc_id 156 vapp_id : 159 vm-id : 200
10:31:24,003 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_632_, mkt_config0_.deploy_enterprise_id as deploy2_632_, mkt_config0_.enterprise_name as enterprise3_632_, mkt_config0_.mkt_branding_css as mkt4_632_, mkt_config0_.mkt_branding_icon as mkt5_632_, mkt_config0_.mkt_deploy_pw as mkt6_632_, mkt_config0_.mkt_deploy_user as mkt7_632_, mkt_config0_.mkt_theme_css as mkt8_632_, mkt_config0_.mkt_url as mkt9_632_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:31:24,004 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:31:24,004 INFO  ~  AbiquoUtils context set to :null
10:31:24,004 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:31:24,682 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:31:24,682 INFO  ~  CREATED VM : VirtualMachine [id=201, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_0f46a693-6b6d-42e6-bbea-81b9a3f3ee43, password=vmpassword, ram=128, uuid=0f46a693-6b6d-42e6-bbea-81b9a3f3ee43, vncAddress=null, vncPort=0]
10:31:24,718 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
10:31:24,718 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:31:24,718 INFO  ~  getVMDetais() params : vdc_id 156 vapp_id : 159 vm-id : 201
10:31:24,718 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_632_, mkt_config0_.deploy_enterprise_id as deploy2_632_, mkt_config0_.enterprise_name as enterprise3_632_, mkt_config0_.mkt_branding_css as mkt4_632_, mkt_config0_.mkt_branding_icon as mkt5_632_, mkt_config0_.mkt_deploy_pw as mkt6_632_, mkt_config0_.mkt_deploy_user as mkt7_632_, mkt_config0_.mkt_theme_css as mkt8_632_, mkt_config0_.mkt_url as mkt9_632_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:31:24,719 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:31:24,719 INFO  ~  AbiquoUtils context set to :null
10:31:24,719 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:33:30,382 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
10:33:30,383 ERROR ~ Table 'Deploy_Bundle' already exists
10:33:32,034 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
10:33:32,034 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
10:33:33,233 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
10:33:33,234 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
10:33:37,286 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:33:37,321 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:33:38,130 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:33:38,630 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id646_, offer0_.datacenter as datacenter646_, offer0_.defaultLeasePeriod as defaultL3_646_, offer0_.defaultNetworkType as defaultN4_646_, offer0_.defaultServiceLevel as defaultS5_646_, offer0_.hypervisorType as hypervis6_646_, offer0_.icon as icon646_, offer0_.iconName as iconName646_, offer0_.image as image646_, offer0_.longDescription as longDes10_646_, offer0_.name as name646_, offer0_.price as price646_, offer0_.serviceType as service13_646_, offer0_.shortDescription as shortDe14_646_, offer0_.state as state646_, offer0_.virtualAppliance as virtual16_646_, offer0_.virtualDatacenter as virtual17_646_, offer0_.virtualDatacenterName as virtual18_646_ from Offer offer0_ where offer0_.id=?
10:33:38,719 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:33:38,719 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id647_, offerpurch0_.expiration as expiration647_, offerpurch0_.idVirtualApplianceUser as idVirtua3_647_, offerpurch0_.leasePeriod as leasePer4_647_, offerpurch0_.serviceLevel as serviceL5_647_, offerpurch0_.start as start647_, offerpurch0_1_.user_id as user1_648_, offerpurch0_2_.offer_id as offer19_646_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:33:38,720 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:33:38,720 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:33:38,720 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id646_, offer0_.datacenter as datacenter646_, offer0_.defaultLeasePeriod as defaultL3_646_, offer0_.defaultNetworkType as defaultN4_646_, offer0_.defaultServiceLevel as defaultS5_646_, offer0_.hypervisorType as hypervis6_646_, offer0_.icon as icon646_, offer0_.iconName as iconName646_, offer0_.image as image646_, offer0_.longDescription as longDes10_646_, offer0_.name as name646_, offer0_.price as price646_, offer0_.serviceType as service13_646_, offer0_.shortDescription as shortDe14_646_, offer0_.state as state646_, offer0_.virtualAppliance as virtual16_646_, offer0_.virtualDatacenter as virtual17_646_, offer0_.virtualDatacenterName as virtual18_646_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:33:38,721 INFO  ~ resultSet1 size :0
10:33:38,721 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:33:38,722 INFO  ~  resultSet1 size []
10:33:38,722 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:35:14,387 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:35:14,418 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:35:14,928 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:35:15,229 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id646_, offer0_.datacenter as datacenter646_, offer0_.defaultLeasePeriod as defaultL3_646_, offer0_.defaultNetworkType as defaultN4_646_, offer0_.defaultServiceLevel as defaultS5_646_, offer0_.hypervisorType as hypervis6_646_, offer0_.icon as icon646_, offer0_.iconName as iconName646_, offer0_.image as image646_, offer0_.longDescription as longDes10_646_, offer0_.name as name646_, offer0_.price as price646_, offer0_.serviceType as service13_646_, offer0_.shortDescription as shortDe14_646_, offer0_.state as state646_, offer0_.virtualAppliance as virtual16_646_, offer0_.virtualDatacenter as virtual17_646_, offer0_.virtualDatacenterName as virtual18_646_ from Offer offer0_ where offer0_.id=?
10:35:15,332 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id646_, offer0_.datacenter as datacenter646_, offer0_.defaultLeasePeriod as defaultL3_646_, offer0_.defaultNetworkType as defaultN4_646_, offer0_.defaultServiceLevel as defaultS5_646_, offer0_.hypervisorType as hypervis6_646_, offer0_.icon as icon646_, offer0_.iconName as iconName646_, offer0_.image as image646_, offer0_.longDescription as longDes10_646_, offer0_.name as name646_, offer0_.price as price646_, offer0_.serviceType as service13_646_, offer0_.shortDescription as shortDe14_646_, offer0_.state as state646_, offer0_.virtualAppliance as virtual16_646_, offer0_.virtualDatacenter as virtual17_646_, offer0_.virtualDatacenterName as virtual18_646_ from Offer offer0_ where offer0_.id=?
10:35:15,391 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id646_, offer0_.datacenter as datacenter646_, offer0_.defaultLeasePeriod as defaultL3_646_, offer0_.defaultNetworkType as defaultN4_646_, offer0_.defaultServiceLevel as defaultS5_646_, offer0_.hypervisorType as hypervis6_646_, offer0_.icon as icon646_, offer0_.iconName as iconName646_, offer0_.image as image646_, offer0_.longDescription as longDes10_646_, offer0_.name as name646_, offer0_.price as price646_, offer0_.serviceType as service13_646_, offer0_.shortDescription as shortDe14_646_, offer0_.state as state646_, offer0_.virtualAppliance as virtual16_646_, offer0_.virtualDatacenter as virtual17_646_, offer0_.virtualDatacenterName as virtual18_646_ from Offer offer0_ where offer0_.id=?
10:35:15,440 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:35:15,440 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id647_, offerpurch0_.expiration as expiration647_, offerpurch0_.idVirtualApplianceUser as idVirtua3_647_, offerpurch0_.leasePeriod as leasePer4_647_, offerpurch0_.serviceLevel as serviceL5_647_, offerpurch0_.start as start647_, offerpurch0_1_.user_id as user1_648_, offerpurch0_2_.offer_id as offer19_646_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:35:15,441 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:35:15,441 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:35:15,441 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id646_, offer0_.datacenter as datacenter646_, offer0_.defaultLeasePeriod as defaultL3_646_, offer0_.defaultNetworkType as defaultN4_646_, offer0_.defaultServiceLevel as defaultS5_646_, offer0_.hypervisorType as hypervis6_646_, offer0_.icon as icon646_, offer0_.iconName as iconName646_, offer0_.image as image646_, offer0_.longDescription as longDes10_646_, offer0_.name as name646_, offer0_.price as price646_, offer0_.serviceType as service13_646_, offer0_.shortDescription as shortDe14_646_, offer0_.state as state646_, offer0_.virtualAppliance as virtual16_646_, offer0_.virtualDatacenter as virtual17_646_, offer0_.virtualDatacenterName as virtual18_646_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:35:15,441 INFO  ~ resultSet1 size :0
10:35:15,441 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:35:15,441 INFO  ~  resultSet1 size []
10:35:15,441 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:35:16,250 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
10:35:16,288 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:35:16,346 INFO  ~  virtualDC  : Bronze
10:35:16,478 INFO  ~  va  : Bronze
10:35:16,661 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
10:35:21,129 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id646_, offer0_.datacenter as datacenter646_, offer0_.defaultLeasePeriod as defaultL3_646_, offer0_.defaultNetworkType as defaultN4_646_, offer0_.defaultServiceLevel as defaultS5_646_, offer0_.hypervisorType as hypervis6_646_, offer0_.icon as icon646_, offer0_.iconName as iconName646_, offer0_.image as image646_, offer0_.longDescription as longDes10_646_, offer0_.name as name646_, offer0_.price as price646_, offer0_.serviceType as service13_646_, offer0_.shortDescription as shortDe14_646_, offer0_.state as state646_, offer0_.virtualAppliance as virtual16_646_, offer0_.virtualDatacenter as virtual17_646_, offer0_.virtualDatacenterName as virtual18_646_ from Offer offer0_ where offer0_.id=? limit ?
10:35:21,149 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
10:35:21,149 INFO  ~ Session user in addToServiceCatalog(): admin
10:35:21,149 INFO  ~  and  vdc 3  & va_id : 1
10:35:21,149 INFO  ~  lease period 100 years
10:35:21,193 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:35:21,775 INFO  ~  description : fffa
10:35:21,836 INFO  ~  description : fffa
10:35:21,869 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
10:35:21,871 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
10:35:21,872 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
10:35:21,873 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
10:35:21,874 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
10:35:21,874 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
10:35:21,878 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
10:35:21,999 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:35:22,240 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id646_, offer0_.datacenter as datacenter646_, offer0_.defaultLeasePeriod as defaultL3_646_, offer0_.defaultNetworkType as defaultN4_646_, offer0_.defaultServiceLevel as defaultS5_646_, offer0_.hypervisorType as hypervis6_646_, offer0_.icon as icon646_, offer0_.iconName as iconName646_, offer0_.image as image646_, offer0_.longDescription as longDes10_646_, offer0_.name as name646_, offer0_.price as price646_, offer0_.serviceType as service13_646_, offer0_.shortDescription as shortDe14_646_, offer0_.state as state646_, offer0_.virtualAppliance as virtual16_646_, offer0_.virtualDatacenter as virtual17_646_, offer0_.virtualDatacenterName as virtual18_646_ from Offer offer0_ where offer0_.id=?
10:35:22,242 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id646_, offer0_.datacenter as datacenter646_, offer0_.defaultLeasePeriod as defaultL3_646_, offer0_.defaultNetworkType as defaultN4_646_, offer0_.defaultServiceLevel as defaultS5_646_, offer0_.hypervisorType as hypervis6_646_, offer0_.icon as icon646_, offer0_.iconName as iconName646_, offer0_.image as image646_, offer0_.longDescription as longDes10_646_, offer0_.name as name646_, offer0_.price as price646_, offer0_.serviceType as service13_646_, offer0_.shortDescription as shortDe14_646_, offer0_.state as state646_, offer0_.virtualAppliance as virtual16_646_, offer0_.virtualDatacenter as virtual17_646_, offer0_.virtualDatacenterName as virtual18_646_ from Offer offer0_ where offer0_.id=?
10:35:22,322 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id646_, offer0_.datacenter as datacenter646_, offer0_.defaultLeasePeriod as defaultL3_646_, offer0_.defaultNetworkType as defaultN4_646_, offer0_.defaultServiceLevel as defaultS5_646_, offer0_.hypervisorType as hypervis6_646_, offer0_.icon as icon646_, offer0_.iconName as iconName646_, offer0_.image as image646_, offer0_.longDescription as longDes10_646_, offer0_.name as name646_, offer0_.price as price646_, offer0_.serviceType as service13_646_, offer0_.shortDescription as shortDe14_646_, offer0_.state as state646_, offer0_.virtualAppliance as virtual16_646_, offer0_.virtualDatacenter as virtual17_646_, offer0_.virtualDatacenterName as virtual18_646_ from Offer offer0_ where offer0_.id=?
10:35:22,415 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:35:22,415 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id647_, offerpurch0_.expiration as expiration647_, offerpurch0_.idVirtualApplianceUser as idVirtua3_647_, offerpurch0_.leasePeriod as leasePer4_647_, offerpurch0_.serviceLevel as serviceL5_647_, offerpurch0_.start as start647_, offerpurch0_1_.user_id as user1_648_, offerpurch0_2_.offer_id as offer19_646_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:35:22,416 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:35:22,416 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:35:22,416 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id646_, offer0_.datacenter as datacenter646_, offer0_.defaultLeasePeriod as defaultL3_646_, offer0_.defaultNetworkType as defaultN4_646_, offer0_.defaultServiceLevel as defaultS5_646_, offer0_.hypervisorType as hypervis6_646_, offer0_.icon as icon646_, offer0_.iconName as iconName646_, offer0_.image as image646_, offer0_.longDescription as longDes10_646_, offer0_.name as name646_, offer0_.price as price646_, offer0_.serviceType as service13_646_, offer0_.shortDescription as shortDe14_646_, offer0_.state as state646_, offer0_.virtualAppliance as virtual16_646_, offer0_.virtualDatacenter as virtual17_646_, offer0_.virtualDatacenterName as virtual18_646_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:35:22,416 INFO  ~ resultSet1 size :1
10:35:22,417 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:35:22,417 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@60dcc3d7 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
10:35:22,417 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:35:22,483 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:35:22,483 INFO  ~  OfferID for icon 1
10:35:22,483 DEBUG ~ /* load models.Offer */ select offer0_.id as id646_0_, offer0_.datacenter as datacenter646_0_, offer0_.defaultLeasePeriod as defaultL3_646_0_, offer0_.defaultNetworkType as defaultN4_646_0_, offer0_.defaultServiceLevel as defaultS5_646_0_, offer0_.hypervisorType as hypervis6_646_0_, offer0_.icon as icon646_0_, offer0_.iconName as iconName646_0_, offer0_.image as image646_0_, offer0_.longDescription as longDes10_646_0_, offer0_.name as name646_0_, offer0_.price as price646_0_, offer0_.serviceType as service13_646_0_, offer0_.shortDescription as shortDe14_646_0_, offer0_.state as state646_0_, offer0_.virtualAppliance as virtual16_646_0_, offer0_.virtualDatacenter as virtual17_646_0_, offer0_.virtualDatacenterName as virtual18_646_0_ from Offer offer0_ where offer0_.id=?
10:35:22,486 INFO  ~ ------------------------- EXITING displayIcon()---------
10:35:24,110 INFO  ~  -----INSIDE PRODUCER LISTVM()------
10:35:24,143 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:35:24,498 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:35:24,498 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id646_, offer0_.datacenter as datacenter646_, offer0_.defaultLeasePeriod as defaultL3_646_, offer0_.defaultNetworkType as defaultN4_646_, offer0_.defaultServiceLevel as defaultS5_646_, offer0_.hypervisorType as hypervis6_646_, offer0_.icon as icon646_, offer0_.iconName as iconName646_, offer0_.image as image646_, offer0_.longDescription as longDes10_646_, offer0_.name as name646_, offer0_.price as price646_, offer0_.serviceType as service13_646_, offer0_.shortDescription as shortDe14_646_, offer0_.state as state646_, offer0_.virtualAppliance as virtual16_646_, offer0_.virtualDatacenter as virtual17_646_, offer0_.virtualDatacenterName as virtual18_646_ from Offer offer0_ where offer0_.id=?
10:35:24,500 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:35:24,683 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:35:24,683 INFO  ~  OfferID for icon 1
10:35:24,683 DEBUG ~ /* load models.Offer */ select offer0_.id as id646_0_, offer0_.datacenter as datacenter646_0_, offer0_.defaultLeasePeriod as defaultL3_646_0_, offer0_.defaultNetworkType as defaultN4_646_0_, offer0_.defaultServiceLevel as defaultS5_646_0_, offer0_.hypervisorType as hypervis6_646_0_, offer0_.icon as icon646_0_, offer0_.iconName as iconName646_0_, offer0_.image as image646_0_, offer0_.longDescription as longDes10_646_0_, offer0_.name as name646_0_, offer0_.price as price646_0_, offer0_.serviceType as service13_646_0_, offer0_.shortDescription as shortDe14_646_0_, offer0_.state as state646_0_, offer0_.virtualAppliance as virtual16_646_0_, offer0_.virtualDatacenter as virtual17_646_0_, offer0_.virtualDatacenterName as virtual18_646_0_ from Offer offer0_ where offer0_.id=?
10:35:24,684 INFO  ~ ------------------------- EXITING displayIcon()---------
10:35:24,689 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
10:35:24,689 INFO  ~ Session user in vmDetails(): admin
10:35:24,970 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
10:35:24,970 INFO  ~ Session user in vmDetails(): admin
10:35:33,246 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
10:35:33,246 INFO  ~ Enterprie ID for current User 3
10:35:33,246 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id646_, offer0_.datacenter as datacenter646_, offer0_.defaultLeasePeriod as defaultL3_646_, offer0_.defaultNetworkType as defaultN4_646_, offer0_.defaultServiceLevel as defaultS5_646_, offer0_.hypervisorType as hypervis6_646_, offer0_.icon as icon646_, offer0_.iconName as iconName646_, offer0_.image as image646_, offer0_.longDescription as longDes10_646_, offer0_.name as name646_, offer0_.price as price646_, offer0_.serviceType as service13_646_, offer0_.shortDescription as shortDe14_646_, offer0_.state as state646_, offer0_.virtualAppliance as virtual16_646_, offer0_.virtualDatacenter as virtual17_646_, offer0_.virtualDatacenterName as virtual18_646_ from Offer offer0_ group by offer0_.defaultServiceLevel
10:35:33,248 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
10:35:33,378 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
10:35:33,379 INFO  ~ Enterprie ID for current User 3
10:35:33,379 INFO  ~ CURRENT USER EMAIL ID: userent
10:35:33,379 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id646_, offer0_.datacenter as datacenter646_, offer0_.defaultLeasePeriod as defaultL3_646_, offer0_.defaultNetworkType as defaultN4_646_, offer0_.defaultServiceLevel as defaultS5_646_, offer0_.hypervisorType as hypervis6_646_, offer0_.icon as icon646_, offer0_.iconName as iconName646_, offer0_.image as image646_, offer0_.longDescription as longDes10_646_, offer0_.name as name646_, offer0_.price as price646_, offer0_.serviceType as service13_646_, offer0_.shortDescription as shortDe14_646_, offer0_.state as state646_, offer0_.virtualAppliance as virtual16_646_, offer0_.virtualDatacenter as virtual17_646_, offer0_.virtualDatacenterName as virtual18_646_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:35:33,380 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:35:33,380 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id647_, offerpurch0_.expiration as expiration647_, offerpurch0_.idVirtualApplianceUser as idVirtua3_647_, offerpurch0_.leasePeriod as leasePer4_647_, offerpurch0_.serviceLevel as serviceL5_647_, offerpurch0_.start as start647_, offerpurch0_1_.user_id as user1_648_, offerpurch0_2_.offer_id as offer19_646_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:35:33,380 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:35:33,380 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:35:33,406 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:35:33,406 INFO  ~  OfferID for icon 1
10:35:33,407 DEBUG ~ /* load models.Offer */ select offer0_.id as id646_0_, offer0_.datacenter as datacenter646_0_, offer0_.defaultLeasePeriod as defaultL3_646_0_, offer0_.defaultNetworkType as defaultN4_646_0_, offer0_.defaultServiceLevel as defaultS5_646_0_, offer0_.hypervisorType as hypervis6_646_0_, offer0_.icon as icon646_0_, offer0_.iconName as iconName646_0_, offer0_.image as image646_0_, offer0_.longDescription as longDes10_646_0_, offer0_.name as name646_0_, offer0_.price as price646_0_, offer0_.serviceType as service13_646_0_, offer0_.shortDescription as shortDe14_646_0_, offer0_.state as state646_0_, offer0_.virtualAppliance as virtual16_646_0_, offer0_.virtualDatacenter as virtual17_646_0_, offer0_.virtualDatacenterName as virtual18_646_0_ from Offer offer0_ where offer0_.id=?
10:35:33,408 INFO  ~ ------------------------- EXITING displayIcon()---------
10:35:37,907 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
10:35:37,908 INFO  ~ CURRENT USER EMAIL ID: userent
10:35:37,908 DEBUG ~ /* load models.Offer */ select offer0_.id as id646_0_, offer0_.datacenter as datacenter646_0_, offer0_.defaultLeasePeriod as defaultL3_646_0_, offer0_.defaultNetworkType as defaultN4_646_0_, offer0_.defaultServiceLevel as defaultS5_646_0_, offer0_.hypervisorType as hypervis6_646_0_, offer0_.icon as icon646_0_, offer0_.iconName as iconName646_0_, offer0_.image as image646_0_, offer0_.longDescription as longDes10_646_0_, offer0_.name as name646_0_, offer0_.price as price646_0_, offer0_.serviceType as service13_646_0_, offer0_.shortDescription as shortDe14_646_0_, offer0_.state as state646_0_, offer0_.virtualAppliance as virtual16_646_0_, offer0_.virtualDatacenter as virtual17_646_0_, offer0_.virtualDatacenterName as virtual18_646_0_ from Offer offer0_ where offer0_.id=?
10:35:37,909 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
10:35:37,918 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_646_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_654_0_, nodes1_.cpu as cpu654_0_, nodes1_.description as descript3_654_0_, nodes1_.hd as hd654_0_, nodes1_.icon as icon654_0_, nodes1_.idImage as idImage654_0_, nodes1_.node_name as node7_654_0_, nodes1_.ram as ram654_0_, nodes1_1_.offer_id as offer1_655_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:35:55,141 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:35:55,142 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
10:35:55,180 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:35:55,273 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
10:35:55,830 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:35:55,830 INFO  ~  vdcname : POR-userent-2012-09-10 10:35:55.83
10:35:55,923 INFO  ~  VDC to deploy: 
10:35:55,923 INFO  ~  Hypervisor to deploy: 
10:35:55,997 INFO  ~  Datacenter to deploy: 
10:35:55,997 INFO  ~  Network Built
10:35:55,997 INFO  ~ VDC built  
10:35:57,489 INFO  ~  1. VDC CREATED 
10:35:57,631 INFO  ~  2. VAPP CREATED 
10:35:57,631 INFO  ~ --------------------
10:35:59,134 DEBUG ~ /* load models.Offer */ select offer0_.id as id646_0_, offer0_.datacenter as datacenter646_0_, offer0_.defaultLeasePeriod as defaultL3_646_0_, offer0_.defaultNetworkType as defaultN4_646_0_, offer0_.defaultServiceLevel as defaultS5_646_0_, offer0_.hypervisorType as hypervis6_646_0_, offer0_.icon as icon646_0_, offer0_.iconName as iconName646_0_, offer0_.image as image646_0_, offer0_.longDescription as longDes10_646_0_, offer0_.name as name646_0_, offer0_.price as price646_0_, offer0_.serviceType as service13_646_0_, offer0_.shortDescription as shortDe14_646_0_, offer0_.state as state646_0_, offer0_.virtualAppliance as virtual16_646_0_, offer0_.virtualDatacenter as virtual17_646_0_, offer0_.virtualDatacenterName as virtual18_646_0_ from Offer offer0_ where offer0_.id=?
10:36:00,150 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:36:00,150 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id646_, offer0_.datacenter as datacenter646_, offer0_.defaultLeasePeriod as defaultL3_646_, offer0_.defaultNetworkType as defaultN4_646_, offer0_.defaultServiceLevel as defaultS5_646_, offer0_.hypervisorType as hypervis6_646_, offer0_.icon as icon646_, offer0_.iconName as iconName646_, offer0_.image as image646_, offer0_.longDescription as longDes10_646_, offer0_.name as name646_, offer0_.price as price646_, offer0_.serviceType as service13_646_, offer0_.shortDescription as shortDe14_646_, offer0_.state as state646_, offer0_.virtualAppliance as virtual16_646_, offer0_.virtualDatacenter as virtual17_646_, offer0_.virtualDatacenterName as virtual18_646_ from Offer offer0_ where offer0_.id=?
10:36:00,151 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:36:00,151 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_646_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_654_0_, nodes1_.cpu as cpu654_0_, nodes1_.description as descript3_654_0_, nodes1_.hd as hd654_0_, nodes1_.icon as icon654_0_, nodes1_.idImage as idImage654_0_, nodes1_.node_name as node7_654_0_, nodes1_.ram as ram654_0_, nodes1_1_.offer_id as offer1_655_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:36:00,374 INFO  ~  3. VM CREATED
10:36:02,086 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_654_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_652_0_, nodes_reso1_.resourceType as resource2_652_0_, nodes_reso1_.sequence as sequence652_0_, nodes_reso1_.value as value652_0_, nodes_reso1_1_.id_node as id1_653_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:36:02,200 INFO  ~  4. HARDDISKS ATTACHED 
10:36:02,201 INFO  ~  Handler created :
10:36:02,660 INFO  ~ STARTING MONITORING ......
10:36:02,925 INFO  ~  3. VM CREATED
10:36:04,806 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_654_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_652_0_, nodes_reso1_.resourceType as resource2_652_0_, nodes_reso1_.sequence as sequence652_0_, nodes_reso1_.value as value652_0_, nodes_reso1_1_.id_node as id1_653_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:36:04,947 INFO  ~  4. HARDDISKS ATTACHED 
10:36:04,947 INFO  ~  Handler created :
10:36:05,318 INFO  ~ STARTING MONITORING ......
10:36:05,318 INFO  ~ SAVING DEPLOY INFORMATION ......
10:36:20,832 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
10:36:20,849 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, leasePeriod, serviceLevel, start) values (?, ?, ?, ?, ?)
10:36:20,852 DEBUG ~ /* insert models.OfferPurchased */ insert into User (user_id, id) values (?, ?)
10:36:20,854 DEBUG ~ /* insert models.OfferPurchased */ insert into Offer (offer_id, id) values (?, ?)
10:36:20,857 ERROR ~ Duplicate entry '1' for key 'PRIMARY'
10:36:25,782 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:36:25,782 INFO  ~  CREATED VM : VirtualMachine [id=203, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_d5452d2e-06e4-4ddc-a3fe-04a0ee3cf9d2, password=vmpassword, ram=128, uuid=d5452d2e-06e4-4ddc-a3fe-04a0ee3cf9d2, vncAddress=null, vncPort=0]
10:36:25,839 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
10:36:25,839 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:36:25,839 INFO  ~  getVMDetais() params : vdc_id 157 vapp_id : 160 vm-id : 203
10:36:25,840 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_656_, mkt_config0_.deploy_enterprise_id as deploy2_656_, mkt_config0_.enterprise_name as enterprise3_656_, mkt_config0_.mkt_branding_css as mkt4_656_, mkt_config0_.mkt_branding_icon as mkt5_656_, mkt_config0_.mkt_deploy_pw as mkt6_656_, mkt_config0_.mkt_deploy_user as mkt7_656_, mkt_config0_.mkt_theme_css as mkt8_656_, mkt_config0_.mkt_url as mkt9_656_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:36:25,840 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:36:25,840 INFO  ~  AbiquoUtils context set to :null
10:36:25,841 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:36:28,182 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:36:28,182 INFO  ~  CREATED VM : VirtualMachine [id=202, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_93051428-f643-4d70-961f-1b9cf3174f51, password=vmpassword, ram=64, uuid=93051428-f643-4d70-961f-1b9cf3174f51, vncAddress=null, vncPort=0]
10:36:28,237 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
10:36:28,237 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:36:28,237 INFO  ~  getVMDetais() params : vdc_id 157 vapp_id : 160 vm-id : 202
10:36:28,238 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_656_, mkt_config0_.deploy_enterprise_id as deploy2_656_, mkt_config0_.enterprise_name as enterprise3_656_, mkt_config0_.mkt_branding_css as mkt4_656_, mkt_config0_.mkt_branding_icon as mkt5_656_, mkt_config0_.mkt_deploy_pw as mkt6_656_, mkt_config0_.mkt_deploy_user as mkt7_656_, mkt_config0_.mkt_theme_css as mkt8_656_, mkt_config0_.mkt_url as mkt9_656_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:36:28,238 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:36:28,238 INFO  ~  AbiquoUtils context set to :null
10:36:28,239 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:39:20,662 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not insert: [models.OfferPurchased]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:466)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.ConstraintViolationException: could not insert: [models.OfferPurchased]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:96)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2454)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2854)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '1' for key 'PRIMARY'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1039)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2437)
	... 23 more
10:40:36,396 ERROR ~ 

@6bj6k07fg
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): No identifier specified for entity: models.Offer

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: No identifier specified for entity: models.Offer
	at org.hibernate.cfg.InheritanceState.determineDefaultAccessType(InheritanceState.java:268)
	at org.hibernate.cfg.InheritanceState.getElementsToProcess(InheritanceState.java:223)
	at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:686)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3977)
	at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3931)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1368)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
10:41:05,438 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
10:41:05,438 ERROR ~ Table 'Deploy_Bundle' already exists
10:41:07,086 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
10:41:07,086 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
10:41:08,294 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
10:41:08,294 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
10:41:12,692 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:41:12,723 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:41:13,122 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:41:13,370 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id672_, offer0_.datacenter as datacenter672_, offer0_.defaultLeasePeriod as defaultL3_672_, offer0_.defaultNetworkType as defaultN4_672_, offer0_.defaultServiceLevel as defaultS5_672_, offer0_.hypervisorType as hypervis6_672_, offer0_.icon as icon672_, offer0_.iconName as iconName672_, offer0_.image as image672_, offer0_.longDescription as longDes10_672_, offer0_.name as name672_, offer0_.price as price672_, offer0_.serviceType as service13_672_, offer0_.shortDescription as shortDe14_672_, offer0_.state as state672_, offer0_.virtualAppliance as virtual16_672_, offer0_.virtualDatacenter as virtual17_672_, offer0_.virtualDatacenterName as virtual18_672_ from Offer offer0_ where offer0_.id=?
10:41:13,440 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id672_, offer0_.datacenter as datacenter672_, offer0_.defaultLeasePeriod as defaultL3_672_, offer0_.defaultNetworkType as defaultN4_672_, offer0_.defaultServiceLevel as defaultS5_672_, offer0_.hypervisorType as hypervis6_672_, offer0_.icon as icon672_, offer0_.iconName as iconName672_, offer0_.image as image672_, offer0_.longDescription as longDes10_672_, offer0_.name as name672_, offer0_.price as price672_, offer0_.serviceType as service13_672_, offer0_.shortDescription as shortDe14_672_, offer0_.state as state672_, offer0_.virtualAppliance as virtual16_672_, offer0_.virtualDatacenter as virtual17_672_, offer0_.virtualDatacenterName as virtual18_672_ from Offer offer0_ where offer0_.id=?
10:41:13,491 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id672_, offer0_.datacenter as datacenter672_, offer0_.defaultLeasePeriod as defaultL3_672_, offer0_.defaultNetworkType as defaultN4_672_, offer0_.defaultServiceLevel as defaultS5_672_, offer0_.hypervisorType as hypervis6_672_, offer0_.icon as icon672_, offer0_.iconName as iconName672_, offer0_.image as image672_, offer0_.longDescription as longDes10_672_, offer0_.name as name672_, offer0_.price as price672_, offer0_.serviceType as service13_672_, offer0_.shortDescription as shortDe14_672_, offer0_.state as state672_, offer0_.virtualAppliance as virtual16_672_, offer0_.virtualDatacenter as virtual17_672_, offer0_.virtualDatacenterName as virtual18_672_ from Offer offer0_ where offer0_.id=?
10:41:13,558 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:41:13,558 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id673_, offerpurch0_.expiration as expiration673_, offerpurch0_.idVirtualApplianceUser as idVirtua3_673_, offerpurch0_.leasePeriod as leasePer4_673_, offerpurch0_.serviceLevel as serviceL5_673_, offerpurch0_.start as start673_, offerpurch0_1_.user_id as user1_674_, offerpurch0_2_.offer_id as offer19_672_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:41:13,559 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:41:13,559 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:41:13,559 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id672_, offer0_.datacenter as datacenter672_, offer0_.defaultLeasePeriod as defaultL3_672_, offer0_.defaultNetworkType as defaultN4_672_, offer0_.defaultServiceLevel as defaultS5_672_, offer0_.hypervisorType as hypervis6_672_, offer0_.icon as icon672_, offer0_.iconName as iconName672_, offer0_.image as image672_, offer0_.longDescription as longDes10_672_, offer0_.name as name672_, offer0_.price as price672_, offer0_.serviceType as service13_672_, offer0_.shortDescription as shortDe14_672_, offer0_.state as state672_, offer0_.virtualAppliance as virtual16_672_, offer0_.virtualDatacenter as virtual17_672_, offer0_.virtualDatacenterName as virtual18_672_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:41:13,560 INFO  ~ resultSet1 size :0
10:41:13,560 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:41:13,560 INFO  ~  resultSet1 size []
10:41:13,560 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:41:13,668 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:41:13,838 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id672_, offer0_.datacenter as datacenter672_, offer0_.defaultLeasePeriod as defaultL3_672_, offer0_.defaultNetworkType as defaultN4_672_, offer0_.defaultServiceLevel as defaultS5_672_, offer0_.hypervisorType as hypervis6_672_, offer0_.icon as icon672_, offer0_.iconName as iconName672_, offer0_.image as image672_, offer0_.longDescription as longDes10_672_, offer0_.name as name672_, offer0_.price as price672_, offer0_.serviceType as service13_672_, offer0_.shortDescription as shortDe14_672_, offer0_.state as state672_, offer0_.virtualAppliance as virtual16_672_, offer0_.virtualDatacenter as virtual17_672_, offer0_.virtualDatacenterName as virtual18_672_ from Offer offer0_ where offer0_.id=?
10:41:13,890 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:41:13,891 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id673_, offerpurch0_.expiration as expiration673_, offerpurch0_.idVirtualApplianceUser as idVirtua3_673_, offerpurch0_.leasePeriod as leasePer4_673_, offerpurch0_.serviceLevel as serviceL5_673_, offerpurch0_.start as start673_, offerpurch0_1_.user_id as user1_674_, offerpurch0_2_.offer_id as offer19_672_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:41:13,891 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:41:13,891 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:41:13,892 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id672_, offer0_.datacenter as datacenter672_, offer0_.defaultLeasePeriod as defaultL3_672_, offer0_.defaultNetworkType as defaultN4_672_, offer0_.defaultServiceLevel as defaultS5_672_, offer0_.hypervisorType as hypervis6_672_, offer0_.icon as icon672_, offer0_.iconName as iconName672_, offer0_.image as image672_, offer0_.longDescription as longDes10_672_, offer0_.name as name672_, offer0_.price as price672_, offer0_.serviceType as service13_672_, offer0_.shortDescription as shortDe14_672_, offer0_.state as state672_, offer0_.virtualAppliance as virtual16_672_, offer0_.virtualDatacenter as virtual17_672_, offer0_.virtualDatacenterName as virtual18_672_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:41:13,892 INFO  ~ resultSet1 size :0
10:41:13,892 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:41:13,892 INFO  ~  resultSet1 size []
10:41:13,892 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:41:14,542 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
10:41:14,583 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:41:14,652 INFO  ~  virtualDC  : Diamond
10:41:14,746 INFO  ~  va  : Diamond
10:41:14,882 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
10:41:18,470 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id672_, offer0_.datacenter as datacenter672_, offer0_.defaultLeasePeriod as defaultL3_672_, offer0_.defaultNetworkType as defaultN4_672_, offer0_.defaultServiceLevel as defaultS5_672_, offer0_.hypervisorType as hypervis6_672_, offer0_.icon as icon672_, offer0_.iconName as iconName672_, offer0_.image as image672_, offer0_.longDescription as longDes10_672_, offer0_.name as name672_, offer0_.price as price672_, offer0_.serviceType as service13_672_, offer0_.shortDescription as shortDe14_672_, offer0_.state as state672_, offer0_.virtualAppliance as virtual16_672_, offer0_.virtualDatacenter as virtual17_672_, offer0_.virtualDatacenterName as virtual18_672_ from Offer offer0_ where offer0_.id=? limit ?
10:41:18,478 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
10:41:18,478 INFO  ~ Session user in addToServiceCatalog(): admin
10:41:18,478 INFO  ~  and  vdc 4  & va_id : 4
10:41:18,478 INFO  ~  lease period 100 years
10:41:18,515 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:41:18,970 INFO  ~  description : afsdaf
10:41:19,000 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
10:41:19,002 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
10:41:19,003 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
10:41:19,004 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
10:41:19,006 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
10:41:19,110 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:41:19,287 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id672_, offer0_.datacenter as datacenter672_, offer0_.defaultLeasePeriod as defaultL3_672_, offer0_.defaultNetworkType as defaultN4_672_, offer0_.defaultServiceLevel as defaultS5_672_, offer0_.hypervisorType as hypervis6_672_, offer0_.icon as icon672_, offer0_.iconName as iconName672_, offer0_.image as image672_, offer0_.longDescription as longDes10_672_, offer0_.name as name672_, offer0_.price as price672_, offer0_.serviceType as service13_672_, offer0_.shortDescription as shortDe14_672_, offer0_.state as state672_, offer0_.virtualAppliance as virtual16_672_, offer0_.virtualDatacenter as virtual17_672_, offer0_.virtualDatacenterName as virtual18_672_ from Offer offer0_ where offer0_.id=?
10:41:19,289 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:41:19,289 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id673_, offerpurch0_.expiration as expiration673_, offerpurch0_.idVirtualApplianceUser as idVirtua3_673_, offerpurch0_.leasePeriod as leasePer4_673_, offerpurch0_.serviceLevel as serviceL5_673_, offerpurch0_.start as start673_, offerpurch0_1_.user_id as user1_674_, offerpurch0_2_.offer_id as offer19_672_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:41:19,290 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:41:19,290 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:41:19,290 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id672_, offer0_.datacenter as datacenter672_, offer0_.defaultLeasePeriod as defaultL3_672_, offer0_.defaultNetworkType as defaultN4_672_, offer0_.defaultServiceLevel as defaultS5_672_, offer0_.hypervisorType as hypervis6_672_, offer0_.icon as icon672_, offer0_.iconName as iconName672_, offer0_.image as image672_, offer0_.longDescription as longDes10_672_, offer0_.name as name672_, offer0_.price as price672_, offer0_.serviceType as service13_672_, offer0_.shortDescription as shortDe14_672_, offer0_.state as state672_, offer0_.virtualAppliance as virtual16_672_, offer0_.virtualDatacenter as virtual17_672_, offer0_.virtualDatacenterName as virtual18_672_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:41:19,291 INFO  ~ resultSet1 size :1
10:41:19,291 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:41:19,291 INFO  ~  resultSet1 size [sc_offer [ID :4, Name : diamonderver, Icon: play.db.jpa.Blob@1b5d6703 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
10:41:19,291 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:41:19,321 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:41:19,321 INFO  ~  OfferID for icon 4
10:41:19,321 DEBUG ~ /* load models.Offer */ select offer0_.id as id672_0_, offer0_.datacenter as datacenter672_0_, offer0_.defaultLeasePeriod as defaultL3_672_0_, offer0_.defaultNetworkType as defaultN4_672_0_, offer0_.defaultServiceLevel as defaultS5_672_0_, offer0_.hypervisorType as hypervis6_672_0_, offer0_.icon as icon672_0_, offer0_.iconName as iconName672_0_, offer0_.image as image672_0_, offer0_.longDescription as longDes10_672_0_, offer0_.name as name672_0_, offer0_.price as price672_0_, offer0_.serviceType as service13_672_0_, offer0_.shortDescription as shortDe14_672_0_, offer0_.state as state672_0_, offer0_.virtualAppliance as virtual16_672_0_, offer0_.virtualDatacenter as virtual17_672_0_, offer0_.virtualDatacenterName as virtual18_672_0_ from Offer offer0_ where offer0_.id=?
10:41:19,323 INFO  ~ ------------------------- EXITING displayIcon()---------
10:41:30,144 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:41:30,190 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:41:30,319 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:41:30,335 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
10:41:30,335 INFO  ~ Enterprie ID for current User 3
10:41:30,335 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id672_, offer0_.datacenter as datacenter672_, offer0_.defaultLeasePeriod as defaultL3_672_, offer0_.defaultNetworkType as defaultN4_672_, offer0_.defaultServiceLevel as defaultS5_672_, offer0_.hypervisorType as hypervis6_672_, offer0_.icon as icon672_, offer0_.iconName as iconName672_, offer0_.image as image672_, offer0_.longDescription as longDes10_672_, offer0_.name as name672_, offer0_.price as price672_, offer0_.serviceType as service13_672_, offer0_.shortDescription as shortDe14_672_, offer0_.state as state672_, offer0_.virtualAppliance as virtual16_672_, offer0_.virtualDatacenter as virtual17_672_, offer0_.virtualDatacenterName as virtual18_672_ from Offer offer0_ group by offer0_.defaultServiceLevel
10:41:30,337 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
10:41:30,472 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
10:41:30,472 INFO  ~ Enterprie ID for current User 3
10:41:30,472 INFO  ~ CURRENT USER EMAIL ID: userent
10:41:30,473 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id672_, offer0_.datacenter as datacenter672_, offer0_.defaultLeasePeriod as defaultL3_672_, offer0_.defaultNetworkType as defaultN4_672_, offer0_.defaultServiceLevel as defaultS5_672_, offer0_.hypervisorType as hypervis6_672_, offer0_.icon as icon672_, offer0_.iconName as iconName672_, offer0_.image as image672_, offer0_.longDescription as longDes10_672_, offer0_.name as name672_, offer0_.price as price672_, offer0_.serviceType as service13_672_, offer0_.shortDescription as shortDe14_672_, offer0_.state as state672_, offer0_.virtualAppliance as virtual16_672_, offer0_.virtualDatacenter as virtual17_672_, offer0_.virtualDatacenterName as virtual18_672_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:41:30,474 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:41:30,474 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id673_, offerpurch0_.expiration as expiration673_, offerpurch0_.idVirtualApplianceUser as idVirtua3_673_, offerpurch0_.leasePeriod as leasePer4_673_, offerpurch0_.serviceLevel as serviceL5_673_, offerpurch0_.start as start673_, offerpurch0_1_.user_id as user1_674_, offerpurch0_2_.offer_id as offer19_672_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
10:41:30,474 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:41:30,474 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:41:30,551 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:41:30,551 INFO  ~  OfferID for icon 4
10:41:30,551 DEBUG ~ /* load models.Offer */ select offer0_.id as id672_0_, offer0_.datacenter as datacenter672_0_, offer0_.defaultLeasePeriod as defaultL3_672_0_, offer0_.defaultNetworkType as defaultN4_672_0_, offer0_.defaultServiceLevel as defaultS5_672_0_, offer0_.hypervisorType as hypervis6_672_0_, offer0_.icon as icon672_0_, offer0_.iconName as iconName672_0_, offer0_.image as image672_0_, offer0_.longDescription as longDes10_672_0_, offer0_.name as name672_0_, offer0_.price as price672_0_, offer0_.serviceType as service13_672_0_, offer0_.shortDescription as shortDe14_672_0_, offer0_.state as state672_0_, offer0_.virtualAppliance as virtual16_672_0_, offer0_.virtualDatacenter as virtual17_672_0_, offer0_.virtualDatacenterName as virtual18_672_0_ from Offer offer0_ where offer0_.id=?
10:41:30,552 INFO  ~ ------------------------- EXITING displayIcon()---------
10:41:31,814 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
10:41:31,814 INFO  ~ CURRENT USER EMAIL ID: userent
10:41:31,814 DEBUG ~ /* load models.Offer */ select offer0_.id as id672_0_, offer0_.datacenter as datacenter672_0_, offer0_.defaultLeasePeriod as defaultL3_672_0_, offer0_.defaultNetworkType as defaultN4_672_0_, offer0_.defaultServiceLevel as defaultS5_672_0_, offer0_.hypervisorType as hypervis6_672_0_, offer0_.icon as icon672_0_, offer0_.iconName as iconName672_0_, offer0_.image as image672_0_, offer0_.longDescription as longDes10_672_0_, offer0_.name as name672_0_, offer0_.price as price672_0_, offer0_.serviceType as service13_672_0_, offer0_.shortDescription as shortDe14_672_0_, offer0_.state as state672_0_, offer0_.virtualAppliance as virtual16_672_0_, offer0_.virtualDatacenter as virtual17_672_0_, offer0_.virtualDatacenterName as virtual18_672_0_ from Offer offer0_ where offer0_.id=?
10:41:31,816 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
10:41:31,827 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_672_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_680_0_, nodes1_.cpu as cpu680_0_, nodes1_.description as descript3_680_0_, nodes1_.hd as hd680_0_, nodes1_.icon as icon680_0_, nodes1_.idImage as idImage680_0_, nodes1_.node_name as node7_680_0_, nodes1_.ram as ram680_0_, nodes1_1_.offer_id as offer1_681_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:41:44,779 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:41:44,779 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 4, INTEGER SC_OFFER_ID :: 4 , String va_param:: diamonderver)
10:41:44,819 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:41:44,951 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
10:41:45,579 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:41:45,579 INFO  ~  vdcname : POR-userent-2012-09-10 10:41:45.579
10:41:45,679 INFO  ~  VDC to deploy: 
10:41:45,679 INFO  ~  Hypervisor to deploy: 
10:41:45,747 INFO  ~  Datacenter to deploy: 
10:41:45,747 INFO  ~  Network Built
10:41:45,747 INFO  ~ VDC built  
10:41:47,292 INFO  ~  1. VDC CREATED 
10:41:47,424 INFO  ~  2. VAPP CREATED 
10:41:47,425 INFO  ~ --------------------
10:41:48,363 DEBUG ~ /* load models.Offer */ select offer0_.id as id672_0_, offer0_.datacenter as datacenter672_0_, offer0_.defaultLeasePeriod as defaultL3_672_0_, offer0_.defaultNetworkType as defaultN4_672_0_, offer0_.defaultServiceLevel as defaultS5_672_0_, offer0_.hypervisorType as hypervis6_672_0_, offer0_.icon as icon672_0_, offer0_.iconName as iconName672_0_, offer0_.image as image672_0_, offer0_.longDescription as longDes10_672_0_, offer0_.name as name672_0_, offer0_.price as price672_0_, offer0_.serviceType as service13_672_0_, offer0_.shortDescription as shortDe14_672_0_, offer0_.state as state672_0_, offer0_.virtualAppliance as virtual16_672_0_, offer0_.virtualDatacenter as virtual17_672_0_, offer0_.virtualDatacenterName as virtual18_672_0_ from Offer offer0_ where offer0_.id=?
10:41:49,675 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:41:49,676 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id672_, offer0_.datacenter as datacenter672_, offer0_.defaultLeasePeriod as defaultL3_672_, offer0_.defaultNetworkType as defaultN4_672_, offer0_.defaultServiceLevel as defaultS5_672_, offer0_.hypervisorType as hypervis6_672_, offer0_.icon as icon672_, offer0_.iconName as iconName672_, offer0_.image as image672_, offer0_.longDescription as longDes10_672_, offer0_.name as name672_, offer0_.price as price672_, offer0_.serviceType as service13_672_, offer0_.shortDescription as shortDe14_672_, offer0_.state as state672_, offer0_.virtualAppliance as virtual16_672_, offer0_.virtualDatacenter as virtual17_672_, offer0_.virtualDatacenterName as virtual18_672_ from Offer offer0_ where offer0_.id=?
10:41:49,677 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:41:49,677 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_672_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_680_0_, nodes1_.cpu as cpu680_0_, nodes1_.description as descript3_680_0_, nodes1_.hd as hd680_0_, nodes1_.icon as icon680_0_, nodes1_.idImage as idImage680_0_, nodes1_.node_name as node7_680_0_, nodes1_.ram as ram680_0_, nodes1_1_.offer_id as offer1_681_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:41:49,898 INFO  ~  3. VM CREATED
10:41:51,604 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_680_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_678_0_, nodes_reso1_.resourceType as resource2_678_0_, nodes_reso1_.sequence as sequence678_0_, nodes_reso1_.value as value678_0_, nodes_reso1_1_.id_node as id1_679_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:41:51,701 INFO  ~  4. HARDDISKS ATTACHED 
10:41:51,702 INFO  ~  Handler created :
10:41:52,123 INFO  ~ STARTING MONITORING ......
10:41:52,124 INFO  ~ SAVING DEPLOY INFORMATION ......
10:42:01,397 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
10:42:01,422 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, leasePeriod, serviceLevel, start) values (?, ?, ?, ?, ?)
10:42:01,426 DEBUG ~ /* insert models.OfferPurchased */ insert into User (user_id, id) values (?, ?)
10:42:01,428 DEBUG ~ /* insert models.OfferPurchased */ insert into Offer (offer_id, id) values (?, ?)
10:42:01,446 DEBUG ~ /* insert models.Deploy_Bundle */ insert into Deploy_Bundle (deploy_datacenter, deploy_hypervisorType, deploy_network, offerPurchased_id, vapp_id, vapp_name, vdc_name) values (?, ?, ?, ?, ?, ?, ?)
10:42:01,451 ERROR ~ Unknown column 'offerPurchased_id' in 'field list'
10:42:07,493 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:42:07,494 INFO  ~  CREATED VM : VirtualMachine [id=204, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_e562e362-b1ce-4569-a737-f518edc0b1aa, password=vmpassword, ram=64, uuid=e562e362-b1ce-4569-a737-f518edc0b1aa, vncAddress=null, vncPort=0]
10:42:07,553 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
10:42:07,553 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:42:07,553 INFO  ~  getVMDetais() params : vdc_id 158 vapp_id : 161 vm-id : 204
10:42:07,554 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_682_, mkt_config0_.deploy_enterprise_id as deploy2_682_, mkt_config0_.enterprise_name as enterprise3_682_, mkt_config0_.mkt_branding_css as mkt4_682_, mkt_config0_.mkt_branding_icon as mkt5_682_, mkt_config0_.mkt_deploy_pw as mkt6_682_, mkt_config0_.mkt_deploy_user as mkt7_682_, mkt_config0_.mkt_theme_css as mkt8_682_, mkt_config0_.mkt_url as mkt9_682_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:42:07,555 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:42:07,555 INFO  ~  AbiquoUtils context set to :null
10:42:07,555 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:44:12,887 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not insert: [models.Deploy_Bundle]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:466)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert: [models.Deploy_Bundle]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:64)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2345)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2852)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:799)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:791)
	at org.hibernate.engine.EJB3CascadingAction$1.cascade(EJB3CascadingAction.java:48)
	at org.hibernate.engine.Cascade.cascadeToOne(Cascade.java:392)
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:335)
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:204)
	at org.hibernate.engine.Cascade.cascadeCollectionElements(Cascade.java:425)
	at org.hibernate.engine.Cascade.cascadeCollection(Cascade.java:362)
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:338)
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:204)
	at org.hibernate.engine.Cascade.cascade(Cascade.java:161)
	at org.hibernate.event.def.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:475)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:353)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerPurchased_id' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:94)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
	... 42 more
11:06:18,933 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:06:18,933 ERROR ~ Table 'Deploy_Bundle' already exists
11:06:20,510 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
11:06:20,510 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
11:06:21,802 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
11:06:21,802 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
11:06:23,196 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:06:23,196 INFO  ~ Enterprie ID for current User 3
11:06:23,196 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id696_, offer0_.datacenter as datacenter696_, offer0_.defaultLeasePeriod as defaultL3_696_, offer0_.defaultNetworkType as defaultN4_696_, offer0_.defaultServiceLevel as defaultS5_696_, offer0_.hypervisorType as hypervis6_696_, offer0_.icon as icon696_, offer0_.iconName as iconName696_, offer0_.image as image696_, offer0_.longDescription as longDes10_696_, offer0_.name as name696_, offer0_.price as price696_, offer0_.serviceType as service13_696_, offer0_.shortDescription as shortDe14_696_, offer0_.state as state696_, offer0_.virtualAppliance as virtual16_696_, offer0_.virtualDatacenter as virtual17_696_, offer0_.virtualDatacenterName as virtual18_696_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:06:23,197 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:06:23,317 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:06:23,317 INFO  ~ Enterprie ID for current User 3
11:06:23,317 INFO  ~ CURRENT USER EMAIL ID: userent
11:06:23,318 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id696_, offer0_.datacenter as datacenter696_, offer0_.defaultLeasePeriod as defaultL3_696_, offer0_.defaultNetworkType as defaultN4_696_, offer0_.defaultServiceLevel as defaultS5_696_, offer0_.hypervisorType as hypervis6_696_, offer0_.icon as icon696_, offer0_.iconName as iconName696_, offer0_.image as image696_, offer0_.longDescription as longDes10_696_, offer0_.name as name696_, offer0_.price as price696_, offer0_.serviceType as service13_696_, offer0_.shortDescription as shortDe14_696_, offer0_.state as state696_, offer0_.virtualAppliance as virtual16_696_, offer0_.virtualDatacenter as virtual17_696_, offer0_.virtualDatacenterName as virtual18_696_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:06:23,329 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:06:23,329 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id697_, offerpurch0_.expiration as expiration697_, offerpurch0_.idVirtualApplianceUser as idVirtua3_697_, offerpurch0_.leasePeriod as leasePer4_697_, offerpurch0_.serviceLevel as serviceL5_697_, offerpurch0_.start as start697_, offerpurch0_1_.user_id as user1_698_, offerpurch0_2_.offer_id as offer19_696_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:06:23,330 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:06:23,330 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:07:21,999 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:07:21,999 INFO  ~ Enterprie ID for current User 3
11:07:21,999 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id696_, offer0_.datacenter as datacenter696_, offer0_.defaultLeasePeriod as defaultL3_696_, offer0_.defaultNetworkType as defaultN4_696_, offer0_.defaultServiceLevel as defaultS5_696_, offer0_.hypervisorType as hypervis6_696_, offer0_.icon as icon696_, offer0_.iconName as iconName696_, offer0_.image as image696_, offer0_.longDescription as longDes10_696_, offer0_.name as name696_, offer0_.price as price696_, offer0_.serviceType as service13_696_, offer0_.shortDescription as shortDe14_696_, offer0_.state as state696_, offer0_.virtualAppliance as virtual16_696_, offer0_.virtualDatacenter as virtual17_696_, offer0_.virtualDatacenterName as virtual18_696_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:07:22,000 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:07:22,111 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:07:22,111 INFO  ~ Enterprie ID for current User 3
11:07:22,111 INFO  ~ CURRENT USER EMAIL ID: userent
11:07:22,111 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id696_, offer0_.datacenter as datacenter696_, offer0_.defaultLeasePeriod as defaultL3_696_, offer0_.defaultNetworkType as defaultN4_696_, offer0_.defaultServiceLevel as defaultS5_696_, offer0_.hypervisorType as hypervis6_696_, offer0_.icon as icon696_, offer0_.iconName as iconName696_, offer0_.image as image696_, offer0_.longDescription as longDes10_696_, offer0_.name as name696_, offer0_.price as price696_, offer0_.serviceType as service13_696_, offer0_.shortDescription as shortDe14_696_, offer0_.state as state696_, offer0_.virtualAppliance as virtual16_696_, offer0_.virtualDatacenter as virtual17_696_, offer0_.virtualDatacenterName as virtual18_696_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:07:22,112 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:07:22,112 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id697_, offerpurch0_.expiration as expiration697_, offerpurch0_.idVirtualApplianceUser as idVirtua3_697_, offerpurch0_.leasePeriod as leasePer4_697_, offerpurch0_.serviceLevel as serviceL5_697_, offerpurch0_.start as start697_, offerpurch0_1_.user_id as user1_698_, offerpurch0_2_.offer_id as offer19_696_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:07:22,112 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:07:22,112 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:07:26,882 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
11:07:26,915 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:07:27,286 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:07:27,482 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id696_, offer0_.datacenter as datacenter696_, offer0_.defaultLeasePeriod as defaultL3_696_, offer0_.defaultNetworkType as defaultN4_696_, offer0_.defaultServiceLevel as defaultS5_696_, offer0_.hypervisorType as hypervis6_696_, offer0_.icon as icon696_, offer0_.iconName as iconName696_, offer0_.image as image696_, offer0_.longDescription as longDes10_696_, offer0_.name as name696_, offer0_.price as price696_, offer0_.serviceType as service13_696_, offer0_.shortDescription as shortDe14_696_, offer0_.state as state696_, offer0_.virtualAppliance as virtual16_696_, offer0_.virtualDatacenter as virtual17_696_, offer0_.virtualDatacenterName as virtual18_696_ from Offer offer0_ where offer0_.id=?
11:07:27,556 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id696_, offer0_.datacenter as datacenter696_, offer0_.defaultLeasePeriod as defaultL3_696_, offer0_.defaultNetworkType as defaultN4_696_, offer0_.defaultServiceLevel as defaultS5_696_, offer0_.hypervisorType as hypervis6_696_, offer0_.icon as icon696_, offer0_.iconName as iconName696_, offer0_.image as image696_, offer0_.longDescription as longDes10_696_, offer0_.name as name696_, offer0_.price as price696_, offer0_.serviceType as service13_696_, offer0_.shortDescription as shortDe14_696_, offer0_.state as state696_, offer0_.virtualAppliance as virtual16_696_, offer0_.virtualDatacenter as virtual17_696_, offer0_.virtualDatacenterName as virtual18_696_ from Offer offer0_ where offer0_.id=?
11:07:27,609 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id696_, offer0_.datacenter as datacenter696_, offer0_.defaultLeasePeriod as defaultL3_696_, offer0_.defaultNetworkType as defaultN4_696_, offer0_.defaultServiceLevel as defaultS5_696_, offer0_.hypervisorType as hypervis6_696_, offer0_.icon as icon696_, offer0_.iconName as iconName696_, offer0_.image as image696_, offer0_.longDescription as longDes10_696_, offer0_.name as name696_, offer0_.price as price696_, offer0_.serviceType as service13_696_, offer0_.shortDescription as shortDe14_696_, offer0_.state as state696_, offer0_.virtualAppliance as virtual16_696_, offer0_.virtualDatacenter as virtual17_696_, offer0_.virtualDatacenterName as virtual18_696_ from Offer offer0_ where offer0_.id=?
11:07:27,665 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:07:27,665 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id697_, offerpurch0_.expiration as expiration697_, offerpurch0_.idVirtualApplianceUser as idVirtua3_697_, offerpurch0_.leasePeriod as leasePer4_697_, offerpurch0_.serviceLevel as serviceL5_697_, offerpurch0_.start as start697_, offerpurch0_1_.user_id as user1_698_, offerpurch0_2_.offer_id as offer19_696_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:07:27,666 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:07:27,666 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:07:27,666 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id696_, offer0_.datacenter as datacenter696_, offer0_.defaultLeasePeriod as defaultL3_696_, offer0_.defaultNetworkType as defaultN4_696_, offer0_.defaultServiceLevel as defaultS5_696_, offer0_.hypervisorType as hypervis6_696_, offer0_.icon as icon696_, offer0_.iconName as iconName696_, offer0_.image as image696_, offer0_.longDescription as longDes10_696_, offer0_.name as name696_, offer0_.price as price696_, offer0_.serviceType as service13_696_, offer0_.shortDescription as shortDe14_696_, offer0_.state as state696_, offer0_.virtualAppliance as virtual16_696_, offer0_.virtualDatacenter as virtual17_696_, offer0_.virtualDatacenterName as virtual18_696_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:07:27,667 INFO  ~ resultSet1 size :0
11:07:27,667 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:07:27,667 INFO  ~  resultSet1 size []
11:07:27,667 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:07:28,734 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
11:07:28,772 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:07:28,884 INFO  ~  virtualDC  : Bronze
11:07:28,981 INFO  ~  va  : Bronze
11:07:29,141 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
11:07:33,676 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id696_, offer0_.datacenter as datacenter696_, offer0_.defaultLeasePeriod as defaultL3_696_, offer0_.defaultNetworkType as defaultN4_696_, offer0_.defaultServiceLevel as defaultS5_696_, offer0_.hypervisorType as hypervis6_696_, offer0_.icon as icon696_, offer0_.iconName as iconName696_, offer0_.image as image696_, offer0_.longDescription as longDes10_696_, offer0_.name as name696_, offer0_.price as price696_, offer0_.serviceType as service13_696_, offer0_.shortDescription as shortDe14_696_, offer0_.state as state696_, offer0_.virtualAppliance as virtual16_696_, offer0_.virtualDatacenter as virtual17_696_, offer0_.virtualDatacenterName as virtual18_696_ from Offer offer0_ where offer0_.id=? limit ?
11:07:33,687 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
11:07:33,687 INFO  ~ Session user in addToServiceCatalog(): admin
11:07:33,687 INFO  ~  and  vdc 3  & va_id : 1
11:07:33,687 INFO  ~  lease period 100 years
11:07:33,725 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:07:34,179 INFO  ~  description : asdfsdaf
11:07:34,238 INFO  ~  description : asdfsdaf
11:07:34,264 WARN  ~ EXCEPTION OCCURED IN addToServiceCAtalog()
javax.persistence.PersistenceException: org.hibernate.PersistentObjectException: detached entity passed to persist: models.Offer
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.ProducerRemote.addToServiceCatalog(ProducerRemote.java:370)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: models.Offer
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:127)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
11:07:34,319 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:07:34,508 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id696_, offer0_.datacenter as datacenter696_, offer0_.defaultLeasePeriod as defaultL3_696_, offer0_.defaultNetworkType as defaultN4_696_, offer0_.defaultServiceLevel as defaultS5_696_, offer0_.hypervisorType as hypervis6_696_, offer0_.icon as icon696_, offer0_.iconName as iconName696_, offer0_.image as image696_, offer0_.longDescription as longDes10_696_, offer0_.name as name696_, offer0_.price as price696_, offer0_.serviceType as service13_696_, offer0_.shortDescription as shortDe14_696_, offer0_.state as state696_, offer0_.virtualAppliance as virtual16_696_, offer0_.virtualDatacenter as virtual17_696_, offer0_.virtualDatacenterName as virtual18_696_ from Offer offer0_ where offer0_.id=?
11:07:34,579 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id696_, offer0_.datacenter as datacenter696_, offer0_.defaultLeasePeriod as defaultL3_696_, offer0_.defaultNetworkType as defaultN4_696_, offer0_.defaultServiceLevel as defaultS5_696_, offer0_.hypervisorType as hypervis6_696_, offer0_.icon as icon696_, offer0_.iconName as iconName696_, offer0_.image as image696_, offer0_.longDescription as longDes10_696_, offer0_.name as name696_, offer0_.price as price696_, offer0_.serviceType as service13_696_, offer0_.shortDescription as shortDe14_696_, offer0_.state as state696_, offer0_.virtualAppliance as virtual16_696_, offer0_.virtualDatacenter as virtual17_696_, offer0_.virtualDatacenterName as virtual18_696_ from Offer offer0_ where offer0_.id=?
11:07:34,635 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id696_, offer0_.datacenter as datacenter696_, offer0_.defaultLeasePeriod as defaultL3_696_, offer0_.defaultNetworkType as defaultN4_696_, offer0_.defaultServiceLevel as defaultS5_696_, offer0_.hypervisorType as hypervis6_696_, offer0_.icon as icon696_, offer0_.iconName as iconName696_, offer0_.image as image696_, offer0_.longDescription as longDes10_696_, offer0_.name as name696_, offer0_.price as price696_, offer0_.serviceType as service13_696_, offer0_.shortDescription as shortDe14_696_, offer0_.state as state696_, offer0_.virtualAppliance as virtual16_696_, offer0_.virtualDatacenter as virtual17_696_, offer0_.virtualDatacenterName as virtual18_696_ from Offer offer0_ where offer0_.id=?
11:07:34,687 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:07:34,687 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id697_, offerpurch0_.expiration as expiration697_, offerpurch0_.idVirtualApplianceUser as idVirtua3_697_, offerpurch0_.leasePeriod as leasePer4_697_, offerpurch0_.serviceLevel as serviceL5_697_, offerpurch0_.start as start697_, offerpurch0_1_.user_id as user1_698_, offerpurch0_2_.offer_id as offer19_696_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:07:34,688 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:07:34,688 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:07:34,688 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id696_, offer0_.datacenter as datacenter696_, offer0_.defaultLeasePeriod as defaultL3_696_, offer0_.defaultNetworkType as defaultN4_696_, offer0_.defaultServiceLevel as defaultS5_696_, offer0_.hypervisorType as hypervis6_696_, offer0_.icon as icon696_, offer0_.iconName as iconName696_, offer0_.image as image696_, offer0_.longDescription as longDes10_696_, offer0_.name as name696_, offer0_.price as price696_, offer0_.serviceType as service13_696_, offer0_.shortDescription as shortDe14_696_, offer0_.state as state696_, offer0_.virtualAppliance as virtual16_696_, offer0_.virtualDatacenter as virtual17_696_, offer0_.virtualDatacenterName as virtual18_696_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:07:34,689 INFO  ~ resultSet1 size :0
11:07:34,689 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:07:34,689 INFO  ~  resultSet1 size []
11:07:34,689 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:08:55,496 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:08:55,496 ERROR ~ Table 'Deploy_Bundle' already exists
11:08:57,258 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
11:08:57,258 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
11:09:04,348 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
11:09:04,376 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:09:04,737 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:09:48,641 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:09:48,641 ERROR ~ Table 'Deploy_Bundle' already exists
11:09:50,203 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
11:09:50,203 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
11:09:51,493 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
11:09:51,493 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
11:09:54,777 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
11:09:54,816 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:09:55,225 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:09:55,450 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id744_, offer0_.datacenter as datacenter744_, offer0_.defaultLeasePeriod as defaultL3_744_, offer0_.defaultNetworkType as defaultN4_744_, offer0_.defaultServiceLevel as defaultS5_744_, offer0_.hypervisorType as hypervis6_744_, offer0_.icon as icon744_, offer0_.iconName as iconName744_, offer0_.image as image744_, offer0_.longDescription as longDes10_744_, offer0_.name as name744_, offer0_.price as price744_, offer0_.serviceType as service13_744_, offer0_.shortDescription as shortDe14_744_, offer0_.state as state744_, offer0_.virtualAppliance as virtual16_744_, offer0_.virtualDatacenter as virtual17_744_, offer0_.virtualDatacenterName as virtual18_744_ from Offer offer0_ where offer0_.id=?
11:09:55,521 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id744_, offer0_.datacenter as datacenter744_, offer0_.defaultLeasePeriod as defaultL3_744_, offer0_.defaultNetworkType as defaultN4_744_, offer0_.defaultServiceLevel as defaultS5_744_, offer0_.hypervisorType as hypervis6_744_, offer0_.icon as icon744_, offer0_.iconName as iconName744_, offer0_.image as image744_, offer0_.longDescription as longDes10_744_, offer0_.name as name744_, offer0_.price as price744_, offer0_.serviceType as service13_744_, offer0_.shortDescription as shortDe14_744_, offer0_.state as state744_, offer0_.virtualAppliance as virtual16_744_, offer0_.virtualDatacenter as virtual17_744_, offer0_.virtualDatacenterName as virtual18_744_ from Offer offer0_ where offer0_.id=?
11:09:55,577 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id744_, offer0_.datacenter as datacenter744_, offer0_.defaultLeasePeriod as defaultL3_744_, offer0_.defaultNetworkType as defaultN4_744_, offer0_.defaultServiceLevel as defaultS5_744_, offer0_.hypervisorType as hypervis6_744_, offer0_.icon as icon744_, offer0_.iconName as iconName744_, offer0_.image as image744_, offer0_.longDescription as longDes10_744_, offer0_.name as name744_, offer0_.price as price744_, offer0_.serviceType as service13_744_, offer0_.shortDescription as shortDe14_744_, offer0_.state as state744_, offer0_.virtualAppliance as virtual16_744_, offer0_.virtualDatacenter as virtual17_744_, offer0_.virtualDatacenterName as virtual18_744_ from Offer offer0_ where offer0_.id=?
11:09:55,630 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:09:55,630 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id745_, offerpurch0_.expiration as expiration745_, offerpurch0_.idVirtualApplianceUser as idVirtua3_745_, offerpurch0_.leasePeriod as leasePer4_745_, offerpurch0_.serviceLevel as serviceL5_745_, offerpurch0_.start as start745_, offerpurch0_1_.user_id as user1_746_, offerpurch0_2_.offer_id as offer19_744_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:09:55,631 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:09:55,631 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:09:55,631 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id744_, offer0_.datacenter as datacenter744_, offer0_.defaultLeasePeriod as defaultL3_744_, offer0_.defaultNetworkType as defaultN4_744_, offer0_.defaultServiceLevel as defaultS5_744_, offer0_.hypervisorType as hypervis6_744_, offer0_.icon as icon744_, offer0_.iconName as iconName744_, offer0_.image as image744_, offer0_.longDescription as longDes10_744_, offer0_.name as name744_, offer0_.price as price744_, offer0_.serviceType as service13_744_, offer0_.shortDescription as shortDe14_744_, offer0_.state as state744_, offer0_.virtualAppliance as virtual16_744_, offer0_.virtualDatacenter as virtual17_744_, offer0_.virtualDatacenterName as virtual18_744_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:09:55,632 INFO  ~ resultSet1 size :0
11:09:55,632 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:09:55,632 INFO  ~  resultSet1 size []
11:09:55,632 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:09:56,728 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
11:09:56,777 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:09:56,835 INFO  ~  virtualDC  : Bronze
11:09:56,931 INFO  ~  va  : Bronze
11:09:57,095 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
11:10:01,514 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id744_, offer0_.datacenter as datacenter744_, offer0_.defaultLeasePeriod as defaultL3_744_, offer0_.defaultNetworkType as defaultN4_744_, offer0_.defaultServiceLevel as defaultS5_744_, offer0_.hypervisorType as hypervis6_744_, offer0_.icon as icon744_, offer0_.iconName as iconName744_, offer0_.image as image744_, offer0_.longDescription as longDes10_744_, offer0_.name as name744_, offer0_.price as price744_, offer0_.serviceType as service13_744_, offer0_.shortDescription as shortDe14_744_, offer0_.state as state744_, offer0_.virtualAppliance as virtual16_744_, offer0_.virtualDatacenter as virtual17_744_, offer0_.virtualDatacenterName as virtual18_744_ from Offer offer0_ where offer0_.id=? limit ?
11:10:01,521 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
11:10:01,521 INFO  ~ Session user in addToServiceCatalog(): admin
11:10:01,521 INFO  ~  and  vdc 3  & va_id : 1
11:10:01,521 INFO  ~  lease period 100 years
11:10:01,562 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:10:01,998 INFO  ~  description : asdfds
11:10:02,055 INFO  ~  description : asdfds
11:10:02,095 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
11:10:02,097 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
11:10:02,098 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
11:10:02,099 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
11:10:02,099 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
11:10:02,100 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
11:10:02,104 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
11:10:02,239 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:10:02,473 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id744_, offer0_.datacenter as datacenter744_, offer0_.defaultLeasePeriod as defaultL3_744_, offer0_.defaultNetworkType as defaultN4_744_, offer0_.defaultServiceLevel as defaultS5_744_, offer0_.hypervisorType as hypervis6_744_, offer0_.icon as icon744_, offer0_.iconName as iconName744_, offer0_.image as image744_, offer0_.longDescription as longDes10_744_, offer0_.name as name744_, offer0_.price as price744_, offer0_.serviceType as service13_744_, offer0_.shortDescription as shortDe14_744_, offer0_.state as state744_, offer0_.virtualAppliance as virtual16_744_, offer0_.virtualDatacenter as virtual17_744_, offer0_.virtualDatacenterName as virtual18_744_ from Offer offer0_ where offer0_.id=?
11:10:02,474 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id744_, offer0_.datacenter as datacenter744_, offer0_.defaultLeasePeriod as defaultL3_744_, offer0_.defaultNetworkType as defaultN4_744_, offer0_.defaultServiceLevel as defaultS5_744_, offer0_.hypervisorType as hypervis6_744_, offer0_.icon as icon744_, offer0_.iconName as iconName744_, offer0_.image as image744_, offer0_.longDescription as longDes10_744_, offer0_.name as name744_, offer0_.price as price744_, offer0_.serviceType as service13_744_, offer0_.shortDescription as shortDe14_744_, offer0_.state as state744_, offer0_.virtualAppliance as virtual16_744_, offer0_.virtualDatacenter as virtual17_744_, offer0_.virtualDatacenterName as virtual18_744_ from Offer offer0_ where offer0_.id=?
11:10:02,528 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id744_, offer0_.datacenter as datacenter744_, offer0_.defaultLeasePeriod as defaultL3_744_, offer0_.defaultNetworkType as defaultN4_744_, offer0_.defaultServiceLevel as defaultS5_744_, offer0_.hypervisorType as hypervis6_744_, offer0_.icon as icon744_, offer0_.iconName as iconName744_, offer0_.image as image744_, offer0_.longDescription as longDes10_744_, offer0_.name as name744_, offer0_.price as price744_, offer0_.serviceType as service13_744_, offer0_.shortDescription as shortDe14_744_, offer0_.state as state744_, offer0_.virtualAppliance as virtual16_744_, offer0_.virtualDatacenter as virtual17_744_, offer0_.virtualDatacenterName as virtual18_744_ from Offer offer0_ where offer0_.id=?
11:10:02,585 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:10:02,586 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id745_, offerpurch0_.expiration as expiration745_, offerpurch0_.idVirtualApplianceUser as idVirtua3_745_, offerpurch0_.leasePeriod as leasePer4_745_, offerpurch0_.serviceLevel as serviceL5_745_, offerpurch0_.start as start745_, offerpurch0_1_.user_id as user1_746_, offerpurch0_2_.offer_id as offer19_744_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:10:02,586 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:10:02,587 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:10:02,587 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id744_, offer0_.datacenter as datacenter744_, offer0_.defaultLeasePeriod as defaultL3_744_, offer0_.defaultNetworkType as defaultN4_744_, offer0_.defaultServiceLevel as defaultS5_744_, offer0_.hypervisorType as hypervis6_744_, offer0_.icon as icon744_, offer0_.iconName as iconName744_, offer0_.image as image744_, offer0_.longDescription as longDes10_744_, offer0_.name as name744_, offer0_.price as price744_, offer0_.serviceType as service13_744_, offer0_.shortDescription as shortDe14_744_, offer0_.state as state744_, offer0_.virtualAppliance as virtual16_744_, offer0_.virtualDatacenter as virtual17_744_, offer0_.virtualDatacenterName as virtual18_744_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:10:02,588 INFO  ~ resultSet1 size :1
11:10:02,588 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:10:02,588 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@67ec9a89 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
11:10:02,588 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:10:02,625 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:10:02,626 INFO  ~  OfferID for icon 1
11:10:02,626 DEBUG ~ /* load models.Offer */ select offer0_.id as id744_0_, offer0_.datacenter as datacenter744_0_, offer0_.defaultLeasePeriod as defaultL3_744_0_, offer0_.defaultNetworkType as defaultN4_744_0_, offer0_.defaultServiceLevel as defaultS5_744_0_, offer0_.hypervisorType as hypervis6_744_0_, offer0_.icon as icon744_0_, offer0_.iconName as iconName744_0_, offer0_.image as image744_0_, offer0_.longDescription as longDes10_744_0_, offer0_.name as name744_0_, offer0_.price as price744_0_, offer0_.serviceType as service13_744_0_, offer0_.shortDescription as shortDe14_744_0_, offer0_.state as state744_0_, offer0_.virtualAppliance as virtual16_744_0_, offer0_.virtualDatacenter as virtual17_744_0_, offer0_.virtualDatacenterName as virtual18_744_0_ from Offer offer0_ where offer0_.id=?
11:10:02,628 INFO  ~ ------------------------- EXITING displayIcon()---------
11:12:01,890 ERROR ~ 

@6bj6k07fk
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
11:12:46,161 ERROR ~ 

@6bj6k07fl
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
11:12:47,147 ERROR ~ 

@6bj6k07fm
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
11:12:47,695 ERROR ~ 

@6bj6k07fn
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
11:12:48,073 ERROR ~ 

@6bj6k07fo
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
11:13:09,210 ERROR ~ 

@6bj6k07fp
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
11:13:10,047 ERROR ~ 

@6bj6k07g0
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
11:13:17,222 ERROR ~ 

@6bj6k07g1
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
11:13:17,915 ERROR ~ 

@6bj6k07g2
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
11:14:36,919 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:14:36,919 ERROR ~ Table 'Deploy_Bundle' already exists
11:14:38,488 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
11:14:38,488 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
11:14:39,738 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
11:14:39,738 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
11:15:23,902 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
11:15:23,933 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:15:24,543 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:15:24,829 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id894_, offer0_.datacenter as datacenter894_, offer0_.defaultLeasePeriod as defaultL3_894_, offer0_.defaultNetworkType as defaultN4_894_, offer0_.defaultServiceLevel as defaultS5_894_, offer0_.hypervisorType as hypervis6_894_, offer0_.icon as icon894_, offer0_.iconName as iconName894_, offer0_.image as image894_, offer0_.longDescription as longDes10_894_, offer0_.name as name894_, offer0_.price as price894_, offer0_.serviceType as service13_894_, offer0_.shortDescription as shortDe14_894_, offer0_.state as state894_, offer0_.virtualAppliance as virtual16_894_, offer0_.virtualDatacenter as virtual17_894_, offer0_.virtualDatacenterName as virtual18_894_ from Offer offer0_ where offer0_.id=?
11:15:24,927 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id894_, offer0_.datacenter as datacenter894_, offer0_.defaultLeasePeriod as defaultL3_894_, offer0_.defaultNetworkType as defaultN4_894_, offer0_.defaultServiceLevel as defaultS5_894_, offer0_.hypervisorType as hypervis6_894_, offer0_.icon as icon894_, offer0_.iconName as iconName894_, offer0_.image as image894_, offer0_.longDescription as longDes10_894_, offer0_.name as name894_, offer0_.price as price894_, offer0_.serviceType as service13_894_, offer0_.shortDescription as shortDe14_894_, offer0_.state as state894_, offer0_.virtualAppliance as virtual16_894_, offer0_.virtualDatacenter as virtual17_894_, offer0_.virtualDatacenterName as virtual18_894_ from Offer offer0_ where offer0_.id=?
11:15:25,058 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id894_, offer0_.datacenter as datacenter894_, offer0_.defaultLeasePeriod as defaultL3_894_, offer0_.defaultNetworkType as defaultN4_894_, offer0_.defaultServiceLevel as defaultS5_894_, offer0_.hypervisorType as hypervis6_894_, offer0_.icon as icon894_, offer0_.iconName as iconName894_, offer0_.image as image894_, offer0_.longDescription as longDes10_894_, offer0_.name as name894_, offer0_.price as price894_, offer0_.serviceType as service13_894_, offer0_.shortDescription as shortDe14_894_, offer0_.state as state894_, offer0_.virtualAppliance as virtual16_894_, offer0_.virtualDatacenter as virtual17_894_, offer0_.virtualDatacenterName as virtual18_894_ from Offer offer0_ where offer0_.id=?
11:15:25,113 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:15:25,113 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id895_, offerpurch0_.expiration as expiration895_, offerpurch0_.idVirtualApplianceUser as idVirtua3_895_, offerpurch0_.leasePeriod as leasePer4_895_, offerpurch0_.serviceLevel as serviceL5_895_, offerpurch0_.start as start895_, offerpurch0_1_.user_id as user1_896_, offerpurch0_2_.offer_id as offer19_894_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:15:25,114 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:15:25,115 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:15:25,115 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id894_, offer0_.datacenter as datacenter894_, offer0_.defaultLeasePeriod as defaultL3_894_, offer0_.defaultNetworkType as defaultN4_894_, offer0_.defaultServiceLevel as defaultS5_894_, offer0_.hypervisorType as hypervis6_894_, offer0_.icon as icon894_, offer0_.iconName as iconName894_, offer0_.image as image894_, offer0_.longDescription as longDes10_894_, offer0_.name as name894_, offer0_.price as price894_, offer0_.serviceType as service13_894_, offer0_.shortDescription as shortDe14_894_, offer0_.state as state894_, offer0_.virtualAppliance as virtual16_894_, offer0_.virtualDatacenter as virtual17_894_, offer0_.virtualDatacenterName as virtual18_894_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:15:25,116 INFO  ~ resultSet1 size :0
11:15:25,116 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:15:25,116 INFO  ~  resultSet1 size []
11:15:25,116 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:15:25,819 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
11:15:25,863 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:15:25,929 INFO  ~  virtualDC  : Bronze
11:15:26,045 INFO  ~  va  : Bronze
11:15:26,246 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
11:15:30,413 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id894_, offer0_.datacenter as datacenter894_, offer0_.defaultLeasePeriod as defaultL3_894_, offer0_.defaultNetworkType as defaultN4_894_, offer0_.defaultServiceLevel as defaultS5_894_, offer0_.hypervisorType as hypervis6_894_, offer0_.icon as icon894_, offer0_.iconName as iconName894_, offer0_.image as image894_, offer0_.longDescription as longDes10_894_, offer0_.name as name894_, offer0_.price as price894_, offer0_.serviceType as service13_894_, offer0_.shortDescription as shortDe14_894_, offer0_.state as state894_, offer0_.virtualAppliance as virtual16_894_, offer0_.virtualDatacenter as virtual17_894_, offer0_.virtualDatacenterName as virtual18_894_ from Offer offer0_ where offer0_.id=? limit ?
11:15:30,421 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
11:15:30,421 INFO  ~ Session user in addToServiceCatalog(): admin
11:15:30,421 INFO  ~  and  vdc 3  & va_id : 1
11:15:30,421 INFO  ~  lease period 100 years
11:15:30,455 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:15:31,066 INFO  ~  description : sdafdfsdf
11:15:31,158 INFO  ~  description : sdafdfsdf
11:15:31,191 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
11:15:31,193 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
11:15:31,194 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
11:15:31,195 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
11:15:31,195 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
11:15:31,195 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
11:15:31,200 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
11:15:31,318 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:15:31,572 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id894_, offer0_.datacenter as datacenter894_, offer0_.defaultLeasePeriod as defaultL3_894_, offer0_.defaultNetworkType as defaultN4_894_, offer0_.defaultServiceLevel as defaultS5_894_, offer0_.hypervisorType as hypervis6_894_, offer0_.icon as icon894_, offer0_.iconName as iconName894_, offer0_.image as image894_, offer0_.longDescription as longDes10_894_, offer0_.name as name894_, offer0_.price as price894_, offer0_.serviceType as service13_894_, offer0_.shortDescription as shortDe14_894_, offer0_.state as state894_, offer0_.virtualAppliance as virtual16_894_, offer0_.virtualDatacenter as virtual17_894_, offer0_.virtualDatacenterName as virtual18_894_ from Offer offer0_ where offer0_.id=?
11:15:31,574 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id894_, offer0_.datacenter as datacenter894_, offer0_.defaultLeasePeriod as defaultL3_894_, offer0_.defaultNetworkType as defaultN4_894_, offer0_.defaultServiceLevel as defaultS5_894_, offer0_.hypervisorType as hypervis6_894_, offer0_.icon as icon894_, offer0_.iconName as iconName894_, offer0_.image as image894_, offer0_.longDescription as longDes10_894_, offer0_.name as name894_, offer0_.price as price894_, offer0_.serviceType as service13_894_, offer0_.shortDescription as shortDe14_894_, offer0_.state as state894_, offer0_.virtualAppliance as virtual16_894_, offer0_.virtualDatacenter as virtual17_894_, offer0_.virtualDatacenterName as virtual18_894_ from Offer offer0_ where offer0_.id=?
11:15:31,638 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id894_, offer0_.datacenter as datacenter894_, offer0_.defaultLeasePeriod as defaultL3_894_, offer0_.defaultNetworkType as defaultN4_894_, offer0_.defaultServiceLevel as defaultS5_894_, offer0_.hypervisorType as hypervis6_894_, offer0_.icon as icon894_, offer0_.iconName as iconName894_, offer0_.image as image894_, offer0_.longDescription as longDes10_894_, offer0_.name as name894_, offer0_.price as price894_, offer0_.serviceType as service13_894_, offer0_.shortDescription as shortDe14_894_, offer0_.state as state894_, offer0_.virtualAppliance as virtual16_894_, offer0_.virtualDatacenter as virtual17_894_, offer0_.virtualDatacenterName as virtual18_894_ from Offer offer0_ where offer0_.id=?
11:15:31,724 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:15:31,724 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id895_, offerpurch0_.expiration as expiration895_, offerpurch0_.idVirtualApplianceUser as idVirtua3_895_, offerpurch0_.leasePeriod as leasePer4_895_, offerpurch0_.serviceLevel as serviceL5_895_, offerpurch0_.start as start895_, offerpurch0_1_.user_id as user1_896_, offerpurch0_2_.offer_id as offer19_894_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:15:31,725 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:15:31,725 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:15:31,725 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id894_, offer0_.datacenter as datacenter894_, offer0_.defaultLeasePeriod as defaultL3_894_, offer0_.defaultNetworkType as defaultN4_894_, offer0_.defaultServiceLevel as defaultS5_894_, offer0_.hypervisorType as hypervis6_894_, offer0_.icon as icon894_, offer0_.iconName as iconName894_, offer0_.image as image894_, offer0_.longDescription as longDes10_894_, offer0_.name as name894_, offer0_.price as price894_, offer0_.serviceType as service13_894_, offer0_.shortDescription as shortDe14_894_, offer0_.state as state894_, offer0_.virtualAppliance as virtual16_894_, offer0_.virtualDatacenter as virtual17_894_, offer0_.virtualDatacenterName as virtual18_894_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:15:31,726 INFO  ~ resultSet1 size :1
11:15:31,726 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:15:31,727 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@23e9436c , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
11:15:31,727 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:15:31,764 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:15:31,764 INFO  ~  OfferID for icon 1
11:15:31,765 DEBUG ~ /* load models.Offer */ select offer0_.id as id894_0_, offer0_.datacenter as datacenter894_0_, offer0_.defaultLeasePeriod as defaultL3_894_0_, offer0_.defaultNetworkType as defaultN4_894_0_, offer0_.defaultServiceLevel as defaultS5_894_0_, offer0_.hypervisorType as hypervis6_894_0_, offer0_.icon as icon894_0_, offer0_.iconName as iconName894_0_, offer0_.image as image894_0_, offer0_.longDescription as longDes10_894_0_, offer0_.name as name894_0_, offer0_.price as price894_0_, offer0_.serviceType as service13_894_0_, offer0_.shortDescription as shortDe14_894_0_, offer0_.state as state894_0_, offer0_.virtualAppliance as virtual16_894_0_, offer0_.virtualDatacenter as virtual17_894_0_, offer0_.virtualDatacenterName as virtual18_894_0_ from Offer offer0_ where offer0_.id=?
11:15:31,766 INFO  ~ ------------------------- EXITING displayIcon()---------
11:16:42,890 ERROR ~ 

@6bj6k07g4
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
11:17:12,873 ERROR ~ 

@6bj6k07g5
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
11:17:13,604 ERROR ~ 

@6bj6k07g6
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
11:17:14,205 ERROR ~ 

@6bj6k07g7
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
11:17:35,841 ERROR ~ 

@6bj6k07g8
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
11:17:36,525 ERROR ~ 

@6bj6k07g9
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
11:18:35,071 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:18:35,071 ERROR ~ Table 'Deploy_Bundle' already exists
11:18:36,799 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
11:18:36,799 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
11:18:38,090 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
11:18:38,090 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
11:19:03,955 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
11:19:03,984 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:19:04,329 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:19:04,559 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.id=?
11:19:04,630 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.id=?
11:19:04,688 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.id=?
11:19:04,735 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:19:04,735 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1003_, offerpurch0_.expiration as expiration1003_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1003_, offerpurch0_.leasePeriod as leasePer4_1003_, offerpurch0_.serviceLevel as serviceL5_1003_, offerpurch0_.start as start1003_, offerpurch0_1_.user_id as user1_1004_, offerpurch0_2_.offer_id as offer19_1002_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:19:04,736 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:19:04,736 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:19:04,736 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:19:04,737 INFO  ~ resultSet1 size :0
11:19:04,737 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:19:04,737 INFO  ~  resultSet1 size []
11:19:04,737 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:19:05,773 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
11:19:05,807 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:19:05,859 INFO  ~  virtualDC  : Bronze
11:19:05,961 INFO  ~  va  : Bronze
11:19:06,122 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
11:19:10,535 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.id=? limit ?
11:19:10,541 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
11:19:10,542 INFO  ~ Session user in addToServiceCatalog(): admin
11:19:10,542 INFO  ~  and  vdc 3  & va_id : 1
11:19:10,542 INFO  ~  lease period 100 years
11:19:10,569 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:19:11,381 INFO  ~  description : sdfsdfsd
11:19:11,436 INFO  ~  description : sdfsdfsd
11:19:11,478 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
11:19:11,480 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
11:19:11,480 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
11:19:11,481 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
11:19:11,481 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
11:19:11,482 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
11:19:11,484 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
11:19:11,646 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:19:11,881 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.id=?
11:19:11,883 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.id=?
11:19:11,938 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.id=?
11:19:11,993 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:19:11,993 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1003_, offerpurch0_.expiration as expiration1003_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1003_, offerpurch0_.leasePeriod as leasePer4_1003_, offerpurch0_.serviceLevel as serviceL5_1003_, offerpurch0_.start as start1003_, offerpurch0_1_.user_id as user1_1004_, offerpurch0_2_.offer_id as offer19_1002_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:19:11,994 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:19:11,994 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:19:11,994 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:19:11,995 INFO  ~ resultSet1 size :1
11:19:11,995 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:19:11,995 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@38b9d37b , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
11:19:11,995 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:19:12,028 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:19:12,028 INFO  ~  OfferID for icon 1
11:19:12,029 DEBUG ~ /* load models.Offer */ select offer0_.id as id1002_0_, offer0_.datacenter as datacenter1002_0_, offer0_.defaultLeasePeriod as defaultL3_1002_0_, offer0_.defaultNetworkType as defaultN4_1002_0_, offer0_.defaultServiceLevel as defaultS5_1002_0_, offer0_.hypervisorType as hypervis6_1002_0_, offer0_.icon as icon1002_0_, offer0_.iconName as iconName1002_0_, offer0_.image as image1002_0_, offer0_.longDescription as longDes10_1002_0_, offer0_.name as name1002_0_, offer0_.price as price1002_0_, offer0_.serviceType as service13_1002_0_, offer0_.shortDescription as shortDe14_1002_0_, offer0_.state as state1002_0_, offer0_.virtualAppliance as virtual16_1002_0_, offer0_.virtualDatacenter as virtual17_1002_0_, offer0_.virtualDatacenterName as virtual18_1002_0_ from Offer offer0_ where offer0_.id=?
11:19:12,030 INFO  ~ ------------------------- EXITING displayIcon()---------
11:19:15,803 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:19:15,803 INFO  ~ Enterprie ID for current User 3
11:19:15,803 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:19:15,805 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:19:15,948 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:19:15,949 INFO  ~ Enterprie ID for current User 3
11:19:15,949 INFO  ~ CURRENT USER EMAIL ID: userent
11:19:15,949 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:19:15,950 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:19:15,950 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1003_, offerpurch0_.expiration as expiration1003_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1003_, offerpurch0_.leasePeriod as leasePer4_1003_, offerpurch0_.serviceLevel as serviceL5_1003_, offerpurch0_.start as start1003_, offerpurch0_1_.user_id as user1_1004_, offerpurch0_2_.offer_id as offer19_1002_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:19:15,950 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:19:15,950 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:19:15,978 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:19:15,979 INFO  ~  OfferID for icon 1
11:19:15,979 DEBUG ~ /* load models.Offer */ select offer0_.id as id1002_0_, offer0_.datacenter as datacenter1002_0_, offer0_.defaultLeasePeriod as defaultL3_1002_0_, offer0_.defaultNetworkType as defaultN4_1002_0_, offer0_.defaultServiceLevel as defaultS5_1002_0_, offer0_.hypervisorType as hypervis6_1002_0_, offer0_.icon as icon1002_0_, offer0_.iconName as iconName1002_0_, offer0_.image as image1002_0_, offer0_.longDescription as longDes10_1002_0_, offer0_.name as name1002_0_, offer0_.price as price1002_0_, offer0_.serviceType as service13_1002_0_, offer0_.shortDescription as shortDe14_1002_0_, offer0_.state as state1002_0_, offer0_.virtualAppliance as virtual16_1002_0_, offer0_.virtualDatacenter as virtual17_1002_0_, offer0_.virtualDatacenterName as virtual18_1002_0_ from Offer offer0_ where offer0_.id=?
11:19:15,980 INFO  ~ ------------------------- EXITING displayIcon()---------
11:19:17,121 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
11:19:17,121 INFO  ~ CURRENT USER EMAIL ID: userent
11:19:17,121 DEBUG ~ /* load models.Offer */ select offer0_.id as id1002_0_, offer0_.datacenter as datacenter1002_0_, offer0_.defaultLeasePeriod as defaultL3_1002_0_, offer0_.defaultNetworkType as defaultN4_1002_0_, offer0_.defaultServiceLevel as defaultS5_1002_0_, offer0_.hypervisorType as hypervis6_1002_0_, offer0_.icon as icon1002_0_, offer0_.iconName as iconName1002_0_, offer0_.image as image1002_0_, offer0_.longDescription as longDes10_1002_0_, offer0_.name as name1002_0_, offer0_.price as price1002_0_, offer0_.serviceType as service13_1002_0_, offer0_.shortDescription as shortDe14_1002_0_, offer0_.state as state1002_0_, offer0_.virtualAppliance as virtual16_1002_0_, offer0_.virtualDatacenter as virtual17_1002_0_, offer0_.virtualDatacenterName as virtual18_1002_0_ from Offer offer0_ where offer0_.id=?
11:19:17,123 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
11:19:17,136 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1002_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_1010_0_, nodes1_.cpu as cpu1010_0_, nodes1_.description as descript3_1010_0_, nodes1_.hd as hd1010_0_, nodes1_.icon as icon1010_0_, nodes1_.idImage as idImage1010_0_, nodes1_.node_name as node7_1010_0_, nodes1_.ram as ram1010_0_, nodes1_1_.offer_id as offer1_1011_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
11:19:30,460 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
11:19:30,460 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
11:19:30,500 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
11:19:30,613 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
11:19:31,116 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
11:19:31,116 INFO  ~  vdcname : POR-userent-2012-09-10 11:19:31.116
11:19:31,227 INFO  ~  VDC to deploy: 
11:19:31,227 INFO  ~  Hypervisor to deploy: 
11:19:31,296 INFO  ~  Datacenter to deploy: 
11:19:31,296 INFO  ~  Network Built
11:19:31,296 INFO  ~ VDC built  
11:19:33,654 INFO  ~  1. VDC CREATED 
11:19:33,777 INFO  ~  2. VAPP CREATED 
11:19:33,777 INFO  ~ --------------------
11:19:34,252 DEBUG ~ /* load models.Offer */ select offer0_.id as id1002_0_, offer0_.datacenter as datacenter1002_0_, offer0_.defaultLeasePeriod as defaultL3_1002_0_, offer0_.defaultNetworkType as defaultN4_1002_0_, offer0_.defaultServiceLevel as defaultS5_1002_0_, offer0_.hypervisorType as hypervis6_1002_0_, offer0_.icon as icon1002_0_, offer0_.iconName as iconName1002_0_, offer0_.image as image1002_0_, offer0_.longDescription as longDes10_1002_0_, offer0_.name as name1002_0_, offer0_.price as price1002_0_, offer0_.serviceType as service13_1002_0_, offer0_.shortDescription as shortDe14_1002_0_, offer0_.state as state1002_0_, offer0_.virtualAppliance as virtual16_1002_0_, offer0_.virtualDatacenter as virtual17_1002_0_, offer0_.virtualDatacenterName as virtual18_1002_0_ from Offer offer0_ where offer0_.id=?
11:19:34,860 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
11:19:34,860 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.id=?
11:19:34,861 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
11:19:34,861 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1002_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_1010_0_, nodes1_.cpu as cpu1010_0_, nodes1_.description as descript3_1010_0_, nodes1_.hd as hd1010_0_, nodes1_.icon as icon1010_0_, nodes1_.idImage as idImage1010_0_, nodes1_.node_name as node7_1010_0_, nodes1_.ram as ram1010_0_, nodes1_1_.offer_id as offer1_1011_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
11:19:35,331 INFO  ~  3. VM CREATED
11:19:36,908 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_1010_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_1008_0_, nodes_reso1_.resourceType as resource2_1008_0_, nodes_reso1_.sequence as sequence1008_0_, nodes_reso1_.value as value1008_0_, nodes_reso1_1_.id_node as id1_1009_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
11:19:37,197 INFO  ~  4. HARDDISKS ATTACHED 
11:19:37,198 INFO  ~  Handler created :
11:19:37,840 INFO  ~ STARTING MONITORING ......
11:19:38,343 INFO  ~  3. VM CREATED
11:19:41,076 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_1010_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_1008_0_, nodes_reso1_.resourceType as resource2_1008_0_, nodes_reso1_.sequence as sequence1008_0_, nodes_reso1_.value as value1008_0_, nodes_reso1_1_.id_node as id1_1009_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
11:19:41,865 INFO  ~  4. HARDDISKS ATTACHED 
11:19:41,865 INFO  ~  Handler created :
11:19:42,516 INFO  ~ STARTING MONITORING ......
11:19:42,517 INFO  ~ SAVING DEPLOY INFORMATION ......
11:20:08,075 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
11:20:08,075 INFO  ~  CREATED VM : VirtualMachine [id=206, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_30104658-7273-44f6-868e-a84aa4200575, password=vmpassword, ram=128, uuid=30104658-7273-44f6-868e-a84aa4200575, vncAddress=null, vncPort=0]
11:20:08,169 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
11:20:08,169 INFO  ~ ------------------------- INSIDE getVMDetais()----------
11:20:08,170 INFO  ~  getVMDetais() params : vdc_id 159 vapp_id : 162 vm-id : 206
11:20:08,170 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_1012_, mkt_config0_.deploy_enterprise_id as deploy2_1012_, mkt_config0_.enterprise_name as enterprise3_1012_, mkt_config0_.mkt_branding_css as mkt4_1012_, mkt_config0_.mkt_branding_icon as mkt5_1012_, mkt_config0_.mkt_deploy_pw as mkt6_1012_, mkt_config0_.mkt_deploy_user as mkt7_1012_, mkt_config0_.mkt_theme_css as mkt8_1012_, mkt_config0_.mkt_url as mkt9_1012_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
11:20:08,171 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
11:20:08,171 INFO  ~  AbiquoUtils context set to :null
11:20:08,172 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
11:20:08,377 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
11:20:08,377 INFO  ~  CREATED VM : VirtualMachine [id=205, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_41e372a8-5e1a-4d3a-b85a-ae0d3deb01c1, password=vmpassword, ram=64, uuid=41e372a8-5e1a-4d3a-b85a-ae0d3deb01c1, vncAddress=null, vncPort=0]
11:20:08,430 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
11:20:08,430 INFO  ~ ------------------------- INSIDE getVMDetais()----------
11:20:08,430 INFO  ~  getVMDetais() params : vdc_id 159 vapp_id : 162 vm-id : 205
11:20:08,431 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_1012_, mkt_config0_.deploy_enterprise_id as deploy2_1012_, mkt_config0_.enterprise_name as enterprise3_1012_, mkt_config0_.mkt_branding_css as mkt4_1012_, mkt_config0_.mkt_branding_icon as mkt5_1012_, mkt_config0_.mkt_deploy_pw as mkt6_1012_, mkt_config0_.mkt_deploy_user as mkt7_1012_, mkt_config0_.mkt_theme_css as mkt8_1012_, mkt_config0_.mkt_url as mkt9_1012_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
11:20:08,431 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
11:20:08,431 INFO  ~  AbiquoUtils context set to :null
11:20:08,432 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
11:20:23,697 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
11:20:23,700 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, leasePeriod, serviceLevel, start) values (?, ?, ?, ?, ?)
11:20:23,701 DEBUG ~ /* insert models.OfferPurchased */ insert into User (user_id, id) values (?, ?)
11:20:23,701 DEBUG ~ /* insert models.OfferPurchased */ insert into Offer (offer_id, id) values (?, ?)
11:20:23,701 ERROR ~ Duplicate entry '1' for key 'PRIMARY'
11:20:23,702 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not insert: [models.OfferPurchased]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:466)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.ConstraintViolationException: could not insert: [models.OfferPurchased]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:96)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2454)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2854)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '1' for key 'PRIMARY'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1039)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2437)
	... 23 more
11:20:53,978 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
11:20:53,978 INFO  ~ CURRENT USER EMAIL ID: userent
11:20:53,978 DEBUG ~ /* load models.Offer */ select offer0_.id as id1002_0_, offer0_.datacenter as datacenter1002_0_, offer0_.defaultLeasePeriod as defaultL3_1002_0_, offer0_.defaultNetworkType as defaultN4_1002_0_, offer0_.defaultServiceLevel as defaultS5_1002_0_, offer0_.hypervisorType as hypervis6_1002_0_, offer0_.icon as icon1002_0_, offer0_.iconName as iconName1002_0_, offer0_.image as image1002_0_, offer0_.longDescription as longDes10_1002_0_, offer0_.name as name1002_0_, offer0_.price as price1002_0_, offer0_.serviceType as service13_1002_0_, offer0_.shortDescription as shortDe14_1002_0_, offer0_.state as state1002_0_, offer0_.virtualAppliance as virtual16_1002_0_, offer0_.virtualDatacenter as virtual17_1002_0_, offer0_.virtualDatacenterName as virtual18_1002_0_ from Offer offer0_ where offer0_.id=?
11:20:53,980 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
11:20:53,981 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1002_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_1010_0_, nodes1_.cpu as cpu1010_0_, nodes1_.description as descript3_1010_0_, nodes1_.hd as hd1010_0_, nodes1_.icon as icon1010_0_, nodes1_.idImage as idImage1010_0_, nodes1_.node_name as node7_1010_0_, nodes1_.ram as ram1010_0_, nodes1_1_.offer_id as offer1_1011_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
11:20:54,754 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
11:20:54,754 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
11:20:54,792 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
11:20:54,904 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
11:20:54,990 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
11:20:54,990 INFO  ~  vdcname : POR-userent-2012-09-10 11:20:54.99
11:20:55,097 INFO  ~  VDC to deploy: 
11:20:55,097 INFO  ~  Hypervisor to deploy: 
11:20:55,164 INFO  ~  Datacenter to deploy: 
11:20:55,164 INFO  ~  Network Built
11:20:55,164 INFO  ~ VDC built  
11:20:56,898 INFO  ~  1. VDC CREATED 
11:20:57,035 INFO  ~  2. VAPP CREATED 
11:20:57,035 INFO  ~ --------------------
11:20:57,035 DEBUG ~ /* load models.Offer */ select offer0_.id as id1002_0_, offer0_.datacenter as datacenter1002_0_, offer0_.defaultLeasePeriod as defaultL3_1002_0_, offer0_.defaultNetworkType as defaultN4_1002_0_, offer0_.defaultServiceLevel as defaultS5_1002_0_, offer0_.hypervisorType as hypervis6_1002_0_, offer0_.icon as icon1002_0_, offer0_.iconName as iconName1002_0_, offer0_.image as image1002_0_, offer0_.longDescription as longDes10_1002_0_, offer0_.name as name1002_0_, offer0_.price as price1002_0_, offer0_.serviceType as service13_1002_0_, offer0_.shortDescription as shortDe14_1002_0_, offer0_.state as state1002_0_, offer0_.virtualAppliance as virtual16_1002_0_, offer0_.virtualDatacenter as virtual17_1002_0_, offer0_.virtualDatacenterName as virtual18_1002_0_ from Offer offer0_ where offer0_.id=?
11:20:57,037 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
11:20:57,037 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.id=?
11:20:57,038 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
11:20:57,038 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1002_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_1010_0_, nodes1_.cpu as cpu1010_0_, nodes1_.description as descript3_1010_0_, nodes1_.hd as hd1010_0_, nodes1_.icon as icon1010_0_, nodes1_.idImage as idImage1010_0_, nodes1_.node_name as node7_1010_0_, nodes1_.ram as ram1010_0_, nodes1_1_.offer_id as offer1_1011_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
11:20:57,265 INFO  ~  3. VM CREATED
11:20:57,266 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_1010_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_1008_0_, nodes_reso1_.resourceType as resource2_1008_0_, nodes_reso1_.sequence as sequence1008_0_, nodes_reso1_.value as value1008_0_, nodes_reso1_1_.id_node as id1_1009_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
11:20:57,383 INFO  ~  4. HARDDISKS ATTACHED 
11:20:57,383 INFO  ~  Handler created :
11:20:57,884 INFO  ~ STARTING MONITORING ......
11:20:58,083 INFO  ~  3. VM CREATED
11:20:58,084 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_1010_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_1008_0_, nodes_reso1_.resourceType as resource2_1008_0_, nodes_reso1_.sequence as sequence1008_0_, nodes_reso1_.value as value1008_0_, nodes_reso1_1_.id_node as id1_1009_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
11:20:58,195 INFO  ~  4. HARDDISKS ATTACHED 
11:20:58,195 INFO  ~  Handler created :
11:20:58,733 INFO  ~ STARTING MONITORING ......
11:20:58,733 INFO  ~ SAVING DEPLOY INFORMATION ......
11:20:58,734 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
11:20:58,735 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, leasePeriod, serviceLevel, start) values (?, ?, ?, ?, ?)
11:20:58,736 DEBUG ~ /* insert models.OfferPurchased */ insert into User (user_id, id) values (?, ?)
11:20:58,736 DEBUG ~ /* insert models.OfferPurchased */ insert into Offer (offer_id, id) values (?, ?)
11:20:58,740 DEBUG ~ /* insert models.Deploy_Bundle */ insert into Deploy_Bundle (deploy_datacenter, deploy_hypervisorType, deploy_network, offerPurchased_id, vapp_id, vapp_name, vdc_name) values (?, ?, ?, ?, ?, ?, ?)
11:20:58,741 ERROR ~ Unknown column 'offerPurchased_id' in 'field list'
11:20:58,742 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not insert: [models.Deploy_Bundle]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert: [models.Deploy_Bundle]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:64)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2345)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2852)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:799)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:791)
	at org.hibernate.engine.EJB3CascadingAction$1.cascade(EJB3CascadingAction.java:48)
	at org.hibernate.engine.Cascade.cascadeToOne(Cascade.java:392)
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:335)
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:204)
	at org.hibernate.engine.Cascade.cascadeCollectionElements(Cascade.java:425)
	at org.hibernate.engine.Cascade.cascadeCollection(Cascade.java:362)
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:338)
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:204)
	at org.hibernate.engine.Cascade.cascade(Cascade.java:161)
	at org.hibernate.event.def.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:475)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:353)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerPurchased_id' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:94)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
	... 42 more
11:21:15,388 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:21:15,388 INFO  ~ Enterprie ID for current User 3
11:21:15,388 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:21:15,389 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:21:15,507 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:21:15,507 INFO  ~ Enterprie ID for current User 3
11:21:15,508 INFO  ~ CURRENT USER EMAIL ID: userent
11:21:15,508 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:21:15,509 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:21:15,509 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1003_, offerpurch0_.expiration as expiration1003_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1003_, offerpurch0_.leasePeriod as leasePer4_1003_, offerpurch0_.serviceLevel as serviceL5_1003_, offerpurch0_.start as start1003_, offerpurch0_1_.user_id as user1_1004_, offerpurch0_2_.offer_id as offer19_1002_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:21:15,509 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:21:15,509 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:21:15,529 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:21:15,529 INFO  ~  OfferID for icon 1
11:21:15,529 DEBUG ~ /* load models.Offer */ select offer0_.id as id1002_0_, offer0_.datacenter as datacenter1002_0_, offer0_.defaultLeasePeriod as defaultL3_1002_0_, offer0_.defaultNetworkType as defaultN4_1002_0_, offer0_.defaultServiceLevel as defaultS5_1002_0_, offer0_.hypervisorType as hypervis6_1002_0_, offer0_.icon as icon1002_0_, offer0_.iconName as iconName1002_0_, offer0_.image as image1002_0_, offer0_.longDescription as longDes10_1002_0_, offer0_.name as name1002_0_, offer0_.price as price1002_0_, offer0_.serviceType as service13_1002_0_, offer0_.shortDescription as shortDe14_1002_0_, offer0_.state as state1002_0_, offer0_.virtualAppliance as virtual16_1002_0_, offer0_.virtualDatacenter as virtual17_1002_0_, offer0_.virtualDatacenterName as virtual18_1002_0_ from Offer offer0_ where offer0_.id=?
11:21:15,530 INFO  ~ ------------------------- EXITING displayIcon()---------
11:21:16,308 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:21:16,308 INFO  ~ Enterprie ID for current User 3
11:21:16,308 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:21:16,310 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:21:16,422 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:21:16,422 INFO  ~ Enterprie ID for current User 3
11:21:16,422 INFO  ~ CURRENT USER EMAIL ID: userent
11:21:16,423 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:21:16,425 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:21:16,425 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1003_, offerpurch0_.expiration as expiration1003_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1003_, offerpurch0_.leasePeriod as leasePer4_1003_, offerpurch0_.serviceLevel as serviceL5_1003_, offerpurch0_.start as start1003_, offerpurch0_1_.user_id as user1_1004_, offerpurch0_2_.offer_id as offer19_1002_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:21:16,425 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:21:16,426 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:21:16,490 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:21:16,490 INFO  ~  OfferID for icon 1
11:21:16,490 DEBUG ~ /* load models.Offer */ select offer0_.id as id1002_0_, offer0_.datacenter as datacenter1002_0_, offer0_.defaultLeasePeriod as defaultL3_1002_0_, offer0_.defaultNetworkType as defaultN4_1002_0_, offer0_.defaultServiceLevel as defaultS5_1002_0_, offer0_.hypervisorType as hypervis6_1002_0_, offer0_.icon as icon1002_0_, offer0_.iconName as iconName1002_0_, offer0_.image as image1002_0_, offer0_.longDescription as longDes10_1002_0_, offer0_.name as name1002_0_, offer0_.price as price1002_0_, offer0_.serviceType as service13_1002_0_, offer0_.shortDescription as shortDe14_1002_0_, offer0_.state as state1002_0_, offer0_.virtualAppliance as virtual16_1002_0_, offer0_.virtualDatacenter as virtual17_1002_0_, offer0_.virtualDatacenterName as virtual18_1002_0_ from Offer offer0_ where offer0_.id=?
11:21:16,492 INFO  ~ ------------------------- EXITING displayIcon()---------
11:21:23,368 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
11:21:23,368 INFO  ~  CREATED VM : VirtualMachine [id=207, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_b26eda60-38f0-4eab-872f-ea6fe0d8d53e, password=vmpassword, ram=64, uuid=b26eda60-38f0-4eab-872f-ea6fe0d8d53e, vncAddress=null, vncPort=0]
11:21:23,407 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
11:21:23,407 INFO  ~ ------------------------- INSIDE getVMDetais()----------
11:21:23,407 INFO  ~  getVMDetais() params : vdc_id 160 vapp_id : 163 vm-id : 207
11:21:23,407 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_1012_, mkt_config0_.deploy_enterprise_id as deploy2_1012_, mkt_config0_.enterprise_name as enterprise3_1012_, mkt_config0_.mkt_branding_css as mkt4_1012_, mkt_config0_.mkt_branding_icon as mkt5_1012_, mkt_config0_.mkt_deploy_pw as mkt6_1012_, mkt_config0_.mkt_deploy_user as mkt7_1012_, mkt_config0_.mkt_theme_css as mkt8_1012_, mkt_config0_.mkt_url as mkt9_1012_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
11:21:23,408 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
11:21:23,408 INFO  ~  AbiquoUtils context set to :null
11:21:23,409 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
11:21:24,052 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
11:21:24,052 INFO  ~  CREATED VM : VirtualMachine [id=208, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_45bb60c7-b687-40e4-b6e6-5bae7adfe89b, password=vmpassword, ram=128, uuid=45bb60c7-b687-40e4-b6e6-5bae7adfe89b, vncAddress=null, vncPort=0]
11:21:24,087 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
11:21:24,087 INFO  ~ ------------------------- INSIDE getVMDetais()----------
11:21:24,087 INFO  ~  getVMDetais() params : vdc_id 160 vapp_id : 163 vm-id : 208
11:21:24,088 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_1012_, mkt_config0_.deploy_enterprise_id as deploy2_1012_, mkt_config0_.enterprise_name as enterprise3_1012_, mkt_config0_.mkt_branding_css as mkt4_1012_, mkt_config0_.mkt_branding_icon as mkt5_1012_, mkt_config0_.mkt_deploy_pw as mkt6_1012_, mkt_config0_.mkt_deploy_user as mkt7_1012_, mkt_config0_.mkt_theme_css as mkt8_1012_, mkt_config0_.mkt_url as mkt9_1012_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
11:21:24,088 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
11:21:24,088 INFO  ~  AbiquoUtils context set to :null
11:21:24,089 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
11:23:24,216 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
11:23:24,256 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:23:24,602 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:23:24,795 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.id=?
11:23:24,797 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.id=?
11:23:24,847 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.id=?
11:23:24,907 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:23:24,907 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1003_, offerpurch0_.expiration as expiration1003_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1003_, offerpurch0_.leasePeriod as leasePer4_1003_, offerpurch0_.serviceLevel as serviceL5_1003_, offerpurch0_.start as start1003_, offerpurch0_1_.user_id as user1_1004_, offerpurch0_2_.offer_id as offer19_1002_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:23:24,907 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:23:24,907 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:23:24,908 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:23:24,909 INFO  ~ resultSet1 size :1
11:23:24,909 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:23:24,909 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@1e86486b , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
11:23:24,909 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:23:24,933 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:23:24,933 INFO  ~  OfferID for icon 1
11:23:24,933 DEBUG ~ /* load models.Offer */ select offer0_.id as id1002_0_, offer0_.datacenter as datacenter1002_0_, offer0_.defaultLeasePeriod as defaultL3_1002_0_, offer0_.defaultNetworkType as defaultN4_1002_0_, offer0_.defaultServiceLevel as defaultS5_1002_0_, offer0_.hypervisorType as hypervis6_1002_0_, offer0_.icon as icon1002_0_, offer0_.iconName as iconName1002_0_, offer0_.image as image1002_0_, offer0_.longDescription as longDes10_1002_0_, offer0_.name as name1002_0_, offer0_.price as price1002_0_, offer0_.serviceType as service13_1002_0_, offer0_.shortDescription as shortDe14_1002_0_, offer0_.state as state1002_0_, offer0_.virtualAppliance as virtual16_1002_0_, offer0_.virtualDatacenter as virtual17_1002_0_, offer0_.virtualDatacenterName as virtual18_1002_0_ from Offer offer0_ where offer0_.id=?
11:23:24,934 INFO  ~ ------------------------- EXITING displayIcon()---------
11:23:32,711 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:23:32,711 INFO  ~ Enterprie ID for current User 3
11:23:32,712 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:23:32,714 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:23:32,837 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:23:32,837 INFO  ~ Enterprie ID for current User 3
11:23:32,837 INFO  ~ CURRENT USER EMAIL ID: userent
11:23:32,837 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:23:32,838 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:23:32,838 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1003_, offerpurch0_.expiration as expiration1003_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1003_, offerpurch0_.leasePeriod as leasePer4_1003_, offerpurch0_.serviceLevel as serviceL5_1003_, offerpurch0_.start as start1003_, offerpurch0_1_.user_id as user1_1004_, offerpurch0_2_.offer_id as offer19_1002_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:23:32,839 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:23:32,839 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:23:32,857 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:23:32,857 INFO  ~  OfferID for icon 1
11:23:32,857 DEBUG ~ /* load models.Offer */ select offer0_.id as id1002_0_, offer0_.datacenter as datacenter1002_0_, offer0_.defaultLeasePeriod as defaultL3_1002_0_, offer0_.defaultNetworkType as defaultN4_1002_0_, offer0_.defaultServiceLevel as defaultS5_1002_0_, offer0_.hypervisorType as hypervis6_1002_0_, offer0_.icon as icon1002_0_, offer0_.iconName as iconName1002_0_, offer0_.image as image1002_0_, offer0_.longDescription as longDes10_1002_0_, offer0_.name as name1002_0_, offer0_.price as price1002_0_, offer0_.serviceType as service13_1002_0_, offer0_.shortDescription as shortDe14_1002_0_, offer0_.state as state1002_0_, offer0_.virtualAppliance as virtual16_1002_0_, offer0_.virtualDatacenter as virtual17_1002_0_, offer0_.virtualDatacenterName as virtual18_1002_0_ from Offer offer0_ where offer0_.id=?
11:23:32,859 INFO  ~ ------------------------- EXITING displayIcon()---------
11:23:34,283 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
11:23:34,284 INFO  ~ CURRENT USER EMAIL ID: userent
11:23:34,284 DEBUG ~ /* load models.Offer */ select offer0_.id as id1002_0_, offer0_.datacenter as datacenter1002_0_, offer0_.defaultLeasePeriod as defaultL3_1002_0_, offer0_.defaultNetworkType as defaultN4_1002_0_, offer0_.defaultServiceLevel as defaultS5_1002_0_, offer0_.hypervisorType as hypervis6_1002_0_, offer0_.icon as icon1002_0_, offer0_.iconName as iconName1002_0_, offer0_.image as image1002_0_, offer0_.longDescription as longDes10_1002_0_, offer0_.name as name1002_0_, offer0_.price as price1002_0_, offer0_.serviceType as service13_1002_0_, offer0_.shortDescription as shortDe14_1002_0_, offer0_.state as state1002_0_, offer0_.virtualAppliance as virtual16_1002_0_, offer0_.virtualDatacenter as virtual17_1002_0_, offer0_.virtualDatacenterName as virtual18_1002_0_ from Offer offer0_ where offer0_.id=?
11:23:34,285 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
11:23:34,286 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1002_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_1010_0_, nodes1_.cpu as cpu1010_0_, nodes1_.description as descript3_1010_0_, nodes1_.hd as hd1010_0_, nodes1_.icon as icon1010_0_, nodes1_.idImage as idImage1010_0_, nodes1_.node_name as node7_1010_0_, nodes1_.ram as ram1010_0_, nodes1_1_.offer_id as offer1_1011_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
11:23:44,866 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
11:23:44,866 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
11:23:44,908 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
11:23:45,007 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
11:23:45,570 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
11:23:45,570 INFO  ~  vdcname : POR-userent-2012-09-10 11:23:45.57
11:23:45,658 INFO  ~  VDC to deploy: 
11:23:45,658 INFO  ~  Hypervisor to deploy: 
11:23:45,726 INFO  ~  Datacenter to deploy: 
11:23:45,726 INFO  ~  Network Built
11:23:45,726 INFO  ~ VDC built  
11:23:47,509 INFO  ~  1. VDC CREATED 
11:23:47,659 INFO  ~  2. VAPP CREATED 
11:23:47,659 INFO  ~ --------------------
11:23:48,330 DEBUG ~ /* load models.Offer */ select offer0_.id as id1002_0_, offer0_.datacenter as datacenter1002_0_, offer0_.defaultLeasePeriod as defaultL3_1002_0_, offer0_.defaultNetworkType as defaultN4_1002_0_, offer0_.defaultServiceLevel as defaultS5_1002_0_, offer0_.hypervisorType as hypervis6_1002_0_, offer0_.icon as icon1002_0_, offer0_.iconName as iconName1002_0_, offer0_.image as image1002_0_, offer0_.longDescription as longDes10_1002_0_, offer0_.name as name1002_0_, offer0_.price as price1002_0_, offer0_.serviceType as service13_1002_0_, offer0_.shortDescription as shortDe14_1002_0_, offer0_.state as state1002_0_, offer0_.virtualAppliance as virtual16_1002_0_, offer0_.virtualDatacenter as virtual17_1002_0_, offer0_.virtualDatacenterName as virtual18_1002_0_ from Offer offer0_ where offer0_.id=?
11:23:49,131 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
11:23:49,131 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1002_, offer0_.datacenter as datacenter1002_, offer0_.defaultLeasePeriod as defaultL3_1002_, offer0_.defaultNetworkType as defaultN4_1002_, offer0_.defaultServiceLevel as defaultS5_1002_, offer0_.hypervisorType as hypervis6_1002_, offer0_.icon as icon1002_, offer0_.iconName as iconName1002_, offer0_.image as image1002_, offer0_.longDescription as longDes10_1002_, offer0_.name as name1002_, offer0_.price as price1002_, offer0_.serviceType as service13_1002_, offer0_.shortDescription as shortDe14_1002_, offer0_.state as state1002_, offer0_.virtualAppliance as virtual16_1002_, offer0_.virtualDatacenter as virtual17_1002_, offer0_.virtualDatacenterName as virtual18_1002_ from Offer offer0_ where offer0_.id=?
11:23:49,132 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
11:23:49,132 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1002_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_1010_0_, nodes1_.cpu as cpu1010_0_, nodes1_.description as descript3_1010_0_, nodes1_.hd as hd1010_0_, nodes1_.icon as icon1010_0_, nodes1_.idImage as idImage1010_0_, nodes1_.node_name as node7_1010_0_, nodes1_.ram as ram1010_0_, nodes1_1_.offer_id as offer1_1011_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
11:23:49,348 INFO  ~  3. VM CREATED
11:23:54,194 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_1010_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_1008_0_, nodes_reso1_.resourceType as resource2_1008_0_, nodes_reso1_.sequence as sequence1008_0_, nodes_reso1_.value as value1008_0_, nodes_reso1_1_.id_node as id1_1009_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
11:23:54,294 INFO  ~  4. HARDDISKS ATTACHED 
11:23:54,294 INFO  ~  Handler created :
11:23:55,885 INFO  ~ STARTING MONITORING ......
11:23:57,023 INFO  ~  3. VM CREATED
11:23:59,787 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_1010_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_1008_0_, nodes_reso1_.resourceType as resource2_1008_0_, nodes_reso1_.sequence as sequence1008_0_, nodes_reso1_.value as value1008_0_, nodes_reso1_1_.id_node as id1_1009_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
11:23:59,904 INFO  ~  4. HARDDISKS ATTACHED 
11:23:59,904 INFO  ~  Handler created :
11:24:00,328 INFO  ~ STARTING MONITORING ......
11:24:00,329 INFO  ~ SAVING DEPLOY INFORMATION ......
11:24:09,813 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
11:24:09,827 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, leasePeriod, serviceLevel, start) values (?, ?, ?, ?, ?)
11:24:09,831 DEBUG ~ /* insert models.OfferPurchased */ insert into User (user_id, id) values (?, ?)
11:24:09,833 DEBUG ~ /* insert models.OfferPurchased */ insert into Offer (offer_id, id) values (?, ?)
11:24:09,853 DEBUG ~ /* insert models.Deploy_Bundle */ insert into Deploy_Bundle (deploy_datacenter, deploy_hypervisorType, deploy_network, offerPurchased_id, vapp_id, vapp_name, vdc_name) values (?, ?, ?, ?, ?, ?, ?)
11:24:09,859 ERROR ~ Unknown column 'offerPurchased_id' in 'field list'
11:24:25,805 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
11:24:25,805 INFO  ~  CREATED VM : VirtualMachine [id=210, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_27c86b64-f4b6-4d7b-ab44-c8d0d75b5e8a, password=vmpassword, ram=128, uuid=27c86b64-f4b6-4d7b-ab44-c8d0d75b5e8a, vncAddress=null, vncPort=0]
11:24:25,885 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
11:24:25,885 INFO  ~ ------------------------- INSIDE getVMDetais()----------
11:24:25,885 INFO  ~  getVMDetais() params : vdc_id 161 vapp_id : 164 vm-id : 210
11:24:25,885 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_1012_, mkt_config0_.deploy_enterprise_id as deploy2_1012_, mkt_config0_.enterprise_name as enterprise3_1012_, mkt_config0_.mkt_branding_css as mkt4_1012_, mkt_config0_.mkt_branding_icon as mkt5_1012_, mkt_config0_.mkt_deploy_pw as mkt6_1012_, mkt_config0_.mkt_deploy_user as mkt7_1012_, mkt_config0_.mkt_theme_css as mkt8_1012_, mkt_config0_.mkt_url as mkt9_1012_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
11:24:25,886 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
11:24:25,886 INFO  ~  AbiquoUtils context set to :null
11:24:25,886 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
11:24:26,495 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
11:24:26,496 INFO  ~  CREATED VM : VirtualMachine [id=209, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_245b974e-7460-424a-98fe-1fc33f5484de, password=vmpassword, ram=64, uuid=245b974e-7460-424a-98fe-1fc33f5484de, vncAddress=null, vncPort=0]
11:24:26,575 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
11:24:26,575 INFO  ~ ------------------------- INSIDE getVMDetais()----------
11:24:26,575 INFO  ~  getVMDetais() params : vdc_id 161 vapp_id : 164 vm-id : 209
11:24:26,576 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_1012_, mkt_config0_.deploy_enterprise_id as deploy2_1012_, mkt_config0_.enterprise_name as enterprise3_1012_, mkt_config0_.mkt_branding_css as mkt4_1012_, mkt_config0_.mkt_branding_icon as mkt5_1012_, mkt_config0_.mkt_deploy_pw as mkt6_1012_, mkt_config0_.mkt_deploy_user as mkt7_1012_, mkt_config0_.mkt_theme_css as mkt8_1012_, mkt_config0_.mkt_url as mkt9_1012_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
11:24:26,576 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
11:24:26,576 INFO  ~  AbiquoUtils context set to :null
11:24:26,577 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
11:29:29,037 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not insert: [models.Deploy_Bundle]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert: [models.Deploy_Bundle]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:64)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2345)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2852)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:799)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:791)
	at org.hibernate.engine.EJB3CascadingAction$1.cascade(EJB3CascadingAction.java:48)
	at org.hibernate.engine.Cascade.cascadeToOne(Cascade.java:392)
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:335)
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:204)
	at org.hibernate.engine.Cascade.cascadeCollectionElements(Cascade.java:425)
	at org.hibernate.engine.Cascade.cascadeCollection(Cascade.java:362)
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:338)
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:204)
	at org.hibernate.engine.Cascade.cascade(Cascade.java:161)
	at org.hibernate.event.def.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:475)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:353)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerPurchased_id' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:94)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
	... 42 more
11:30:07,516 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:30:07,516 ERROR ~ Table 'Deploy_Bundle' already exists
11:30:08,153 ERROR ~ Unsuccessful: create table Offer (id integer not null, datacenter integer, defaultLeasePeriod varchar(255), defaultNetworkType varchar(45), defaultServiceLevel varchar(255), hypervisorType varchar(255), icon varchar(255), iconName varchar(255), image varchar(255), longDescription varchar(255), name varchar(255), price varchar(255), serviceType varchar(40), shortDescription varchar(30), state varchar(255), virtualAppliance integer, virtualDatacenter integer, virtualDatacenterName varchar(255), offer_id integer, primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:30:08,154 ERROR ~ Table 'Offer' already exists
11:30:09,076 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
11:30:09,077 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
11:30:09,999 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C7D217396 (offer_id), add constraint FK4892A3C7D217396 foreign key (offer_id) references Offer (id)
11:30:09,999 ERROR ~ Duplicate key name 'FK4892A3C7D217396'
11:30:10,099 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
11:30:10,099 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
11:30:13,112 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
11:30:13,145 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:30:13,504 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:30:13,705 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1026_, offer0_.datacenter as datacenter1026_, offer0_.defaultLeasePeriod as defaultL3_1026_, offer0_.defaultNetworkType as defaultN4_1026_, offer0_.defaultServiceLevel as defaultS5_1026_, offer0_.hypervisorType as hypervis6_1026_, offer0_.icon as icon1026_, offer0_.iconName as iconName1026_, offer0_.image as image1026_, offer0_.longDescription as longDes10_1026_, offer0_.name as name1026_, offer0_.price as price1026_, offer0_.serviceType as service13_1026_, offer0_.shortDescription as shortDe14_1026_, offer0_.state as state1026_, offer0_.virtualAppliance as virtual16_1026_, offer0_.virtualDatacenter as virtual17_1026_, offer0_.virtualDatacenterName as virtual18_1026_ from Offer offer0_ where offer0_.id=?
11:30:13,707 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1026_, offer0_.datacenter as datacenter1026_, offer0_.defaultLeasePeriod as defaultL3_1026_, offer0_.defaultNetworkType as defaultN4_1026_, offer0_.defaultServiceLevel as defaultS5_1026_, offer0_.hypervisorType as hypervis6_1026_, offer0_.icon as icon1026_, offer0_.iconName as iconName1026_, offer0_.image as image1026_, offer0_.longDescription as longDes10_1026_, offer0_.name as name1026_, offer0_.price as price1026_, offer0_.serviceType as service13_1026_, offer0_.shortDescription as shortDe14_1026_, offer0_.state as state1026_, offer0_.virtualAppliance as virtual16_1026_, offer0_.virtualDatacenter as virtual17_1026_, offer0_.virtualDatacenterName as virtual18_1026_ from Offer offer0_ where offer0_.id=?
11:30:13,760 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1026_, offer0_.datacenter as datacenter1026_, offer0_.defaultLeasePeriod as defaultL3_1026_, offer0_.defaultNetworkType as defaultN4_1026_, offer0_.defaultServiceLevel as defaultS5_1026_, offer0_.hypervisorType as hypervis6_1026_, offer0_.icon as icon1026_, offer0_.iconName as iconName1026_, offer0_.image as image1026_, offer0_.longDescription as longDes10_1026_, offer0_.name as name1026_, offer0_.price as price1026_, offer0_.serviceType as service13_1026_, offer0_.shortDescription as shortDe14_1026_, offer0_.state as state1026_, offer0_.virtualAppliance as virtual16_1026_, offer0_.virtualDatacenter as virtual17_1026_, offer0_.virtualDatacenterName as virtual18_1026_ from Offer offer0_ where offer0_.id=?
11:30:13,842 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:30:13,843 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1027_, offerpurch0_.expiration as expiration1027_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1027_, offerpurch0_.leasePeriod as leasePer4_1027_, offerpurch0_.serviceLevel as serviceL5_1027_, offerpurch0_.start as start1027_, offerpurch0_1_.user_id as user1_1028_, offerpurch0_2_.offer_id as offer19_1026_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:30:13,844 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:30:13,844 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:30:13,844 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1026_, offer0_.datacenter as datacenter1026_, offer0_.defaultLeasePeriod as defaultL3_1026_, offer0_.defaultNetworkType as defaultN4_1026_, offer0_.defaultServiceLevel as defaultS5_1026_, offer0_.hypervisorType as hypervis6_1026_, offer0_.icon as icon1026_, offer0_.iconName as iconName1026_, offer0_.image as image1026_, offer0_.longDescription as longDes10_1026_, offer0_.name as name1026_, offer0_.price as price1026_, offer0_.serviceType as service13_1026_, offer0_.shortDescription as shortDe14_1026_, offer0_.state as state1026_, offer0_.virtualAppliance as virtual16_1026_, offer0_.virtualDatacenter as virtual17_1026_, offer0_.virtualDatacenterName as virtual18_1026_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:30:13,845 INFO  ~ resultSet1 size :1
11:30:13,845 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:30:13,845 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@7dd334a , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
11:30:13,845 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:30:13,878 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:30:13,878 INFO  ~  OfferID for icon 1
11:30:13,879 DEBUG ~ /* load models.Offer */ select offer0_.id as id1026_0_, offer0_.datacenter as datacenter1026_0_, offer0_.defaultLeasePeriod as defaultL3_1026_0_, offer0_.defaultNetworkType as defaultN4_1026_0_, offer0_.defaultServiceLevel as defaultS5_1026_0_, offer0_.hypervisorType as hypervis6_1026_0_, offer0_.icon as icon1026_0_, offer0_.iconName as iconName1026_0_, offer0_.image as image1026_0_, offer0_.longDescription as longDes10_1026_0_, offer0_.name as name1026_0_, offer0_.price as price1026_0_, offer0_.serviceType as service13_1026_0_, offer0_.shortDescription as shortDe14_1026_0_, offer0_.state as state1026_0_, offer0_.virtualAppliance as virtual16_1026_0_, offer0_.virtualDatacenter as virtual17_1026_0_, offer0_.virtualDatacenterName as virtual18_1026_0_ from Offer offer0_ where offer0_.id=?
11:30:13,880 INFO  ~ ------------------------- EXITING displayIcon()---------
11:30:16,068 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:30:16,250 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1026_, offer0_.datacenter as datacenter1026_, offer0_.defaultLeasePeriod as defaultL3_1026_, offer0_.defaultNetworkType as defaultN4_1026_, offer0_.defaultServiceLevel as defaultS5_1026_, offer0_.hypervisorType as hypervis6_1026_, offer0_.icon as icon1026_, offer0_.iconName as iconName1026_, offer0_.image as image1026_, offer0_.longDescription as longDes10_1026_, offer0_.name as name1026_, offer0_.price as price1026_, offer0_.serviceType as service13_1026_, offer0_.shortDescription as shortDe14_1026_, offer0_.state as state1026_, offer0_.virtualAppliance as virtual16_1026_, offer0_.virtualDatacenter as virtual17_1026_, offer0_.virtualDatacenterName as virtual18_1026_ from Offer offer0_ where offer0_.id=?
11:30:16,319 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:30:16,319 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1027_, offerpurch0_.expiration as expiration1027_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1027_, offerpurch0_.leasePeriod as leasePer4_1027_, offerpurch0_.serviceLevel as serviceL5_1027_, offerpurch0_.start as start1027_, offerpurch0_1_.user_id as user1_1028_, offerpurch0_2_.offer_id as offer19_1026_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:30:16,320 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:30:16,320 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:30:16,320 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1026_, offer0_.datacenter as datacenter1026_, offer0_.defaultLeasePeriod as defaultL3_1026_, offer0_.defaultNetworkType as defaultN4_1026_, offer0_.defaultServiceLevel as defaultS5_1026_, offer0_.hypervisorType as hypervis6_1026_, offer0_.icon as icon1026_, offer0_.iconName as iconName1026_, offer0_.image as image1026_, offer0_.longDescription as longDes10_1026_, offer0_.name as name1026_, offer0_.price as price1026_, offer0_.serviceType as service13_1026_, offer0_.shortDescription as shortDe14_1026_, offer0_.state as state1026_, offer0_.virtualAppliance as virtual16_1026_, offer0_.virtualDatacenter as virtual17_1026_, offer0_.virtualDatacenterName as virtual18_1026_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:30:16,320 INFO  ~ resultSet1 size :0
11:30:16,321 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:30:16,321 INFO  ~  resultSet1 size []
11:30:16,321 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:30:22,703 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:30:22,703 INFO  ~ Enterprie ID for current User 3
11:30:22,703 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1026_, offer0_.datacenter as datacenter1026_, offer0_.defaultLeasePeriod as defaultL3_1026_, offer0_.defaultNetworkType as defaultN4_1026_, offer0_.defaultServiceLevel as defaultS5_1026_, offer0_.hypervisorType as hypervis6_1026_, offer0_.icon as icon1026_, offer0_.iconName as iconName1026_, offer0_.image as image1026_, offer0_.longDescription as longDes10_1026_, offer0_.name as name1026_, offer0_.price as price1026_, offer0_.serviceType as service13_1026_, offer0_.shortDescription as shortDe14_1026_, offer0_.state as state1026_, offer0_.virtualAppliance as virtual16_1026_, offer0_.virtualDatacenter as virtual17_1026_, offer0_.virtualDatacenterName as virtual18_1026_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:30:22,704 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:30:22,850 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:30:22,850 INFO  ~ Enterprie ID for current User 3
11:30:22,850 INFO  ~ CURRENT USER EMAIL ID: userent
11:30:22,851 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1026_, offer0_.datacenter as datacenter1026_, offer0_.defaultLeasePeriod as defaultL3_1026_, offer0_.defaultNetworkType as defaultN4_1026_, offer0_.defaultServiceLevel as defaultS5_1026_, offer0_.hypervisorType as hypervis6_1026_, offer0_.icon as icon1026_, offer0_.iconName as iconName1026_, offer0_.image as image1026_, offer0_.longDescription as longDes10_1026_, offer0_.name as name1026_, offer0_.price as price1026_, offer0_.serviceType as service13_1026_, offer0_.shortDescription as shortDe14_1026_, offer0_.state as state1026_, offer0_.virtualAppliance as virtual16_1026_, offer0_.virtualDatacenter as virtual17_1026_, offer0_.virtualDatacenterName as virtual18_1026_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:30:22,852 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:30:22,853 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1027_, offerpurch0_.expiration as expiration1027_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1027_, offerpurch0_.leasePeriod as leasePer4_1027_, offerpurch0_.serviceLevel as serviceL5_1027_, offerpurch0_.start as start1027_, offerpurch0_1_.user_id as user1_1028_, offerpurch0_2_.offer_id as offer19_1026_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:30:22,853 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:30:22,853 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:30:22,883 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:30:22,883 INFO  ~  OfferID for icon 1
11:30:22,883 DEBUG ~ /* load models.Offer */ select offer0_.id as id1026_0_, offer0_.datacenter as datacenter1026_0_, offer0_.defaultLeasePeriod as defaultL3_1026_0_, offer0_.defaultNetworkType as defaultN4_1026_0_, offer0_.defaultServiceLevel as defaultS5_1026_0_, offer0_.hypervisorType as hypervis6_1026_0_, offer0_.icon as icon1026_0_, offer0_.iconName as iconName1026_0_, offer0_.image as image1026_0_, offer0_.longDescription as longDes10_1026_0_, offer0_.name as name1026_0_, offer0_.price as price1026_0_, offer0_.serviceType as service13_1026_0_, offer0_.shortDescription as shortDe14_1026_0_, offer0_.state as state1026_0_, offer0_.virtualAppliance as virtual16_1026_0_, offer0_.virtualDatacenter as virtual17_1026_0_, offer0_.virtualDatacenterName as virtual18_1026_0_ from Offer offer0_ where offer0_.id=?
11:30:22,884 INFO  ~ ------------------------- EXITING displayIcon()---------
11:30:24,234 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
11:30:24,234 INFO  ~ CURRENT USER EMAIL ID: userent
11:30:24,234 DEBUG ~ /* load models.Offer */ select offer0_.id as id1026_0_, offer0_.datacenter as datacenter1026_0_, offer0_.defaultLeasePeriod as defaultL3_1026_0_, offer0_.defaultNetworkType as defaultN4_1026_0_, offer0_.defaultServiceLevel as defaultS5_1026_0_, offer0_.hypervisorType as hypervis6_1026_0_, offer0_.icon as icon1026_0_, offer0_.iconName as iconName1026_0_, offer0_.image as image1026_0_, offer0_.longDescription as longDes10_1026_0_, offer0_.name as name1026_0_, offer0_.price as price1026_0_, offer0_.serviceType as service13_1026_0_, offer0_.shortDescription as shortDe14_1026_0_, offer0_.state as state1026_0_, offer0_.virtualAppliance as virtual16_1026_0_, offer0_.virtualDatacenter as virtual17_1026_0_, offer0_.virtualDatacenterName as virtual18_1026_0_ from Offer offer0_ where offer0_.id=?
11:30:24,236 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
11:30:24,247 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.id as id1026_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_1034_0_, nodes1_.cpu as cpu1034_0_, nodes1_.description as descript3_1034_0_, nodes1_.hd as hd1034_0_, nodes1_.icon as icon1034_0_, nodes1_.idImage as idImage1034_0_, nodes1_.node_name as node7_1034_0_, nodes1_.ram as ram1034_0_, nodes1_1_.id as id1035_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.id=?
11:30:31,128 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
11:30:31,128 INFO  ~ CURRENT USER EMAIL ID: userent
11:30:31,128 DEBUG ~ /* load models.Offer */ select offer0_.id as id1026_0_, offer0_.datacenter as datacenter1026_0_, offer0_.defaultLeasePeriod as defaultL3_1026_0_, offer0_.defaultNetworkType as defaultN4_1026_0_, offer0_.defaultServiceLevel as defaultS5_1026_0_, offer0_.hypervisorType as hypervis6_1026_0_, offer0_.icon as icon1026_0_, offer0_.iconName as iconName1026_0_, offer0_.image as image1026_0_, offer0_.longDescription as longDes10_1026_0_, offer0_.name as name1026_0_, offer0_.price as price1026_0_, offer0_.serviceType as service13_1026_0_, offer0_.shortDescription as shortDe14_1026_0_, offer0_.state as state1026_0_, offer0_.virtualAppliance as virtual16_1026_0_, offer0_.virtualDatacenter as virtual17_1026_0_, offer0_.virtualDatacenterName as virtual18_1026_0_ from Offer offer0_ where offer0_.id=?
11:30:31,129 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
11:30:31,130 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.id as id1026_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_1034_0_, nodes1_.cpu as cpu1034_0_, nodes1_.description as descript3_1034_0_, nodes1_.hd as hd1034_0_, nodes1_.icon as icon1034_0_, nodes1_.idImage as idImage1034_0_, nodes1_.node_name as node7_1034_0_, nodes1_.ram as ram1034_0_, nodes1_1_.id as id1035_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.id=?
11:31:33,128 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:31:33,128 ERROR ~ Table 'Deploy_Bundle' already exists
11:31:35,325 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
11:31:35,325 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
11:31:37,042 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C119C7219 (offer_offer_id), add constraint FK4892A3C119C7219 foreign key (offer_offer_id) references Offer (id)
11:31:37,042 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
11:31:37,562 ERROR ~ Unsuccessful: alter table Offer_Node add index FK8063B6457D217396 (offer_id), add constraint FK8063B6457D217396 foreign key (offer_id) references Offer (id)
11:31:37,562 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
11:31:37,654 ERROR ~ Unsuccessful: alter table Offer_Node add index FK8063B645AAF096D3 (id), add constraint FK8063B645AAF096D3 foreign key (id) references Offer (id)
11:31:37,654 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
11:31:38,406 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:31:38,406 INFO  ~ Enterprie ID for current User 3
11:31:38,406 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.offer_id as offer1_1050_, offer0_.datacenter as datacenter1050_, offer0_.defaultLeasePeriod as defaultL3_1050_, offer0_.defaultNetworkType as defaultN4_1050_, offer0_.defaultServiceLevel as defaultS5_1050_, offer0_.hypervisorType as hypervis6_1050_, offer0_.icon as icon1050_, offer0_.iconName as iconName1050_, offer0_.image as image1050_, offer0_.longDescription as longDes10_1050_, offer0_.name as name1050_, offer0_.price as price1050_, offer0_.serviceType as service13_1050_, offer0_.shortDescription as shortDe14_1050_, offer0_.state as state1050_, offer0_.virtualAppliance as virtual16_1050_, offer0_.virtualDatacenter as virtual17_1050_, offer0_.virtualDatacenterName as virtual18_1050_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:31:38,407 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:31:38,525 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:31:38,525 INFO  ~ Enterprie ID for current User 3
11:31:38,525 INFO  ~ CURRENT USER EMAIL ID: userent
11:31:38,525 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.offer_id as offer1_1050_, offer0_.datacenter as datacenter1050_, offer0_.defaultLeasePeriod as defaultL3_1050_, offer0_.defaultNetworkType as defaultN4_1050_, offer0_.defaultServiceLevel as defaultS5_1050_, offer0_.hypervisorType as hypervis6_1050_, offer0_.icon as icon1050_, offer0_.iconName as iconName1050_, offer0_.image as image1050_, offer0_.longDescription as longDes10_1050_, offer0_.name as name1050_, offer0_.price as price1050_, offer0_.serviceType as service13_1050_, offer0_.shortDescription as shortDe14_1050_, offer0_.state as state1050_, offer0_.virtualAppliance as virtual16_1050_, offer0_.virtualDatacenter as virtual17_1050_, offer0_.virtualDatacenterName as virtual18_1050_ from Offer offer0_ where offer0_.state=? order by offer0_.offer_id asc
11:31:38,526 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:31:38,526 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1051_, offerpurch0_.expiration as expiration1051_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1051_, offerpurch0_.leasePeriod as leasePer4_1051_, offerpurch0_.serviceLevel as serviceL5_1051_, offerpurch0_.start as start1051_, offerpurch0_1_.user_id as user1_1052_, offerpurch0_2_.offer_offer_id as offer19_1050_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:31:38,526 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:31:38,526 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:32:26,551 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:32:26,551 ERROR ~ Table 'Deploy_Bundle' already exists
11:32:28,753 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
11:32:28,753 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
11:32:30,045 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C119C7219 (offer_offer_id), add constraint FK4892A3C119C7219 foreign key (offer_offer_id) references Offer (id)
11:32:30,045 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
11:32:30,582 ERROR ~ Unsuccessful: alter table Offer_Node add index FK8063B6457D217396 (offer_id), add constraint FK8063B6457D217396 foreign key (offer_id) references Offer (id)
11:32:30,582 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
11:32:32,640 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
11:32:32,673 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:32:33,067 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:32:33,247 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.offer_id as offer1_1074_, offer0_.datacenter as datacenter1074_, offer0_.defaultLeasePeriod as defaultL3_1074_, offer0_.defaultNetworkType as defaultN4_1074_, offer0_.defaultServiceLevel as defaultS5_1074_, offer0_.hypervisorType as hypervis6_1074_, offer0_.icon as icon1074_, offer0_.iconName as iconName1074_, offer0_.image as image1074_, offer0_.longDescription as longDes10_1074_, offer0_.name as name1074_, offer0_.price as price1074_, offer0_.serviceType as service13_1074_, offer0_.shortDescription as shortDe14_1074_, offer0_.state as state1074_, offer0_.virtualAppliance as virtual16_1074_, offer0_.virtualDatacenter as virtual17_1074_, offer0_.virtualDatacenterName as virtual18_1074_ from Offer offer0_ where offer0_.offer_id=?
11:32:33,315 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.offer_id as offer1_1074_, offer0_.datacenter as datacenter1074_, offer0_.defaultLeasePeriod as defaultL3_1074_, offer0_.defaultNetworkType as defaultN4_1074_, offer0_.defaultServiceLevel as defaultS5_1074_, offer0_.hypervisorType as hypervis6_1074_, offer0_.icon as icon1074_, offer0_.iconName as iconName1074_, offer0_.image as image1074_, offer0_.longDescription as longDes10_1074_, offer0_.name as name1074_, offer0_.price as price1074_, offer0_.serviceType as service13_1074_, offer0_.shortDescription as shortDe14_1074_, offer0_.state as state1074_, offer0_.virtualAppliance as virtual16_1074_, offer0_.virtualDatacenter as virtual17_1074_, offer0_.virtualDatacenterName as virtual18_1074_ from Offer offer0_ where offer0_.offer_id=?
11:32:33,361 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.offer_id as offer1_1074_, offer0_.datacenter as datacenter1074_, offer0_.defaultLeasePeriod as defaultL3_1074_, offer0_.defaultNetworkType as defaultN4_1074_, offer0_.defaultServiceLevel as defaultS5_1074_, offer0_.hypervisorType as hypervis6_1074_, offer0_.icon as icon1074_, offer0_.iconName as iconName1074_, offer0_.image as image1074_, offer0_.longDescription as longDes10_1074_, offer0_.name as name1074_, offer0_.price as price1074_, offer0_.serviceType as service13_1074_, offer0_.shortDescription as shortDe14_1074_, offer0_.state as state1074_, offer0_.virtualAppliance as virtual16_1074_, offer0_.virtualDatacenter as virtual17_1074_, offer0_.virtualDatacenterName as virtual18_1074_ from Offer offer0_ where offer0_.offer_id=?
11:32:33,417 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:32:33,417 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1075_, offerpurch0_.expiration as expiration1075_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1075_, offerpurch0_.leasePeriod as leasePer4_1075_, offerpurch0_.serviceLevel as serviceL5_1075_, offerpurch0_.start as start1075_, offerpurch0_1_.user_id as user1_1076_, offerpurch0_2_.offer_offer_id as offer19_1074_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:32:33,418 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:32:33,418 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:32:33,419 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.offer_id as offer1_1074_, offer0_.datacenter as datacenter1074_, offer0_.defaultLeasePeriod as defaultL3_1074_, offer0_.defaultNetworkType as defaultN4_1074_, offer0_.defaultServiceLevel as defaultS5_1074_, offer0_.hypervisorType as hypervis6_1074_, offer0_.icon as icon1074_, offer0_.iconName as iconName1074_, offer0_.image as image1074_, offer0_.longDescription as longDes10_1074_, offer0_.name as name1074_, offer0_.price as price1074_, offer0_.serviceType as service13_1074_, offer0_.shortDescription as shortDe14_1074_, offer0_.state as state1074_, offer0_.virtualAppliance as virtual16_1074_, offer0_.virtualDatacenter as virtual17_1074_, offer0_.virtualDatacenterName as virtual18_1074_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:32:33,419 INFO  ~ resultSet1 size :0
11:32:33,419 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:32:33,419 INFO  ~  resultSet1 size []
11:32:33,419 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:32:33,549 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:32:33,740 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.offer_id as offer1_1074_, offer0_.datacenter as datacenter1074_, offer0_.defaultLeasePeriod as defaultL3_1074_, offer0_.defaultNetworkType as defaultN4_1074_, offer0_.defaultServiceLevel as defaultS5_1074_, offer0_.hypervisorType as hypervis6_1074_, offer0_.icon as icon1074_, offer0_.iconName as iconName1074_, offer0_.image as image1074_, offer0_.longDescription as longDes10_1074_, offer0_.name as name1074_, offer0_.price as price1074_, offer0_.serviceType as service13_1074_, offer0_.shortDescription as shortDe14_1074_, offer0_.state as state1074_, offer0_.virtualAppliance as virtual16_1074_, offer0_.virtualDatacenter as virtual17_1074_, offer0_.virtualDatacenterName as virtual18_1074_ from Offer offer0_ where offer0_.offer_id=?
11:32:33,796 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:32:33,796 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1075_, offerpurch0_.expiration as expiration1075_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1075_, offerpurch0_.leasePeriod as leasePer4_1075_, offerpurch0_.serviceLevel as serviceL5_1075_, offerpurch0_.start as start1075_, offerpurch0_1_.user_id as user1_1076_, offerpurch0_2_.offer_offer_id as offer19_1074_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:32:33,797 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:32:33,797 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:32:33,797 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.offer_id as offer1_1074_, offer0_.datacenter as datacenter1074_, offer0_.defaultLeasePeriod as defaultL3_1074_, offer0_.defaultNetworkType as defaultN4_1074_, offer0_.defaultServiceLevel as defaultS5_1074_, offer0_.hypervisorType as hypervis6_1074_, offer0_.icon as icon1074_, offer0_.iconName as iconName1074_, offer0_.image as image1074_, offer0_.longDescription as longDes10_1074_, offer0_.name as name1074_, offer0_.price as price1074_, offer0_.serviceType as service13_1074_, offer0_.shortDescription as shortDe14_1074_, offer0_.state as state1074_, offer0_.virtualAppliance as virtual16_1074_, offer0_.virtualDatacenter as virtual17_1074_, offer0_.virtualDatacenterName as virtual18_1074_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:32:33,798 INFO  ~ resultSet1 size :0
11:32:33,798 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:32:33,798 INFO  ~  resultSet1 size []
11:32:33,798 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:32:34,659 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
11:32:34,702 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:32:34,756 INFO  ~  virtualDC  : gold
11:32:34,860 INFO  ~  va  : gold
11:32:35,019 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
11:32:39,848 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
11:32:39,849 INFO  ~ Session user in addToServiceCatalog(): admin
11:32:39,849 INFO  ~  and  vdc 1  & va_id : 5
11:32:39,849 INFO  ~  lease period 100 years
11:32:39,876 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:32:40,722 INFO  ~  description : fsdafsadf
11:32:40,766 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, offer_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
11:32:40,768 ERROR ~ Field 'id' doesn't have a default value
11:32:40,768 ERROR ~ Could not synchronize database state with session
org.hibernate.exception.GenericJDBCException: Could not execute JDBC batch update
	at org.hibernate.exception.SQLStateConverter.handledNonSpecificException(SQLStateConverter.java:140)
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:128)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:275)
	at org.hibernate.jdbc.AbstractBatcher.prepareStatement(AbstractBatcher.java:114)
	at org.hibernate.jdbc.AbstractBatcher.prepareStatement(AbstractBatcher.java:109)
	at org.hibernate.jdbc.AbstractBatcher.prepareBatchStatement(AbstractBatcher.java:244)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2411)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2874)
	at org.hibernate.action.EntityInsertAction.execute(EntityInsertAction.java:79)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:184)
	at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:345)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.ProducerRemote.addToServiceCatalog(ProducerRemote.java:370)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at play.server.PlayHandler$NettyInvocation.execute(PlayHandler.java:257)
	at play.Invoker$Invocation.run(Invoker.java:278)
	at play.server.PlayHandler$NettyInvocation.run(PlayHandler.java:235)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.sql.BatchUpdateException: Field 'id' doesn't have a default value
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:2018)
	at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1449)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeBatch(NewProxyPreparedStatement.java:1723)
	at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:70)
	at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:268)
	... 36 more
11:32:40,769 WARN  ~ EXCEPTION OCCURED IN addToServiceCAtalog()
javax.persistence.PersistenceException: /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, offer_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
	at play.db.jpa.JPABase._save(JPABase.java:38)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.ProducerRemote.addToServiceCatalog(ProducerRemote.java:370)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Could not execute JDBC batch update
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:798)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	... 8 more
Caused by: org.hibernate.exception.GenericJDBCException: Could not execute JDBC batch update
	at org.hibernate.exception.SQLStateConverter.handledNonSpecificException(SQLStateConverter.java:140)
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:128)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:275)
	at org.hibernate.jdbc.AbstractBatcher.prepareStatement(AbstractBatcher.java:114)
	at org.hibernate.jdbc.AbstractBatcher.prepareStatement(AbstractBatcher.java:109)
	at org.hibernate.jdbc.AbstractBatcher.prepareBatchStatement(AbstractBatcher.java:244)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2411)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2874)
	at org.hibernate.action.EntityInsertAction.execute(EntityInsertAction.java:79)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:184)
	at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:345)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	... 9 more
Caused by: java.sql.BatchUpdateException: Field 'id' doesn't have a default value
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:2018)
	at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1449)
	at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:70)
	at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:268)
	... 22 more
11:32:40,825 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:32:41,001 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.offer_id as offer1_1074_, offer0_.datacenter as datacenter1074_, offer0_.defaultLeasePeriod as defaultL3_1074_, offer0_.defaultNetworkType as defaultN4_1074_, offer0_.defaultServiceLevel as defaultS5_1074_, offer0_.hypervisorType as hypervis6_1074_, offer0_.icon as icon1074_, offer0_.iconName as iconName1074_, offer0_.image as image1074_, offer0_.longDescription as longDes10_1074_, offer0_.name as name1074_, offer0_.price as price1074_, offer0_.serviceType as service13_1074_, offer0_.shortDescription as shortDe14_1074_, offer0_.state as state1074_, offer0_.virtualAppliance as virtual16_1074_, offer0_.virtualDatacenter as virtual17_1074_, offer0_.virtualDatacenterName as virtual18_1074_ from Offer offer0_ where offer0_.offer_id=?
11:32:41,057 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:32:41,057 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1075_, offerpurch0_.expiration as expiration1075_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1075_, offerpurch0_.leasePeriod as leasePer4_1075_, offerpurch0_.serviceLevel as serviceL5_1075_, offerpurch0_.start as start1075_, offerpurch0_1_.user_id as user1_1076_, offerpurch0_2_.offer_offer_id as offer19_1074_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:32:41,057 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:32:41,057 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:32:41,058 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.offer_id as offer1_1074_, offer0_.datacenter as datacenter1074_, offer0_.defaultLeasePeriod as defaultL3_1074_, offer0_.defaultNetworkType as defaultN4_1074_, offer0_.defaultServiceLevel as defaultS5_1074_, offer0_.hypervisorType as hypervis6_1074_, offer0_.icon as icon1074_, offer0_.iconName as iconName1074_, offer0_.image as image1074_, offer0_.longDescription as longDes10_1074_, offer0_.name as name1074_, offer0_.price as price1074_, offer0_.serviceType as service13_1074_, offer0_.shortDescription as shortDe14_1074_, offer0_.state as state1074_, offer0_.virtualAppliance as virtual16_1074_, offer0_.virtualDatacenter as virtual17_1074_, offer0_.virtualDatacenterName as virtual18_1074_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:32:41,058 INFO  ~ resultSet1 size :0
11:32:41,058 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:32:41,058 INFO  ~  resultSet1 size []
11:32:41,058 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:32:44,820 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:32:45,004 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.offer_id as offer1_1074_, offer0_.datacenter as datacenter1074_, offer0_.defaultLeasePeriod as defaultL3_1074_, offer0_.defaultNetworkType as defaultN4_1074_, offer0_.defaultServiceLevel as defaultS5_1074_, offer0_.hypervisorType as hypervis6_1074_, offer0_.icon as icon1074_, offer0_.iconName as iconName1074_, offer0_.image as image1074_, offer0_.longDescription as longDes10_1074_, offer0_.name as name1074_, offer0_.price as price1074_, offer0_.serviceType as service13_1074_, offer0_.shortDescription as shortDe14_1074_, offer0_.state as state1074_, offer0_.virtualAppliance as virtual16_1074_, offer0_.virtualDatacenter as virtual17_1074_, offer0_.virtualDatacenterName as virtual18_1074_ from Offer offer0_ where offer0_.offer_id=?
11:32:45,069 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.offer_id as offer1_1074_, offer0_.datacenter as datacenter1074_, offer0_.defaultLeasePeriod as defaultL3_1074_, offer0_.defaultNetworkType as defaultN4_1074_, offer0_.defaultServiceLevel as defaultS5_1074_, offer0_.hypervisorType as hypervis6_1074_, offer0_.icon as icon1074_, offer0_.iconName as iconName1074_, offer0_.image as image1074_, offer0_.longDescription as longDes10_1074_, offer0_.name as name1074_, offer0_.price as price1074_, offer0_.serviceType as service13_1074_, offer0_.shortDescription as shortDe14_1074_, offer0_.state as state1074_, offer0_.virtualAppliance as virtual16_1074_, offer0_.virtualDatacenter as virtual17_1074_, offer0_.virtualDatacenterName as virtual18_1074_ from Offer offer0_ where offer0_.offer_id=?
11:32:45,126 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.offer_id as offer1_1074_, offer0_.datacenter as datacenter1074_, offer0_.defaultLeasePeriod as defaultL3_1074_, offer0_.defaultNetworkType as defaultN4_1074_, offer0_.defaultServiceLevel as defaultS5_1074_, offer0_.hypervisorType as hypervis6_1074_, offer0_.icon as icon1074_, offer0_.iconName as iconName1074_, offer0_.image as image1074_, offer0_.longDescription as longDes10_1074_, offer0_.name as name1074_, offer0_.price as price1074_, offer0_.serviceType as service13_1074_, offer0_.shortDescription as shortDe14_1074_, offer0_.state as state1074_, offer0_.virtualAppliance as virtual16_1074_, offer0_.virtualDatacenter as virtual17_1074_, offer0_.virtualDatacenterName as virtual18_1074_ from Offer offer0_ where offer0_.offer_id=?
11:32:45,180 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:32:45,180 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1075_, offerpurch0_.expiration as expiration1075_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1075_, offerpurch0_.leasePeriod as leasePer4_1075_, offerpurch0_.serviceLevel as serviceL5_1075_, offerpurch0_.start as start1075_, offerpurch0_1_.user_id as user1_1076_, offerpurch0_2_.offer_offer_id as offer19_1074_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:32:45,180 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:32:45,180 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:32:45,180 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.offer_id as offer1_1074_, offer0_.datacenter as datacenter1074_, offer0_.defaultLeasePeriod as defaultL3_1074_, offer0_.defaultNetworkType as defaultN4_1074_, offer0_.defaultServiceLevel as defaultS5_1074_, offer0_.hypervisorType as hypervis6_1074_, offer0_.icon as icon1074_, offer0_.iconName as iconName1074_, offer0_.image as image1074_, offer0_.longDescription as longDes10_1074_, offer0_.name as name1074_, offer0_.price as price1074_, offer0_.serviceType as service13_1074_, offer0_.shortDescription as shortDe14_1074_, offer0_.state as state1074_, offer0_.virtualAppliance as virtual16_1074_, offer0_.virtualDatacenter as virtual17_1074_, offer0_.virtualDatacenterName as virtual18_1074_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:32:45,181 INFO  ~ resultSet1 size :0
11:32:45,181 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:32:45,181 INFO  ~  resultSet1 size []
11:32:45,181 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:32:45,497 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
11:32:45,527 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:32:45,613 INFO  ~  virtualDC  : Bronze
11:32:45,704 INFO  ~  va  : Bronze
11:32:45,875 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
11:32:50,448 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
11:32:50,448 INFO  ~ Session user in addToServiceCatalog(): admin
11:32:50,448 INFO  ~  and  vdc 3  & va_id : 1
11:32:50,448 INFO  ~  lease period 100 years
11:32:50,478 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:32:51,006 INFO  ~  description : fsdafasdf
11:32:51,067 INFO  ~  description : fsdafasdf
11:32:51,095 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, offer_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
11:32:51,096 ERROR ~ Field 'id' doesn't have a default value
11:32:51,096 ERROR ~ Could not synchronize database state with session
org.hibernate.exception.GenericJDBCException: Could not execute JDBC batch update
	at org.hibernate.exception.SQLStateConverter.handledNonSpecificException(SQLStateConverter.java:140)
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:128)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:275)
	at org.hibernate.jdbc.AbstractBatcher.prepareStatement(AbstractBatcher.java:114)
	at org.hibernate.jdbc.AbstractBatcher.prepareStatement(AbstractBatcher.java:109)
	at org.hibernate.jdbc.AbstractBatcher.prepareBatchStatement(AbstractBatcher.java:244)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2411)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2874)
	at org.hibernate.action.EntityInsertAction.execute(EntityInsertAction.java:79)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:184)
	at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:345)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.ProducerRemote.addToServiceCatalog(ProducerRemote.java:370)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at play.server.PlayHandler$NettyInvocation.execute(PlayHandler.java:257)
	at play.Invoker$Invocation.run(Invoker.java:278)
	at play.server.PlayHandler$NettyInvocation.run(PlayHandler.java:235)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.sql.BatchUpdateException: Field 'id' doesn't have a default value
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:2018)
	at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1449)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeBatch(NewProxyPreparedStatement.java:1723)
	at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:70)
	at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:268)
	... 36 more
11:32:51,097 WARN  ~ EXCEPTION OCCURED IN addToServiceCAtalog()
javax.persistence.PersistenceException: /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, offer_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
	at play.db.jpa.JPABase._save(JPABase.java:38)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.ProducerRemote.addToServiceCatalog(ProducerRemote.java:370)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Could not execute JDBC batch update
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:798)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	... 8 more
Caused by: org.hibernate.exception.GenericJDBCException: Could not execute JDBC batch update
	at org.hibernate.exception.SQLStateConverter.handledNonSpecificException(SQLStateConverter.java:140)
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:128)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:275)
	at org.hibernate.jdbc.AbstractBatcher.prepareStatement(AbstractBatcher.java:114)
	at org.hibernate.jdbc.AbstractBatcher.prepareStatement(AbstractBatcher.java:109)
	at org.hibernate.jdbc.AbstractBatcher.prepareBatchStatement(AbstractBatcher.java:244)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2411)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2874)
	at org.hibernate.action.EntityInsertAction.execute(EntityInsertAction.java:79)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:184)
	at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:345)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	... 9 more
Caused by: java.sql.BatchUpdateException: Field 'id' doesn't have a default value
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:2018)
	at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1449)
	at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:70)
	at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:268)
	... 22 more
11:32:51,140 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:32:51,334 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.offer_id as offer1_1074_, offer0_.datacenter as datacenter1074_, offer0_.defaultLeasePeriod as defaultL3_1074_, offer0_.defaultNetworkType as defaultN4_1074_, offer0_.defaultServiceLevel as defaultS5_1074_, offer0_.hypervisorType as hypervis6_1074_, offer0_.icon as icon1074_, offer0_.iconName as iconName1074_, offer0_.image as image1074_, offer0_.longDescription as longDes10_1074_, offer0_.name as name1074_, offer0_.price as price1074_, offer0_.serviceType as service13_1074_, offer0_.shortDescription as shortDe14_1074_, offer0_.state as state1074_, offer0_.virtualAppliance as virtual16_1074_, offer0_.virtualDatacenter as virtual17_1074_, offer0_.virtualDatacenterName as virtual18_1074_ from Offer offer0_ where offer0_.offer_id=?
11:32:51,406 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.offer_id as offer1_1074_, offer0_.datacenter as datacenter1074_, offer0_.defaultLeasePeriod as defaultL3_1074_, offer0_.defaultNetworkType as defaultN4_1074_, offer0_.defaultServiceLevel as defaultS5_1074_, offer0_.hypervisorType as hypervis6_1074_, offer0_.icon as icon1074_, offer0_.iconName as iconName1074_, offer0_.image as image1074_, offer0_.longDescription as longDes10_1074_, offer0_.name as name1074_, offer0_.price as price1074_, offer0_.serviceType as service13_1074_, offer0_.shortDescription as shortDe14_1074_, offer0_.state as state1074_, offer0_.virtualAppliance as virtual16_1074_, offer0_.virtualDatacenter as virtual17_1074_, offer0_.virtualDatacenterName as virtual18_1074_ from Offer offer0_ where offer0_.offer_id=?
11:32:51,459 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.offer_id as offer1_1074_, offer0_.datacenter as datacenter1074_, offer0_.defaultLeasePeriod as defaultL3_1074_, offer0_.defaultNetworkType as defaultN4_1074_, offer0_.defaultServiceLevel as defaultS5_1074_, offer0_.hypervisorType as hypervis6_1074_, offer0_.icon as icon1074_, offer0_.iconName as iconName1074_, offer0_.image as image1074_, offer0_.longDescription as longDes10_1074_, offer0_.name as name1074_, offer0_.price as price1074_, offer0_.serviceType as service13_1074_, offer0_.shortDescription as shortDe14_1074_, offer0_.state as state1074_, offer0_.virtualAppliance as virtual16_1074_, offer0_.virtualDatacenter as virtual17_1074_, offer0_.virtualDatacenterName as virtual18_1074_ from Offer offer0_ where offer0_.offer_id=?
11:32:51,515 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:32:51,515 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1075_, offerpurch0_.expiration as expiration1075_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1075_, offerpurch0_.leasePeriod as leasePer4_1075_, offerpurch0_.serviceLevel as serviceL5_1075_, offerpurch0_.start as start1075_, offerpurch0_1_.user_id as user1_1076_, offerpurch0_2_.offer_offer_id as offer19_1074_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:32:51,516 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:32:51,516 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:32:51,516 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.offer_id as offer1_1074_, offer0_.datacenter as datacenter1074_, offer0_.defaultLeasePeriod as defaultL3_1074_, offer0_.defaultNetworkType as defaultN4_1074_, offer0_.defaultServiceLevel as defaultS5_1074_, offer0_.hypervisorType as hypervis6_1074_, offer0_.icon as icon1074_, offer0_.iconName as iconName1074_, offer0_.image as image1074_, offer0_.longDescription as longDes10_1074_, offer0_.name as name1074_, offer0_.price as price1074_, offer0_.serviceType as service13_1074_, offer0_.shortDescription as shortDe14_1074_, offer0_.state as state1074_, offer0_.virtualAppliance as virtual16_1074_, offer0_.virtualDatacenter as virtual17_1074_, offer0_.virtualDatacenterName as virtual18_1074_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:32:51,517 INFO  ~ resultSet1 size :0
11:32:51,517 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:32:51,517 INFO  ~  resultSet1 size []
11:32:51,517 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:33:56,817 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:33:56,817 ERROR ~ Table 'Deploy_Bundle' already exists
11:33:58,535 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references OfferPurchased (id)
11:33:58,535 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
11:33:59,702 ERROR ~ Unsuccessful: alter table Offer add index FK4892A3C920CADC6 (id), add constraint FK4892A3C920CADC6 foreign key (id) references OfferPurchased (id)
11:33:59,702 ERROR ~ Can't create table 'portal.#sql-3de_25' (errno: 150)
11:34:01,984 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
11:34:02,018 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:34:02,372 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:34:02,598 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.id=?
11:34:02,663 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.id=?
11:34:02,719 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.id=?
11:34:02,774 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:34:02,774 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1099_, offerpurch0_.expiration as expiration1099_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1099_, offerpurch0_.leasePeriod as leasePer4_1099_, offerpurch0_.serviceLevel as serviceL5_1099_, offerpurch0_.start as start1099_, offerpurch0_1_.user_id as user1_1100_, offerpurch0_2_.offer_id as offer19_1098_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:34:02,775 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:34:02,775 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:34:02,775 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:34:02,776 INFO  ~ resultSet1 size :0
11:34:02,776 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:34:02,776 INFO  ~  resultSet1 size []
11:34:02,776 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:34:03,721 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
11:34:03,749 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:34:03,805 INFO  ~  virtualDC  : Bronze
11:34:03,893 INFO  ~  va  : Bronze
11:34:04,052 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
11:34:08,720 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.id=? limit ?
11:34:08,729 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
11:34:08,729 INFO  ~ Session user in addToServiceCatalog(): admin
11:34:08,729 INFO  ~  and  vdc 3  & va_id : 1
11:34:08,729 INFO  ~  lease period 100 years
11:34:08,759 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:34:09,178 INFO  ~  description : fsdafsdaf
11:34:09,233 INFO  ~  description : fsdafsdaf
11:34:09,264 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
11:34:09,266 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
11:34:09,266 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
11:34:09,267 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
11:34:09,267 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
11:34:09,268 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
11:34:09,272 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
11:34:09,387 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:34:09,598 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.id=?
11:34:09,600 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.id=?
11:34:09,687 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.id=?
11:34:09,742 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:34:09,742 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1099_, offerpurch0_.expiration as expiration1099_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1099_, offerpurch0_.leasePeriod as leasePer4_1099_, offerpurch0_.serviceLevel as serviceL5_1099_, offerpurch0_.start as start1099_, offerpurch0_1_.user_id as user1_1100_, offerpurch0_2_.offer_id as offer19_1098_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:34:09,743 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:34:09,743 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:34:09,743 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:34:09,744 INFO  ~ resultSet1 size :1
11:34:09,744 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:34:09,744 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@3e5b112a , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
11:34:09,744 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:34:09,778 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:34:09,778 INFO  ~  OfferID for icon 1
11:34:09,778 DEBUG ~ /* load models.Offer */ select offer0_.id as id1098_0_, offer0_.datacenter as datacenter1098_0_, offer0_.defaultLeasePeriod as defaultL3_1098_0_, offer0_.defaultNetworkType as defaultN4_1098_0_, offer0_.defaultServiceLevel as defaultS5_1098_0_, offer0_.hypervisorType as hypervis6_1098_0_, offer0_.icon as icon1098_0_, offer0_.iconName as iconName1098_0_, offer0_.image as image1098_0_, offer0_.longDescription as longDes10_1098_0_, offer0_.name as name1098_0_, offer0_.price as price1098_0_, offer0_.serviceType as service13_1098_0_, offer0_.shortDescription as shortDe14_1098_0_, offer0_.state as state1098_0_, offer0_.virtualAppliance as virtual16_1098_0_, offer0_.virtualDatacenter as virtual17_1098_0_, offer0_.virtualDatacenterName as virtual18_1098_0_ from Offer offer0_ where offer0_.id=?
11:34:09,780 INFO  ~ ------------------------- EXITING displayIcon()---------
11:35:29,862 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
11:35:29,893 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:35:30,230 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:35:30,424 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.id=?
11:35:30,426 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.id=?
11:35:30,479 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.id=?
11:35:30,543 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:35:30,543 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1099_, offerpurch0_.expiration as expiration1099_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1099_, offerpurch0_.leasePeriod as leasePer4_1099_, offerpurch0_.serviceLevel as serviceL5_1099_, offerpurch0_.start as start1099_, offerpurch0_1_.user_id as user1_1100_, offerpurch0_2_.offer_id as offer19_1098_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:35:30,544 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:35:30,544 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:35:30,544 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:35:30,545 INFO  ~ resultSet1 size :1
11:35:30,545 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:35:30,545 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@342e4523 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
11:35:30,545 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:35:30,555 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:35:30,555 INFO  ~  OfferID for icon 1
11:35:30,555 DEBUG ~ /* load models.Offer */ select offer0_.id as id1098_0_, offer0_.datacenter as datacenter1098_0_, offer0_.defaultLeasePeriod as defaultL3_1098_0_, offer0_.defaultNetworkType as defaultN4_1098_0_, offer0_.defaultServiceLevel as defaultS5_1098_0_, offer0_.hypervisorType as hypervis6_1098_0_, offer0_.icon as icon1098_0_, offer0_.iconName as iconName1098_0_, offer0_.image as image1098_0_, offer0_.longDescription as longDes10_1098_0_, offer0_.name as name1098_0_, offer0_.price as price1098_0_, offer0_.serviceType as service13_1098_0_, offer0_.shortDescription as shortDe14_1098_0_, offer0_.state as state1098_0_, offer0_.virtualAppliance as virtual16_1098_0_, offer0_.virtualDatacenter as virtual17_1098_0_, offer0_.virtualDatacenterName as virtual18_1098_0_ from Offer offer0_ where offer0_.id=?
11:35:30,556 INFO  ~ ------------------------- EXITING displayIcon()---------
11:35:33,899 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:35:33,899 INFO  ~ Enterprie ID for current User 3
11:35:33,899 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:35:33,900 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:35:34,028 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:35:34,029 INFO  ~ Enterprie ID for current User 3
11:35:34,029 INFO  ~ CURRENT USER EMAIL ID: userent
11:35:34,029 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:35:34,031 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:35:34,031 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1099_, offerpurch0_.expiration as expiration1099_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1099_, offerpurch0_.leasePeriod as leasePer4_1099_, offerpurch0_.serviceLevel as serviceL5_1099_, offerpurch0_.start as start1099_, offerpurch0_1_.user_id as user1_1100_, offerpurch0_2_.offer_id as offer19_1098_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:35:34,032 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:35:34,032 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:35:34,108 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:35:34,108 INFO  ~  OfferID for icon 1
11:35:34,108 DEBUG ~ /* load models.Offer */ select offer0_.id as id1098_0_, offer0_.datacenter as datacenter1098_0_, offer0_.defaultLeasePeriod as defaultL3_1098_0_, offer0_.defaultNetworkType as defaultN4_1098_0_, offer0_.defaultServiceLevel as defaultS5_1098_0_, offer0_.hypervisorType as hypervis6_1098_0_, offer0_.icon as icon1098_0_, offer0_.iconName as iconName1098_0_, offer0_.image as image1098_0_, offer0_.longDescription as longDes10_1098_0_, offer0_.name as name1098_0_, offer0_.price as price1098_0_, offer0_.serviceType as service13_1098_0_, offer0_.shortDescription as shortDe14_1098_0_, offer0_.state as state1098_0_, offer0_.virtualAppliance as virtual16_1098_0_, offer0_.virtualDatacenter as virtual17_1098_0_, offer0_.virtualDatacenterName as virtual18_1098_0_ from Offer offer0_ where offer0_.id=?
11:35:34,109 INFO  ~ ------------------------- EXITING displayIcon()---------
11:35:36,097 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
11:35:36,097 INFO  ~ CURRENT USER EMAIL ID: userent
11:35:36,097 DEBUG ~ /* load models.Offer */ select offer0_.id as id1098_0_, offer0_.datacenter as datacenter1098_0_, offer0_.defaultLeasePeriod as defaultL3_1098_0_, offer0_.defaultNetworkType as defaultN4_1098_0_, offer0_.defaultServiceLevel as defaultS5_1098_0_, offer0_.hypervisorType as hypervis6_1098_0_, offer0_.icon as icon1098_0_, offer0_.iconName as iconName1098_0_, offer0_.image as image1098_0_, offer0_.longDescription as longDes10_1098_0_, offer0_.name as name1098_0_, offer0_.price as price1098_0_, offer0_.serviceType as service13_1098_0_, offer0_.shortDescription as shortDe14_1098_0_, offer0_.state as state1098_0_, offer0_.virtualAppliance as virtual16_1098_0_, offer0_.virtualDatacenter as virtual17_1098_0_, offer0_.virtualDatacenterName as virtual18_1098_0_ from Offer offer0_ where offer0_.id=?
11:35:36,098 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
11:35:36,109 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1098_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_1106_0_, nodes1_.cpu as cpu1106_0_, nodes1_.description as descript3_1106_0_, nodes1_.hd as hd1106_0_, nodes1_.icon as icon1106_0_, nodes1_.idImage as idImage1106_0_, nodes1_.node_name as node7_1106_0_, nodes1_.ram as ram1106_0_, nodes1_1_.offer_id as offer1_1107_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
11:35:59,253 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
11:35:59,253 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
11:35:59,290 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
11:35:59,407 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
11:35:59,990 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
11:35:59,990 INFO  ~  vdcname : POR-userent-2012-09-10 11:35:59.989
11:36:00,118 INFO  ~  VDC to deploy: 
11:36:00,119 INFO  ~  Hypervisor to deploy: 
11:36:00,202 INFO  ~  Datacenter to deploy: 
11:36:00,202 INFO  ~  Network Built
11:36:00,202 INFO  ~ VDC built  
11:36:04,044 INFO  ~  1. VDC CREATED 
11:36:04,228 INFO  ~  2. VAPP CREATED 
11:36:04,228 INFO  ~ --------------------
11:36:14,133 DEBUG ~ /* load models.Offer */ select offer0_.id as id1098_0_, offer0_.datacenter as datacenter1098_0_, offer0_.defaultLeasePeriod as defaultL3_1098_0_, offer0_.defaultNetworkType as defaultN4_1098_0_, offer0_.defaultServiceLevel as defaultS5_1098_0_, offer0_.hypervisorType as hypervis6_1098_0_, offer0_.icon as icon1098_0_, offer0_.iconName as iconName1098_0_, offer0_.image as image1098_0_, offer0_.longDescription as longDes10_1098_0_, offer0_.name as name1098_0_, offer0_.price as price1098_0_, offer0_.serviceType as service13_1098_0_, offer0_.shortDescription as shortDe14_1098_0_, offer0_.state as state1098_0_, offer0_.virtualAppliance as virtual16_1098_0_, offer0_.virtualDatacenter as virtual17_1098_0_, offer0_.virtualDatacenterName as virtual18_1098_0_ from Offer offer0_ where offer0_.id=?
11:36:18,477 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
11:36:18,477 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.id=?
11:36:18,479 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
11:36:18,479 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1098_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_1106_0_, nodes1_.cpu as cpu1106_0_, nodes1_.description as descript3_1106_0_, nodes1_.hd as hd1106_0_, nodes1_.icon as icon1106_0_, nodes1_.idImage as idImage1106_0_, nodes1_.node_name as node7_1106_0_, nodes1_.ram as ram1106_0_, nodes1_1_.offer_id as offer1_1107_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
11:36:18,682 INFO  ~  3. VM CREATED
11:36:50,790 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_1106_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_1104_0_, nodes_reso1_.resourceType as resource2_1104_0_, nodes_reso1_.sequence as sequence1104_0_, nodes_reso1_.value as value1104_0_, nodes_reso1_1_.id_node as id1_1105_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
11:36:50,875 INFO  ~  4. HARDDISKS ATTACHED 
11:36:50,876 INFO  ~  Handler created :
11:36:51,945 INFO  ~ STARTING MONITORING ......
11:36:53,091 INFO  ~  3. VM CREATED
11:37:01,429 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_1106_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_1104_0_, nodes_reso1_.resourceType as resource2_1104_0_, nodes_reso1_.sequence as sequence1104_0_, nodes_reso1_.value as value1104_0_, nodes_reso1_1_.id_node as id1_1105_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
11:37:01,529 INFO  ~  4. HARDDISKS ATTACHED 
11:37:01,529 INFO  ~  Handler created :
11:37:02,342 INFO  ~ STARTING MONITORING ......
11:37:02,343 INFO  ~ SAVING DEPLOY INFORMATION ......
11:37:19,152 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
11:37:19,153 INFO  ~  CREATED VM : VirtualMachine [id=212, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_f5065c82-063c-4a4b-94d7-40a2f672e663, password=vmpassword, ram=128, uuid=f5065c82-063c-4a4b-94d7-40a2f672e663, vncAddress=null, vncPort=0]
11:37:19,166 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
11:37:19,167 INFO  ~  CREATED VM : VirtualMachine [id=211, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_4f7f430c-b107-4048-9061-539bdcce1082, password=vmpassword, ram=64, uuid=4f7f430c-b107-4048-9061-539bdcce1082, vncAddress=null, vncPort=0]
11:37:19,250 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
11:37:19,250 INFO  ~ ------------------------- INSIDE getVMDetais()----------
11:37:19,250 INFO  ~  getVMDetais() params : vdc_id 162 vapp_id : 165 vm-id : 211
11:37:19,251 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_1108_, mkt_config0_.deploy_enterprise_id as deploy2_1108_, mkt_config0_.enterprise_name as enterprise3_1108_, mkt_config0_.mkt_branding_css as mkt4_1108_, mkt_config0_.mkt_branding_icon as mkt5_1108_, mkt_config0_.mkt_deploy_pw as mkt6_1108_, mkt_config0_.mkt_deploy_user as mkt7_1108_, mkt_config0_.mkt_theme_css as mkt8_1108_, mkt_config0_.mkt_url as mkt9_1108_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
11:37:19,252 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
11:37:19,252 INFO  ~  AbiquoUtils context set to :null
11:37:19,252 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
11:37:19,253 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
11:37:19,253 INFO  ~ ------------------------- INSIDE getVMDetais()----------
11:37:19,253 INFO  ~  getVMDetais() params : vdc_id 162 vapp_id : 165 vm-id : 212
11:37:19,253 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_1108_, mkt_config0_.deploy_enterprise_id as deploy2_1108_, mkt_config0_.enterprise_name as enterprise3_1108_, mkt_config0_.mkt_branding_css as mkt4_1108_, mkt_config0_.mkt_branding_icon as mkt5_1108_, mkt_config0_.mkt_deploy_pw as mkt6_1108_, mkt_config0_.mkt_deploy_user as mkt7_1108_, mkt_config0_.mkt_theme_css as mkt8_1108_, mkt_config0_.mkt_url as mkt9_1108_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
11:37:19,254 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
11:37:19,254 INFO  ~  AbiquoUtils context set to :null
11:37:19,255 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
11:37:28,282 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
11:37:28,284 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, leasePeriod, serviceLevel, start) values (?, ?, ?, ?, ?)
11:37:28,284 DEBUG ~ /* insert models.OfferPurchased */ insert into User (user_id, id) values (?, ?)
11:37:28,286 DEBUG ~ /* insert models.Deploy_Bundle */ insert into Deploy_Bundle (deploy_datacenter, deploy_hypervisorType, deploy_network, offerPurchased_id, vapp_id, vapp_name, vdc_name) values (?, ?, ?, ?, ?, ?, ?)
11:37:28,287 ERROR ~ Unknown column 'offerPurchased_id' in 'field list'
11:48:24,813 DEBUG ~ /* insert models.Deploy_Bundle_Nodes */ insert into Deploy_Bundle_Nodes (cpu, node_id, node_name, node_template_name, ram, vdrpIP, vdrpPort, vdrp_password) values (?, ?, ?, ?, ?, ?, ?, ?)
11:48:24,814 DEBUG ~ /* insert models.Deploy_Bundle_Nodes */ insert into Deploy_Bundle_Nodes (cpu, node_id, node_name, node_template_name, ram, vdrpIP, vdrpPort, vdrp_password) values (?, ?, ?, ?, ?, ?, ?, ?)
11:48:24,815 ERROR ~ an assertion failure occured (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session)
org.hibernate.AssertionFailure: null id in models.Deploy_Bundle entry (don't flush the Session after an exception occurs)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:82)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:190)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:147)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:240)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:99)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at play.server.PlayHandler$NettyInvocation.execute(PlayHandler.java:257)
	at play.Invoker$Invocation.run(Invoker.java:278)
	at play.server.PlayHandler$NettyInvocation.run(PlayHandler.java:235)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
11:48:24,815 WARN  ~ EXCEPTION OCCURED  IN deploy()
org.hibernate.AssertionFailure: null id in models.Deploy_Bundle entry (don't flush the Session after an exception occurs)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:82)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:190)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:147)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:240)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:99)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
11:48:30,781 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:48:30,781 INFO  ~ Enterprie ID for current User 3
11:48:30,781 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:48:30,783 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:48:30,908 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:48:30,908 INFO  ~ Enterprie ID for current User 3
11:48:30,908 INFO  ~ CURRENT USER EMAIL ID: userent
11:48:30,908 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:48:30,909 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:48:30,909 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1099_, offerpurch0_.expiration as expiration1099_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1099_, offerpurch0_.leasePeriod as leasePer4_1099_, offerpurch0_.serviceLevel as serviceL5_1099_, offerpurch0_.start as start1099_, offerpurch0_1_.user_id as user1_1100_, offerpurch0_2_.offer_id as offer19_1098_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:48:30,910 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:48:30,910 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:48:30,931 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:48:30,931 INFO  ~  OfferID for icon 1
11:48:30,931 DEBUG ~ /* load models.Offer */ select offer0_.id as id1098_0_, offer0_.datacenter as datacenter1098_0_, offer0_.defaultLeasePeriod as defaultL3_1098_0_, offer0_.defaultNetworkType as defaultN4_1098_0_, offer0_.defaultServiceLevel as defaultS5_1098_0_, offer0_.hypervisorType as hypervis6_1098_0_, offer0_.icon as icon1098_0_, offer0_.iconName as iconName1098_0_, offer0_.image as image1098_0_, offer0_.longDescription as longDes10_1098_0_, offer0_.name as name1098_0_, offer0_.price as price1098_0_, offer0_.serviceType as service13_1098_0_, offer0_.shortDescription as shortDe14_1098_0_, offer0_.state as state1098_0_, offer0_.virtualAppliance as virtual16_1098_0_, offer0_.virtualDatacenter as virtual17_1098_0_, offer0_.virtualDatacenterName as virtual18_1098_0_ from Offer offer0_ where offer0_.id=?
11:48:30,932 INFO  ~ ------------------------- EXITING displayIcon()---------
11:48:39,683 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
11:48:39,683 INFO  ~ CURRENT USER EMAIL ID: userent
11:48:39,683 DEBUG ~ /* load models.Offer */ select offer0_.id as id1098_0_, offer0_.datacenter as datacenter1098_0_, offer0_.defaultLeasePeriod as defaultL3_1098_0_, offer0_.defaultNetworkType as defaultN4_1098_0_, offer0_.defaultServiceLevel as defaultS5_1098_0_, offer0_.hypervisorType as hypervis6_1098_0_, offer0_.icon as icon1098_0_, offer0_.iconName as iconName1098_0_, offer0_.image as image1098_0_, offer0_.longDescription as longDes10_1098_0_, offer0_.name as name1098_0_, offer0_.price as price1098_0_, offer0_.serviceType as service13_1098_0_, offer0_.shortDescription as shortDe14_1098_0_, offer0_.state as state1098_0_, offer0_.virtualAppliance as virtual16_1098_0_, offer0_.virtualDatacenter as virtual17_1098_0_, offer0_.virtualDatacenterName as virtual18_1098_0_ from Offer offer0_ where offer0_.id=?
11:48:39,685 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
11:48:39,686 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1098_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_1106_0_, nodes1_.cpu as cpu1106_0_, nodes1_.description as descript3_1106_0_, nodes1_.hd as hd1106_0_, nodes1_.icon as icon1106_0_, nodes1_.idImage as idImage1106_0_, nodes1_.node_name as node7_1106_0_, nodes1_.ram as ram1106_0_, nodes1_1_.offer_id as offer1_1107_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
11:48:43,395 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
11:48:43,395 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
11:48:43,432 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
11:48:43,672 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
11:48:47,848 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
11:48:47,848 INFO  ~  vdcname : POR-userent-2012-09-10 11:48:47.848
11:48:47,948 INFO  ~  VDC to deploy: 
11:48:47,948 INFO  ~  Hypervisor to deploy: 
11:48:48,019 INFO  ~  Datacenter to deploy: 
11:48:48,020 INFO  ~  Network Built
11:48:48,020 INFO  ~ VDC built  
11:48:52,069 INFO  ~  1. VDC CREATED 
11:48:52,266 INFO  ~  2. VAPP CREATED 
11:48:52,266 INFO  ~ --------------------
11:48:57,160 DEBUG ~ /* load models.Offer */ select offer0_.id as id1098_0_, offer0_.datacenter as datacenter1098_0_, offer0_.defaultLeasePeriod as defaultL3_1098_0_, offer0_.defaultNetworkType as defaultN4_1098_0_, offer0_.defaultServiceLevel as defaultS5_1098_0_, offer0_.hypervisorType as hypervis6_1098_0_, offer0_.icon as icon1098_0_, offer0_.iconName as iconName1098_0_, offer0_.image as image1098_0_, offer0_.longDescription as longDes10_1098_0_, offer0_.name as name1098_0_, offer0_.price as price1098_0_, offer0_.serviceType as service13_1098_0_, offer0_.shortDescription as shortDe14_1098_0_, offer0_.state as state1098_0_, offer0_.virtualAppliance as virtual16_1098_0_, offer0_.virtualDatacenter as virtual17_1098_0_, offer0_.virtualDatacenterName as virtual18_1098_0_ from Offer offer0_ where offer0_.id=?
11:49:10,088 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
11:49:10,089 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.id=?
11:49:10,109 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
11:49:12,937 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1098_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_1106_0_, nodes1_.cpu as cpu1106_0_, nodes1_.description as descript3_1106_0_, nodes1_.hd as hd1106_0_, nodes1_.icon as icon1106_0_, nodes1_.idImage as idImage1106_0_, nodes1_.node_name as node7_1106_0_, nodes1_.ram as ram1106_0_, nodes1_1_.offer_id as offer1_1107_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
11:49:25,784 INFO  ~  3. VM CREATED
11:49:43,568 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_1106_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_1104_0_, nodes_reso1_.resourceType as resource2_1104_0_, nodes_reso1_.sequence as sequence1104_0_, nodes_reso1_.value as value1104_0_, nodes_reso1_1_.id_node as id1_1105_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
11:49:48,184 INFO  ~  4. HARDDISKS ATTACHED 
11:49:49,240 INFO  ~  Handler created :
11:49:51,415 INFO  ~ STARTING MONITORING ......
11:49:54,767 INFO  ~  3. VM CREATED
11:49:58,352 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_1106_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_1104_0_, nodes_reso1_.resourceType as resource2_1104_0_, nodes_reso1_.sequence as sequence1104_0_, nodes_reso1_.value as value1104_0_, nodes_reso1_1_.id_node as id1_1105_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
11:50:06,368 INFO  ~  4. HARDDISKS ATTACHED 
11:50:07,664 INFO  ~  Handler created :
11:50:11,823 INFO  ~ STARTING MONITORING ......
11:50:12,248 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
11:50:12,248 INFO  ~  CREATED VM : VirtualMachine [id=213, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_6b993b07-d864-4da4-b7fb-86ff11d9adbd, password=vmpassword, ram=64, uuid=6b993b07-d864-4da4-b7fb-86ff11d9adbd, vncAddress=null, vncPort=0]
11:50:12,308 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
11:50:12,308 INFO  ~ ------------------------- INSIDE getVMDetais()----------
11:50:12,308 INFO  ~  getVMDetais() params : vdc_id 163 vapp_id : 166 vm-id : 213
11:50:12,308 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_1108_, mkt_config0_.deploy_enterprise_id as deploy2_1108_, mkt_config0_.enterprise_name as enterprise3_1108_, mkt_config0_.mkt_branding_css as mkt4_1108_, mkt_config0_.mkt_branding_icon as mkt5_1108_, mkt_config0_.mkt_deploy_pw as mkt6_1108_, mkt_config0_.mkt_deploy_user as mkt7_1108_, mkt_config0_.mkt_theme_css as mkt8_1108_, mkt_config0_.mkt_url as mkt9_1108_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
11:50:12,309 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
11:50:12,309 INFO  ~  AbiquoUtils context set to :null
11:50:12,309 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
11:50:14,271 INFO  ~ SAVING DEPLOY INFORMATION ......
11:50:37,556 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
11:50:37,556 INFO  ~  CREATED VM : VirtualMachine [id=214, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_99f5a047-682b-444e-934b-b3c90c33ebf2, password=vmpassword, ram=128, uuid=99f5a047-682b-444e-934b-b3c90c33ebf2, vncAddress=null, vncPort=0]
11:50:37,606 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
11:50:37,606 INFO  ~ ------------------------- INSIDE getVMDetais()----------
11:50:37,606 INFO  ~  getVMDetais() params : vdc_id 163 vapp_id : 166 vm-id : 214
11:50:37,606 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_1108_, mkt_config0_.deploy_enterprise_id as deploy2_1108_, mkt_config0_.enterprise_name as enterprise3_1108_, mkt_config0_.mkt_branding_css as mkt4_1108_, mkt_config0_.mkt_branding_icon as mkt5_1108_, mkt_config0_.mkt_deploy_pw as mkt6_1108_, mkt_config0_.mkt_deploy_user as mkt7_1108_, mkt_config0_.mkt_theme_css as mkt8_1108_, mkt_config0_.mkt_url as mkt9_1108_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
11:50:37,607 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
11:50:37,607 INFO  ~  AbiquoUtils context set to :null
11:50:37,608 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
11:51:07,181 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
11:51:07,186 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, leasePeriod, serviceLevel, start) values (?, ?, ?, ?, ?)
11:51:07,186 DEBUG ~ /* insert models.OfferPurchased */ insert into User (user_id, id) values (?, ?)
11:51:07,187 DEBUG ~ /* insert models.Deploy_Bundle */ insert into Deploy_Bundle (deploy_datacenter, deploy_hypervisorType, deploy_network, offerPurchased_id, vapp_id, vapp_name, vdc_name) values (?, ?, ?, ?, ?, ?, ?)
11:51:07,188 ERROR ~ Unknown column 'offerPurchased_id' in 'field list'
11:51:07,188 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not insert: [models.Deploy_Bundle]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert: [models.Deploy_Bundle]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:64)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2345)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2852)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:799)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:791)
	at org.hibernate.engine.EJB3CascadingAction$1.cascade(EJB3CascadingAction.java:48)
	at org.hibernate.engine.Cascade.cascadeToOne(Cascade.java:392)
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:335)
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:204)
	at org.hibernate.engine.Cascade.cascadeCollectionElements(Cascade.java:425)
	at org.hibernate.engine.Cascade.cascadeCollection(Cascade.java:362)
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:338)
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:204)
	at org.hibernate.engine.Cascade.cascade(Cascade.java:161)
	at org.hibernate.event.def.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:475)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:353)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerPurchased_id' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:94)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
	... 42 more
11:51:13,788 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
11:51:13,830 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:51:14,602 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
11:51:14,825 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.id=?
11:51:14,837 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.id=?
11:51:14,890 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.id=?
11:51:14,945 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:51:14,945 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1099_, offerpurch0_.expiration as expiration1099_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1099_, offerpurch0_.leasePeriod as leasePer4_1099_, offerpurch0_.serviceLevel as serviceL5_1099_, offerpurch0_.start as start1099_, offerpurch0_1_.user_id as user1_1100_, offerpurch0_2_.offer_id as offer19_1098_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:51:14,946 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:51:14,946 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
11:51:14,946 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.defaultServiceLevel=?
11:51:14,947 INFO  ~ resultSet1 size :1
11:51:14,947 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
11:51:14,947 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@2ce6bbd8 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
11:51:14,947 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
11:51:14,966 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:51:14,966 INFO  ~  OfferID for icon 1
11:51:14,966 DEBUG ~ /* load models.Offer */ select offer0_.id as id1098_0_, offer0_.datacenter as datacenter1098_0_, offer0_.defaultLeasePeriod as defaultL3_1098_0_, offer0_.defaultNetworkType as defaultN4_1098_0_, offer0_.defaultServiceLevel as defaultS5_1098_0_, offer0_.hypervisorType as hypervis6_1098_0_, offer0_.icon as icon1098_0_, offer0_.iconName as iconName1098_0_, offer0_.image as image1098_0_, offer0_.longDescription as longDes10_1098_0_, offer0_.name as name1098_0_, offer0_.price as price1098_0_, offer0_.serviceType as service13_1098_0_, offer0_.shortDescription as shortDe14_1098_0_, offer0_.state as state1098_0_, offer0_.virtualAppliance as virtual16_1098_0_, offer0_.virtualDatacenter as virtual17_1098_0_, offer0_.virtualDatacenterName as virtual18_1098_0_ from Offer offer0_ where offer0_.id=?
11:51:14,968 INFO  ~ ------------------------- EXITING displayIcon()---------
11:51:20,245 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
11:51:20,245 INFO  ~ Enterprie ID for current User 3
11:51:20,245 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ group by offer0_.defaultServiceLevel
11:51:20,247 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
11:51:20,365 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
11:51:20,365 INFO  ~ Enterprie ID for current User 3
11:51:20,365 INFO  ~ CURRENT USER EMAIL ID: userent
11:51:20,365 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
11:51:20,367 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
11:51:20,367 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1099_, offerpurch0_.expiration as expiration1099_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1099_, offerpurch0_.leasePeriod as leasePer4_1099_, offerpurch0_.serviceLevel as serviceL5_1099_, offerpurch0_.start as start1099_, offerpurch0_1_.user_id as user1_1100_, offerpurch0_2_.offer_id as offer19_1098_ from OfferPurchased offerpurch0_ left outer join User offerpurch0_1_ on offerpurch0_.id=offerpurch0_1_.id left outer join Offer offerpurch0_2_ on offerpurch0_.id=offerpurch0_2_.id order by offerpurch0_.serviceLevel ASC
11:51:20,367 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
11:51:20,367 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
11:51:20,440 INFO  ~ ------------------------- INSIDE displayIcon()---------
11:51:20,440 INFO  ~  OfferID for icon 1
11:51:20,440 DEBUG ~ /* load models.Offer */ select offer0_.id as id1098_0_, offer0_.datacenter as datacenter1098_0_, offer0_.defaultLeasePeriod as defaultL3_1098_0_, offer0_.defaultNetworkType as defaultN4_1098_0_, offer0_.defaultServiceLevel as defaultS5_1098_0_, offer0_.hypervisorType as hypervis6_1098_0_, offer0_.icon as icon1098_0_, offer0_.iconName as iconName1098_0_, offer0_.image as image1098_0_, offer0_.longDescription as longDes10_1098_0_, offer0_.name as name1098_0_, offer0_.price as price1098_0_, offer0_.serviceType as service13_1098_0_, offer0_.shortDescription as shortDe14_1098_0_, offer0_.state as state1098_0_, offer0_.virtualAppliance as virtual16_1098_0_, offer0_.virtualDatacenter as virtual17_1098_0_, offer0_.virtualDatacenterName as virtual18_1098_0_ from Offer offer0_ where offer0_.id=?
11:51:20,442 INFO  ~ ------------------------- EXITING displayIcon()---------
11:51:29,651 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
11:51:29,651 INFO  ~ CURRENT USER EMAIL ID: userent
11:51:29,652 DEBUG ~ /* load models.Offer */ select offer0_.id as id1098_0_, offer0_.datacenter as datacenter1098_0_, offer0_.defaultLeasePeriod as defaultL3_1098_0_, offer0_.defaultNetworkType as defaultN4_1098_0_, offer0_.defaultServiceLevel as defaultS5_1098_0_, offer0_.hypervisorType as hypervis6_1098_0_, offer0_.icon as icon1098_0_, offer0_.iconName as iconName1098_0_, offer0_.image as image1098_0_, offer0_.longDescription as longDes10_1098_0_, offer0_.name as name1098_0_, offer0_.price as price1098_0_, offer0_.serviceType as service13_1098_0_, offer0_.shortDescription as shortDe14_1098_0_, offer0_.state as state1098_0_, offer0_.virtualAppliance as virtual16_1098_0_, offer0_.virtualDatacenter as virtual17_1098_0_, offer0_.virtualDatacenterName as virtual18_1098_0_ from Offer offer0_ where offer0_.id=?
11:51:29,653 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
11:51:29,659 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1098_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_1106_0_, nodes1_.cpu as cpu1106_0_, nodes1_.description as descript3_1106_0_, nodes1_.hd as hd1106_0_, nodes1_.icon as icon1106_0_, nodes1_.idImage as idImage1106_0_, nodes1_.node_name as node7_1106_0_, nodes1_.ram as ram1106_0_, nodes1_1_.offer_id as offer1_1107_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
11:51:32,943 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
11:51:32,943 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
11:51:32,980 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
11:51:33,090 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
11:51:33,599 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
11:51:33,599 INFO  ~  vdcname : POR-userent-2012-09-10 11:51:33.599
11:51:33,688 INFO  ~  VDC to deploy: 
11:51:33,689 INFO  ~  Hypervisor to deploy: 
11:51:33,761 INFO  ~  Datacenter to deploy: 
11:51:33,762 INFO  ~  Network Built
11:51:33,762 INFO  ~ VDC built  
11:51:35,770 INFO  ~  1. VDC CREATED 
11:51:35,989 INFO  ~  2. VAPP CREATED 
11:51:35,989 INFO  ~ --------------------
11:51:36,487 DEBUG ~ /* load models.Offer */ select offer0_.id as id1098_0_, offer0_.datacenter as datacenter1098_0_, offer0_.defaultLeasePeriod as defaultL3_1098_0_, offer0_.defaultNetworkType as defaultN4_1098_0_, offer0_.defaultServiceLevel as defaultS5_1098_0_, offer0_.hypervisorType as hypervis6_1098_0_, offer0_.icon as icon1098_0_, offer0_.iconName as iconName1098_0_, offer0_.image as image1098_0_, offer0_.longDescription as longDes10_1098_0_, offer0_.name as name1098_0_, offer0_.price as price1098_0_, offer0_.serviceType as service13_1098_0_, offer0_.shortDescription as shortDe14_1098_0_, offer0_.state as state1098_0_, offer0_.virtualAppliance as virtual16_1098_0_, offer0_.virtualDatacenter as virtual17_1098_0_, offer0_.virtualDatacenterName as virtual18_1098_0_ from Offer offer0_ where offer0_.id=?
11:51:36,967 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
11:51:36,967 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1098_, offer0_.datacenter as datacenter1098_, offer0_.defaultLeasePeriod as defaultL3_1098_, offer0_.defaultNetworkType as defaultN4_1098_, offer0_.defaultServiceLevel as defaultS5_1098_, offer0_.hypervisorType as hypervis6_1098_, offer0_.icon as icon1098_, offer0_.iconName as iconName1098_, offer0_.image as image1098_, offer0_.longDescription as longDes10_1098_, offer0_.name as name1098_, offer0_.price as price1098_, offer0_.serviceType as service13_1098_, offer0_.shortDescription as shortDe14_1098_, offer0_.state as state1098_, offer0_.virtualAppliance as virtual16_1098_, offer0_.virtualDatacenter as virtual17_1098_, offer0_.virtualDatacenterName as virtual18_1098_ from Offer offer0_ where offer0_.id=?
11:51:36,968 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
11:51:36,968 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1098_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_1106_0_, nodes1_.cpu as cpu1106_0_, nodes1_.description as descript3_1106_0_, nodes1_.hd as hd1106_0_, nodes1_.icon as icon1106_0_, nodes1_.idImage as idImage1106_0_, nodes1_.node_name as node7_1106_0_, nodes1_.ram as ram1106_0_, nodes1_1_.offer_id as offer1_1107_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
11:51:37,221 INFO  ~  3. VM CREATED
11:51:38,080 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_1106_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_1104_0_, nodes_reso1_.resourceType as resource2_1104_0_, nodes_reso1_.sequence as sequence1104_0_, nodes_reso1_.value as value1104_0_, nodes_reso1_1_.id_node as id1_1105_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
11:51:38,171 INFO  ~  4. HARDDISKS ATTACHED 
11:51:38,171 INFO  ~  Handler created :
11:51:38,686 INFO  ~ STARTING MONITORING ......
11:51:38,911 INFO  ~  3. VM CREATED
11:51:39,744 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_1106_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_1104_0_, nodes_reso1_.resourceType as resource2_1104_0_, nodes_reso1_.sequence as sequence1104_0_, nodes_reso1_.value as value1104_0_, nodes_reso1_1_.id_node as id1_1105_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
11:51:39,825 INFO  ~  4. HARDDISKS ATTACHED 
11:51:39,825 INFO  ~  Handler created :
11:51:40,476 INFO  ~ STARTING MONITORING ......
11:51:40,477 INFO  ~ SAVING DEPLOY INFORMATION ......
11:52:09,768 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
11:52:09,768 INFO  ~  CREATED VM : VirtualMachine [id=215, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_f39b1c93-168f-4fdb-bcb2-7f1b2fac94ef, password=vmpassword, ram=64, uuid=f39b1c93-168f-4fdb-bcb2-7f1b2fac94ef, vncAddress=null, vncPort=0]
11:52:09,837 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
11:52:09,837 INFO  ~ ------------------------- INSIDE getVMDetais()----------
11:52:09,837 INFO  ~  getVMDetais() params : vdc_id 164 vapp_id : 167 vm-id : 215
11:52:09,837 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_1108_, mkt_config0_.deploy_enterprise_id as deploy2_1108_, mkt_config0_.enterprise_name as enterprise3_1108_, mkt_config0_.mkt_branding_css as mkt4_1108_, mkt_config0_.mkt_branding_icon as mkt5_1108_, mkt_config0_.mkt_deploy_pw as mkt6_1108_, mkt_config0_.mkt_deploy_user as mkt7_1108_, mkt_config0_.mkt_theme_css as mkt8_1108_, mkt_config0_.mkt_url as mkt9_1108_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
11:52:09,838 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
11:52:09,838 INFO  ~  AbiquoUtils context set to :null
11:52:09,838 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
11:52:11,110 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
11:52:11,110 INFO  ~  CREATED VM : VirtualMachine [id=216, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_1aaf98c2-d0e0-4863-802c-dbddaf0e22fa, password=vmpassword, ram=128, uuid=1aaf98c2-d0e0-4863-802c-dbddaf0e22fa, vncAddress=null, vncPort=0]
11:52:11,182 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
11:52:11,182 INFO  ~ ------------------------- INSIDE getVMDetais()----------
11:52:11,182 INFO  ~  getVMDetais() params : vdc_id 164 vapp_id : 167 vm-id : 216
11:52:11,183 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_1108_, mkt_config0_.deploy_enterprise_id as deploy2_1108_, mkt_config0_.enterprise_name as enterprise3_1108_, mkt_config0_.mkt_branding_css as mkt4_1108_, mkt_config0_.mkt_branding_icon as mkt5_1108_, mkt_config0_.mkt_deploy_pw as mkt6_1108_, mkt_config0_.mkt_deploy_user as mkt7_1108_, mkt_config0_.mkt_theme_css as mkt8_1108_, mkt_config0_.mkt_url as mkt9_1108_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
11:52:11,183 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
11:52:11,183 INFO  ~  AbiquoUtils context set to :null
11:52:11,184 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
11:53:06,272 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
11:53:06,273 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, leasePeriod, serviceLevel, start) values (?, ?, ?, ?, ?)
11:53:06,274 DEBUG ~ /* insert models.OfferPurchased */ insert into User (user_id, id) values (?, ?)
11:53:06,274 DEBUG ~ /* insert models.OfferPurchased */ insert into Offer (offer_id, id) values (?, ?)
11:53:06,277 DEBUG ~ /* insert models.Deploy_Bundle */ insert into Deploy_Bundle (deploy_datacenter, deploy_hypervisorType, deploy_network, offerPurchased_id, vapp_id, vapp_name, vdc_name) values (?, ?, ?, ?, ?, ?, ?)
11:53:06,278 ERROR ~ Unknown column 'offerPurchased_id' in 'field list'
11:57:17,966 DEBUG ~ /* insert models.Deploy_Bundle_Nodes */ insert into Deploy_Bundle_Nodes (cpu, node_id, node_name, node_template_name, ram, vdrpIP, vdrpPort, vdrp_password) values (?, ?, ?, ?, ?, ?, ?, ?)
11:57:17,967 DEBUG ~ /* insert models.Deploy_Bundle_Nodes */ insert into Deploy_Bundle_Nodes (cpu, node_id, node_name, node_template_name, ram, vdrpIP, vdrpPort, vdrp_password) values (?, ?, ?, ?, ?, ?, ?, ?)
11:57:17,968 ERROR ~ an assertion failure occured (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session)
org.hibernate.AssertionFailure: null id in models.Deploy_Bundle entry (don't flush the Session after an exception occurs)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:82)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:190)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:147)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:240)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:99)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at play.server.PlayHandler$NettyInvocation.execute(PlayHandler.java:257)
	at play.Invoker$Invocation.run(Invoker.java:278)
	at play.server.PlayHandler$NettyInvocation.run(PlayHandler.java:235)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
11:57:17,968 WARN  ~ EXCEPTION OCCURED  IN deploy()
org.hibernate.AssertionFailure: null id in models.Deploy_Bundle entry (don't flush the Session after an exception occurs)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:82)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:190)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:147)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:240)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:99)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:08:41,672 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:08:41,672 ERROR ~ Table 'Deploy_Bundle' already exists
12:08:42,928 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:08:42,928 ERROR ~ Table 'UserPortal' already exists
12:08:43,440 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references offerPurchased (id)
12:08:43,440 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
12:08:47,082 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:08:47,120 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:08:47,535 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:08:47,727 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1122_, offer0_.datacenter as datacenter1122_, offer0_.defaultLeasePeriod as defaultL3_1122_, offer0_.defaultNetworkType as defaultN4_1122_, offer0_.defaultServiceLevel as defaultS5_1122_, offer0_.hypervisorType as hypervis6_1122_, offer0_.icon as icon1122_, offer0_.iconName as iconName1122_, offer0_.image as image1122_, offer0_.longDescription as longDes10_1122_, offer0_.name as name1122_, offer0_.price as price1122_, offer0_.serviceType as service13_1122_, offer0_.shortDescription as shortDe14_1122_, offer0_.state as state1122_, offer0_.virtualAppliance as virtual16_1122_, offer0_.virtualDatacenter as virtual17_1122_, offer0_.virtualDatacenterName as virtual18_1122_ from Offer offer0_ where offer0_.id=?
12:08:47,810 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1122_, offer0_.datacenter as datacenter1122_, offer0_.defaultLeasePeriod as defaultL3_1122_, offer0_.defaultNetworkType as defaultN4_1122_, offer0_.defaultServiceLevel as defaultS5_1122_, offer0_.hypervisorType as hypervis6_1122_, offer0_.icon as icon1122_, offer0_.iconName as iconName1122_, offer0_.image as image1122_, offer0_.longDescription as longDes10_1122_, offer0_.name as name1122_, offer0_.price as price1122_, offer0_.serviceType as service13_1122_, offer0_.shortDescription as shortDe14_1122_, offer0_.state as state1122_, offer0_.virtualAppliance as virtual16_1122_, offer0_.virtualDatacenter as virtual17_1122_, offer0_.virtualDatacenterName as virtual18_1122_ from Offer offer0_ where offer0_.id=?
12:08:47,878 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1122_, offer0_.datacenter as datacenter1122_, offer0_.defaultLeasePeriod as defaultL3_1122_, offer0_.defaultNetworkType as defaultN4_1122_, offer0_.defaultServiceLevel as defaultS5_1122_, offer0_.hypervisorType as hypervis6_1122_, offer0_.icon as icon1122_, offer0_.iconName as iconName1122_, offer0_.image as image1122_, offer0_.longDescription as longDes10_1122_, offer0_.name as name1122_, offer0_.price as price1122_, offer0_.serviceType as service13_1122_, offer0_.shortDescription as shortDe14_1122_, offer0_.state as state1122_, offer0_.virtualAppliance as virtual16_1122_, offer0_.virtualDatacenter as virtual17_1122_, offer0_.virtualDatacenterName as virtual18_1122_ from Offer offer0_ where offer0_.id=?
12:08:47,930 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:08:47,931 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1123_, offerpurch0_.expiration as expiration1123_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1123_, offerpurch0_.leasePeriod as leasePer4_1123_, offerpurch0_.offer_id as offer7_1123_, offerpurch0_.serviceLevel as serviceL5_1123_, offerpurch0_.start as start1123_, offerpurch0_.user_id as user8_1123_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:08:47,932 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:08:47,932 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:08:47,932 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1122_, offer0_.datacenter as datacenter1122_, offer0_.defaultLeasePeriod as defaultL3_1122_, offer0_.defaultNetworkType as defaultN4_1122_, offer0_.defaultServiceLevel as defaultS5_1122_, offer0_.hypervisorType as hypervis6_1122_, offer0_.icon as icon1122_, offer0_.iconName as iconName1122_, offer0_.image as image1122_, offer0_.longDescription as longDes10_1122_, offer0_.name as name1122_, offer0_.price as price1122_, offer0_.serviceType as service13_1122_, offer0_.shortDescription as shortDe14_1122_, offer0_.state as state1122_, offer0_.virtualAppliance as virtual16_1122_, offer0_.virtualDatacenter as virtual17_1122_, offer0_.virtualDatacenterName as virtual18_1122_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:08:47,933 INFO  ~ resultSet1 size :0
12:08:47,933 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:08:47,933 INFO  ~  resultSet1 size []
12:08:47,933 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:08:48,901 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
12:08:48,931 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:08:48,986 INFO  ~  virtualDC  : Bronze
12:08:49,080 INFO  ~  va  : Bronze
12:08:49,382 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
12:08:53,582 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id1122_, offer0_.datacenter as datacenter1122_, offer0_.defaultLeasePeriod as defaultL3_1122_, offer0_.defaultNetworkType as defaultN4_1122_, offer0_.defaultServiceLevel as defaultS5_1122_, offer0_.hypervisorType as hypervis6_1122_, offer0_.icon as icon1122_, offer0_.iconName as iconName1122_, offer0_.image as image1122_, offer0_.longDescription as longDes10_1122_, offer0_.name as name1122_, offer0_.price as price1122_, offer0_.serviceType as service13_1122_, offer0_.shortDescription as shortDe14_1122_, offer0_.state as state1122_, offer0_.virtualAppliance as virtual16_1122_, offer0_.virtualDatacenter as virtual17_1122_, offer0_.virtualDatacenterName as virtual18_1122_ from Offer offer0_ where offer0_.id=? limit ?
12:08:53,588 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
12:08:53,589 INFO  ~ Session user in addToServiceCatalog(): admin
12:08:53,589 INFO  ~  and  vdc 3  & va_id : 1
12:08:53,589 INFO  ~  lease period 100 years
12:08:53,616 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:08:54,068 INFO  ~  description : fsadfsadf
12:08:54,154 INFO  ~  description : fsadfsadf
12:08:54,185 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
12:08:54,187 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:08:54,187 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:08:54,188 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
12:08:54,189 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:08:54,189 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:08:54,193 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
12:08:54,320 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:08:54,630 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1122_, offer0_.datacenter as datacenter1122_, offer0_.defaultLeasePeriod as defaultL3_1122_, offer0_.defaultNetworkType as defaultN4_1122_, offer0_.defaultServiceLevel as defaultS5_1122_, offer0_.hypervisorType as hypervis6_1122_, offer0_.icon as icon1122_, offer0_.iconName as iconName1122_, offer0_.image as image1122_, offer0_.longDescription as longDes10_1122_, offer0_.name as name1122_, offer0_.price as price1122_, offer0_.serviceType as service13_1122_, offer0_.shortDescription as shortDe14_1122_, offer0_.state as state1122_, offer0_.virtualAppliance as virtual16_1122_, offer0_.virtualDatacenter as virtual17_1122_, offer0_.virtualDatacenterName as virtual18_1122_ from Offer offer0_ where offer0_.id=?
12:08:54,632 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1122_, offer0_.datacenter as datacenter1122_, offer0_.defaultLeasePeriod as defaultL3_1122_, offer0_.defaultNetworkType as defaultN4_1122_, offer0_.defaultServiceLevel as defaultS5_1122_, offer0_.hypervisorType as hypervis6_1122_, offer0_.icon as icon1122_, offer0_.iconName as iconName1122_, offer0_.image as image1122_, offer0_.longDescription as longDes10_1122_, offer0_.name as name1122_, offer0_.price as price1122_, offer0_.serviceType as service13_1122_, offer0_.shortDescription as shortDe14_1122_, offer0_.state as state1122_, offer0_.virtualAppliance as virtual16_1122_, offer0_.virtualDatacenter as virtual17_1122_, offer0_.virtualDatacenterName as virtual18_1122_ from Offer offer0_ where offer0_.id=?
12:08:54,688 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1122_, offer0_.datacenter as datacenter1122_, offer0_.defaultLeasePeriod as defaultL3_1122_, offer0_.defaultNetworkType as defaultN4_1122_, offer0_.defaultServiceLevel as defaultS5_1122_, offer0_.hypervisorType as hypervis6_1122_, offer0_.icon as icon1122_, offer0_.iconName as iconName1122_, offer0_.image as image1122_, offer0_.longDescription as longDes10_1122_, offer0_.name as name1122_, offer0_.price as price1122_, offer0_.serviceType as service13_1122_, offer0_.shortDescription as shortDe14_1122_, offer0_.state as state1122_, offer0_.virtualAppliance as virtual16_1122_, offer0_.virtualDatacenter as virtual17_1122_, offer0_.virtualDatacenterName as virtual18_1122_ from Offer offer0_ where offer0_.id=?
12:08:54,746 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:08:54,746 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1123_, offerpurch0_.expiration as expiration1123_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1123_, offerpurch0_.leasePeriod as leasePer4_1123_, offerpurch0_.offer_id as offer7_1123_, offerpurch0_.serviceLevel as serviceL5_1123_, offerpurch0_.start as start1123_, offerpurch0_.user_id as user8_1123_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:08:54,747 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:08:54,747 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:08:54,747 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1122_, offer0_.datacenter as datacenter1122_, offer0_.defaultLeasePeriod as defaultL3_1122_, offer0_.defaultNetworkType as defaultN4_1122_, offer0_.defaultServiceLevel as defaultS5_1122_, offer0_.hypervisorType as hypervis6_1122_, offer0_.icon as icon1122_, offer0_.iconName as iconName1122_, offer0_.image as image1122_, offer0_.longDescription as longDes10_1122_, offer0_.name as name1122_, offer0_.price as price1122_, offer0_.serviceType as service13_1122_, offer0_.shortDescription as shortDe14_1122_, offer0_.state as state1122_, offer0_.virtualAppliance as virtual16_1122_, offer0_.virtualDatacenter as virtual17_1122_, offer0_.virtualDatacenterName as virtual18_1122_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:08:54,748 INFO  ~ resultSet1 size :1
12:08:54,748 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:08:54,748 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@62313e2 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
12:08:54,748 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:08:54,776 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:08:54,776 INFO  ~  OfferID for icon 1
12:08:54,777 DEBUG ~ /* load models.Offer */ select offer0_.id as id1122_0_, offer0_.datacenter as datacenter1122_0_, offer0_.defaultLeasePeriod as defaultL3_1122_0_, offer0_.defaultNetworkType as defaultN4_1122_0_, offer0_.defaultServiceLevel as defaultS5_1122_0_, offer0_.hypervisorType as hypervis6_1122_0_, offer0_.icon as icon1122_0_, offer0_.iconName as iconName1122_0_, offer0_.image as image1122_0_, offer0_.longDescription as longDes10_1122_0_, offer0_.name as name1122_0_, offer0_.price as price1122_0_, offer0_.serviceType as service13_1122_0_, offer0_.shortDescription as shortDe14_1122_0_, offer0_.state as state1122_0_, offer0_.virtualAppliance as virtual16_1122_0_, offer0_.virtualDatacenter as virtual17_1122_0_, offer0_.virtualDatacenterName as virtual18_1122_0_ from Offer offer0_ where offer0_.id=?
12:08:54,778 INFO  ~ ------------------------- EXITING displayIcon()---------
12:08:57,911 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:08:57,911 INFO  ~ Enterprie ID for current User 3
12:08:57,912 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1122_, offer0_.datacenter as datacenter1122_, offer0_.defaultLeasePeriod as defaultL3_1122_, offer0_.defaultNetworkType as defaultN4_1122_, offer0_.defaultServiceLevel as defaultS5_1122_, offer0_.hypervisorType as hypervis6_1122_, offer0_.icon as icon1122_, offer0_.iconName as iconName1122_, offer0_.image as image1122_, offer0_.longDescription as longDes10_1122_, offer0_.name as name1122_, offer0_.price as price1122_, offer0_.serviceType as service13_1122_, offer0_.shortDescription as shortDe14_1122_, offer0_.state as state1122_, offer0_.virtualAppliance as virtual16_1122_, offer0_.virtualDatacenter as virtual17_1122_, offer0_.virtualDatacenterName as virtual18_1122_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:08:57,913 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:08:58,049 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:08:58,049 INFO  ~ Enterprie ID for current User 3
12:08:58,049 INFO  ~ CURRENT USER EMAIL ID: userent
12:08:58,049 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1122_, offer0_.datacenter as datacenter1122_, offer0_.defaultLeasePeriod as defaultL3_1122_, offer0_.defaultNetworkType as defaultN4_1122_, offer0_.defaultServiceLevel as defaultS5_1122_, offer0_.hypervisorType as hypervis6_1122_, offer0_.icon as icon1122_, offer0_.iconName as iconName1122_, offer0_.image as image1122_, offer0_.longDescription as longDes10_1122_, offer0_.name as name1122_, offer0_.price as price1122_, offer0_.serviceType as service13_1122_, offer0_.shortDescription as shortDe14_1122_, offer0_.state as state1122_, offer0_.virtualAppliance as virtual16_1122_, offer0_.virtualDatacenter as virtual17_1122_, offer0_.virtualDatacenterName as virtual18_1122_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:08:58,050 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:08:58,050 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id1123_, offerpurch0_.expiration as expiration1123_, offerpurch0_.idVirtualApplianceUser as idVirtua3_1123_, offerpurch0_.leasePeriod as leasePer4_1123_, offerpurch0_.offer_id as offer7_1123_, offerpurch0_.serviceLevel as serviceL5_1123_, offerpurch0_.start as start1123_, offerpurch0_.user_id as user8_1123_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:08:58,051 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:08:58,051 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:08:58,076 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:08:58,076 INFO  ~  OfferID for icon 1
12:08:58,076 DEBUG ~ /* load models.Offer */ select offer0_.id as id1122_0_, offer0_.datacenter as datacenter1122_0_, offer0_.defaultLeasePeriod as defaultL3_1122_0_, offer0_.defaultNetworkType as defaultN4_1122_0_, offer0_.defaultServiceLevel as defaultS5_1122_0_, offer0_.hypervisorType as hypervis6_1122_0_, offer0_.icon as icon1122_0_, offer0_.iconName as iconName1122_0_, offer0_.image as image1122_0_, offer0_.longDescription as longDes10_1122_0_, offer0_.name as name1122_0_, offer0_.price as price1122_0_, offer0_.serviceType as service13_1122_0_, offer0_.shortDescription as shortDe14_1122_0_, offer0_.state as state1122_0_, offer0_.virtualAppliance as virtual16_1122_0_, offer0_.virtualDatacenter as virtual17_1122_0_, offer0_.virtualDatacenterName as virtual18_1122_0_ from Offer offer0_ where offer0_.id=?
12:08:58,077 INFO  ~ ------------------------- EXITING displayIcon()---------
12:20:40,537 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
12:20:40,560 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
12:20:41,379 WARN  ~ You're running Play! in DEV mode
12:20:41,982 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
12:20:48,920 INFO  ~ Connected to jdbc:mysql://localhost/portal
12:20:54,210 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:20:54,210 ERROR ~ Table 'Deploy_Bundle' already exists
12:20:55,208 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:20:55,208 ERROR ~ Table 'UserPortal' already exists
12:20:55,820 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references offerPurchased (id)
12:20:55,820 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
12:20:58,487 INFO  ~ Application 'UserPortal' is now started !
12:21:03,193 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:21:03,903 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:21:04,970 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:21:05,280 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:21:05,390 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:21:05,446 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:21:05,530 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:21:05,530 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.offer_id as offer7_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_.user_id as user8_2_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:21:05,531 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:21:05,532 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:21:05,532 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:21:05,534 INFO  ~ resultSet1 size :0
12:21:05,534 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:21:05,534 INFO  ~  resultSet1 size []
12:21:05,534 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:21:31,553 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
12:21:31,600 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:21:31,686 INFO  ~  virtualDC  : Bronze
12:21:31,814 INFO  ~  va  : Bronze
12:21:31,998 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
12:21:37,167 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=? limit ?
12:21:37,189 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
12:21:37,189 INFO  ~ Session user in addToServiceCatalog(): admin
12:21:37,189 INFO  ~  and  vdc 3  & va_id : 1
12:21:37,189 INFO  ~  lease period 100 years
12:21:37,234 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:21:38,010 INFO  ~  description : asdfsdafsda
12:21:38,164 INFO  ~  description : asdfsdafsda
12:21:38,224 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
12:21:38,226 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:21:38,227 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:21:38,228 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
12:21:38,229 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:21:38,229 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:21:38,234 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
12:21:38,360 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:21:38,600 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:21:38,609 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:21:38,672 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:21:38,733 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:21:38,733 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.offer_id as offer7_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_.user_id as user8_2_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:21:38,734 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:21:38,734 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:21:38,734 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:21:38,736 INFO  ~ resultSet1 size :1
12:21:38,736 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:21:38,738 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@529df6cf , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
12:21:38,738 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:21:38,768 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:21:38,768 INFO  ~  OfferID for icon 1
12:21:38,770 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
12:21:38,773 INFO  ~ ------------------------- EXITING displayIcon()---------
12:21:41,968 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:21:41,968 INFO  ~ Enterprie ID for current User 3
12:21:41,968 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:21:41,971 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:21:42,144 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:21:42,144 INFO  ~ Enterprie ID for current User 3
12:21:42,144 INFO  ~ CURRENT USER EMAIL ID: userent
12:21:42,144 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:21:42,147 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:21:42,147 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.offer_id as offer7_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_.user_id as user8_2_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:21:42,147 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:21:42,147 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:21:42,181 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:21:42,181 INFO  ~  OfferID for icon 1
12:21:42,182 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
12:21:42,187 INFO  ~ ------------------------- EXITING displayIcon()---------
12:22:19,340 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
12:22:19,340 INFO  ~ CURRENT USER EMAIL ID: userent
12:22:19,340 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
12:22:19,341 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
12:22:19,356 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_8_0_, nodes1_.cpu as cpu8_0_, nodes1_.description as descript3_8_0_, nodes1_.hd as hd8_0_, nodes1_.icon as icon8_0_, nodes1_.idImage as idImage8_0_, nodes1_.node_name as node7_8_0_, nodes1_.ram as ram8_0_, nodes1_1_.offer_id as offer1_9_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:22:24,314 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
12:22:25,091 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
12:22:28,050 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:22:32,139 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
12:22:33,259 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:22:33,259 INFO  ~  vdcname : POR-userent-2012-09-10 12:22:33.258
12:22:33,358 INFO  ~  VDC to deploy: 
12:22:33,358 INFO  ~  Hypervisor to deploy: 
12:22:33,475 INFO  ~  Datacenter to deploy: 
12:22:33,475 INFO  ~  Network Built
12:22:33,476 INFO  ~ VDC built  
12:22:35,638 INFO  ~  1. VDC CREATED 
12:22:35,796 INFO  ~  2. VAPP CREATED 
12:22:35,796 INFO  ~ --------------------
12:22:37,218 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
12:22:37,979 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
12:22:37,979 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:22:37,980 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
12:22:37,981 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_8_0_, nodes1_.cpu as cpu8_0_, nodes1_.description as descript3_8_0_, nodes1_.hd as hd8_0_, nodes1_.icon as icon8_0_, nodes1_.idImage as idImage8_0_, nodes1_.node_name as node7_8_0_, nodes1_.ram as ram8_0_, nodes1_1_.offer_id as offer1_9_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:22:38,226 INFO  ~  3. VM CREATED
12:22:39,571 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_8_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_6_0_, nodes_reso1_.resourceType as resource2_6_0_, nodes_reso1_.sequence as sequence6_0_, nodes_reso1_.value as value6_0_, nodes_reso1_1_.id_node as id1_7_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:22:39,665 INFO  ~  4. HARDDISKS ATTACHED 
12:22:39,668 INFO  ~  Handler created :
12:22:40,566 INFO  ~ STARTING MONITORING ......
12:22:40,750 INFO  ~  3. VM CREATED
12:22:41,819 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_8_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_6_0_, nodes_reso1_.resourceType as resource2_6_0_, nodes_reso1_.sequence as sequence6_0_, nodes_reso1_.value as value6_0_, nodes_reso1_1_.id_node as id1_7_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:22:41,919 INFO  ~  4. HARDDISKS ATTACHED 
12:22:41,919 INFO  ~  Handler created :
12:22:42,920 INFO  ~ STARTING MONITORING ......
12:22:42,920 INFO  ~ SAVING DEPLOY INFORMATION ......
12:22:55,381 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
12:22:55,399 DEBUG ~ /* insert models.OfferPurchased */ insert into offerPurchased (expiration, idVirtualApplianceUser, leasePeriod, offer_id, serviceLevel, start, user_id) values (?, ?, ?, ?, ?, ?, ?)
12:22:55,431 DEBUG ~ /* insert models.Deploy_Bundle */ insert into Deploy_Bundle (deploy_datacenter, deploy_hypervisorType, deploy_network, offerPurchased_id, vapp_id, vapp_name, vdc_name) values (?, ?, ?, ?, ?, ?, ?)
12:22:55,440 ERROR ~ Unknown column 'offerPurchased_id' in 'field list'
12:23:20,268 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not insert: [models.Deploy_Bundle]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert: [models.Deploy_Bundle]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:64)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2345)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2852)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:799)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:791)
	at org.hibernate.engine.EJB3CascadingAction$1.cascade(EJB3CascadingAction.java:48)
	at org.hibernate.engine.Cascade.cascadeToOne(Cascade.java:392)
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:335)
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:204)
	at org.hibernate.engine.Cascade.cascadeCollectionElements(Cascade.java:425)
	at org.hibernate.engine.Cascade.cascadeCollection(Cascade.java:362)
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:338)
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:204)
	at org.hibernate.engine.Cascade.cascade(Cascade.java:161)
	at org.hibernate.event.def.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:475)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:353)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerPurchased_id' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:94)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
	... 42 more
12:24:16,430 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
12:24:16,430 INFO  ~  CREATED VM : VirtualMachine [id=217, state=NOT_ALLOCATED, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_66c8cf60-5852-4870-8ca7-d160455078cd, password=vmpassword, ram=64, uuid=66c8cf60-5852-4870-8ca7-d160455078cd, vncAddress=null, vncPort=0]
12:24:16,430 INFO  ~ NULL JAP
12:24:16,433 WARN  ~ EXCEPTION OCCURED
java.lang.IllegalArgumentException: org.hibernate.hql.ast.QuerySyntaxException: User_Consumption is not mapped [ select p from User_Consumption as p where p.vdc_id = ?1]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1201)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:275)
	at controllers.Mails.updateUserConsumption_onFailure(Mails.java:202)
	at monitor.VmEventHandler.onFailure(VmEventHandler.java:122)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:286)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.hibernate.hql.ast.QuerySyntaxException: User_Consumption is not mapped [ select p from User_Consumption as p where p.vdc_id = ?1]
	at org.hibernate.hql.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:180)
	at org.hibernate.hql.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:111)
	at org.hibernate.hql.ast.tree.FromClause.addFromElement(FromClause.java:93)
	at org.hibernate.hql.ast.HqlSqlWalker.createFromElement(HqlSqlWalker.java:327)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3441)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3325)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.fromClause(HqlSqlBaseWalker.java:733)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:584)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:301)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:244)
	at org.hibernate.hql.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:254)
	at org.hibernate.hql.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:185)
	at org.hibernate.hql.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:101)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:80)
	at org.hibernate.engine.query.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:124)
	at org.hibernate.impl.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:156)
	at org.hibernate.impl.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:135)
	at org.hibernate.impl.SessionImpl.createQuery(SessionImpl.java:1770)
	at org.hibernate.ejb.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:272)
	... 17 more
12:26:09,510 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
12:26:09,510 INFO  ~  CREATED VM : VirtualMachine [id=218, state=NOT_ALLOCATED, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_049a7372-f827-484a-a465-587b0c58143a, password=vmpassword, ram=128, uuid=049a7372-f827-484a-a465-587b0c58143a, vncAddress=null, vncPort=0]
12:26:09,510 INFO  ~ NULL JAP
12:26:09,512 WARN  ~ EXCEPTION OCCURED
java.lang.IllegalArgumentException: org.hibernate.hql.ast.QuerySyntaxException: User_Consumption is not mapped [ select p from User_Consumption as p where p.vdc_id = ?1]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1201)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:275)
	at controllers.Mails.updateUserConsumption_onFailure(Mails.java:202)
	at monitor.VmEventHandler.onFailure(VmEventHandler.java:122)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:286)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.hibernate.hql.ast.QuerySyntaxException: User_Consumption is not mapped [ select p from User_Consumption as p where p.vdc_id = ?1]
	at org.hibernate.hql.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:180)
	at org.hibernate.hql.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:111)
	at org.hibernate.hql.ast.tree.FromClause.addFromElement(FromClause.java:93)
	at org.hibernate.hql.ast.HqlSqlWalker.createFromElement(HqlSqlWalker.java:327)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3441)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3325)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.fromClause(HqlSqlBaseWalker.java:733)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:584)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:301)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:244)
	at org.hibernate.hql.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:254)
	at org.hibernate.hql.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:185)
	at org.hibernate.hql.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:101)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:80)
	at org.hibernate.engine.query.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:124)
	at org.hibernate.impl.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:156)
	at org.hibernate.impl.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:135)
	at org.hibernate.impl.SessionImpl.createQuery(SessionImpl.java:1770)
	at org.hibernate.ejb.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:272)
	... 17 more
12:39:30,079 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
12:39:30,082 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
12:39:30,466 INFO  ~ Precompiling ...
12:39:37,533 INFO  ~ Done.
12:40:53,388 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
12:40:53,391 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
12:40:53,778 WARN  ~ You're running Play! in DEV mode
12:40:53,826 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
12:40:57,826 INFO  ~ Connected to jdbc:mysql://localhost/portal
12:41:02,261 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, offerPurchased_id bigint, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:41:02,261 ERROR ~ Table 'Deploy_Bundle' already exists
12:41:03,200 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:41:03,200 ERROR ~ Table 'UserPortal' already exists
12:41:03,795 ERROR ~ Unsuccessful: alter table Deploy_Bundle add index FK12BC56DA1E33945E (offerPurchased_id), add constraint FK12BC56DA1E33945E foreign key (offerPurchased_id) references offerPurchased (id)
12:41:03,795 ERROR ~ Key column 'offerPurchased_id' doesn't exist in table
12:41:06,949 INFO  ~ Application 'UserPortal' is now started !
12:41:09,208 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:41:09,780 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:41:10,809 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:41:11,176 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:41:11,317 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:41:11,389 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:41:11,459 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:41:11,459 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.offer_id as offer7_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_.user_id as user8_2_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:41:11,460 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:41:11,460 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:41:11,460 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:41:11,462 INFO  ~ resultSet1 size :0
12:41:11,462 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:41:11,462 INFO  ~  resultSet1 size []
12:41:11,462 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:41:12,482 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
12:41:12,534 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:41:12,602 INFO  ~  virtualDC  : Bronze
12:41:12,715 INFO  ~  va  : Bronze
12:41:12,939 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
12:41:17,414 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=? limit ?
12:41:17,434 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
12:41:17,434 INFO  ~ Session user in addToServiceCatalog(): admin
12:41:17,434 INFO  ~  and  vdc 3  & va_id : 1
12:41:17,434 INFO  ~  lease period 100 years
12:41:17,478 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:41:18,153 INFO  ~  description : fasdfsadf
12:41:18,218 INFO  ~  description : fasdfsadf
12:41:18,292 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
12:41:18,295 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:41:18,295 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:41:18,296 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
12:41:18,297 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:41:18,297 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:41:18,300 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
12:41:18,465 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:41:18,688 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:41:18,697 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:41:18,755 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
