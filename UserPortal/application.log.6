12:41:18,813 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:41:18,813 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.offer_id as offer7_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_.user_id as user8_2_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:41:18,814 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:41:18,815 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:41:18,815 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:41:18,817 INFO  ~ resultSet1 size :1
12:41:18,817 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:41:18,819 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@7e94fde1 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
12:41:18,819 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:41:18,862 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:41:18,862 INFO  ~  OfferID for icon 1
12:41:18,866 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
12:41:18,869 INFO  ~ ------------------------- EXITING displayIcon()---------
12:41:24,049 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:41:24,049 INFO  ~ Enterprie ID for current User 3
12:41:24,049 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:41:24,051 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:41:24,241 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:41:24,241 INFO  ~ Enterprie ID for current User 3
12:41:24,241 INFO  ~ CURRENT USER EMAIL ID: userent
12:41:24,242 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:41:24,247 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:41:24,247 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.leasePeriod as leasePer4_2_, offerpurch0_.offer_id as offer7_2_, offerpurch0_.serviceLevel as serviceL5_2_, offerpurch0_.start as start2_, offerpurch0_.user_id as user8_2_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:41:24,248 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
12:41:24,248 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:41:24,429 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:41:24,429 INFO  ~  OfferID for icon 1
12:41:24,429 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
12:41:24,431 INFO  ~ ------------------------- EXITING displayIcon()---------
12:41:49,081 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
12:41:49,081 INFO  ~ CURRENT USER EMAIL ID: userent
12:41:49,081 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
12:41:49,083 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
12:41:49,169 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_8_0_, nodes1_.cpu as cpu8_0_, nodes1_.description as descript3_8_0_, nodes1_.hd as hd8_0_, nodes1_.icon as icon8_0_, nodes1_.idImage as idImage8_0_, nodes1_.node_name as node7_8_0_, nodes1_.ram as ram8_0_, nodes1_1_.offer_id as offer1_9_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:41:54,692 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
12:41:54,692 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
12:41:54,742 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:41:54,929 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
12:41:56,771 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:41:56,771 INFO  ~  vdcname : POR-userent-2012-09-10 12:41:56.771
12:41:56,875 INFO  ~  VDC to deploy: 
12:41:56,875 INFO  ~  Hypervisor to deploy: 
12:41:56,955 INFO  ~  Datacenter to deploy: 
12:41:56,955 INFO  ~  Network Built
12:41:56,956 INFO  ~ VDC built  
12:41:59,354 INFO  ~  1. VDC CREATED 
12:41:59,506 INFO  ~  2. VAPP CREATED 
12:41:59,507 INFO  ~ --------------------
12:42:05,866 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
12:42:05,869 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
12:42:05,869 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
12:42:05,871 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
12:42:05,871 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_8_0_, nodes1_.cpu as cpu8_0_, nodes1_.description as descript3_8_0_, nodes1_.hd as hd8_0_, nodes1_.icon as icon8_0_, nodes1_.idImage as idImage8_0_, nodes1_.node_name as node7_8_0_, nodes1_.ram as ram8_0_, nodes1_1_.offer_id as offer1_9_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:42:06,109 INFO  ~  3. VM CREATED
12:42:13,739 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_8_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_6_0_, nodes_reso1_.resourceType as resource2_6_0_, nodes_reso1_.sequence as sequence6_0_, nodes_reso1_.value as value6_0_, nodes_reso1_1_.id_node as id1_7_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:42:13,862 INFO  ~  4. HARDDISKS ATTACHED 
12:42:13,864 INFO  ~  Handler created :
12:42:14,667 INFO  ~ STARTING MONITORING ......
12:42:14,916 INFO  ~  3. VM CREATED
12:42:14,917 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_8_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_6_0_, nodes_reso1_.resourceType as resource2_6_0_, nodes_reso1_.sequence as sequence6_0_, nodes_reso1_.value as value6_0_, nodes_reso1_1_.id_node as id1_7_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:42:15,010 INFO  ~  4. HARDDISKS ATTACHED 
12:42:15,010 INFO  ~  Handler created :
12:42:16,027 INFO  ~ STARTING MONITORING ......
12:42:16,028 INFO  ~ SAVING DEPLOY INFORMATION ......
12:42:25,861 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
12:42:25,879 DEBUG ~ /* insert models.OfferPurchased */ insert into offerPurchased (expiration, idVirtualApplianceUser, leasePeriod, offer_id, serviceLevel, start, user_id) values (?, ?, ?, ?, ?, ?, ?)
12:42:25,911 DEBUG ~ /* insert models.Deploy_Bundle */ insert into Deploy_Bundle (deploy_datacenter, deploy_hypervisorType, deploy_network, offerPurchased_id, vapp_id, vapp_name, vdc_name) values (?, ?, ?, ?, ?, ?, ?)
12:42:25,920 ERROR ~ Unknown column 'offerPurchased_id' in 'field list'
12:43:00,342 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
12:43:00,342 INFO  ~  CREATED VM : VirtualMachine [id=219, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_d61764bd-4bd5-4342-afc5-e378bbf9e99f, password=vmpassword, ram=64, uuid=d61764bd-4bd5-4342-afc5-e378bbf9e99f, vncAddress=null, vncPort=0]
12:43:00,404 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
12:43:00,404 INFO  ~ ------------------------- INSIDE getVMDetais()----------
12:43:00,404 INFO  ~  getVMDetais() params : vdc_id 166 vapp_id : 169 vm-id : 219
12:43:00,404 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_10_, mkt_config0_.deploy_enterprise_id as deploy2_10_, mkt_config0_.enterprise_name as enterprise3_10_, mkt_config0_.mkt_branding_css as mkt4_10_, mkt_config0_.mkt_branding_icon as mkt5_10_, mkt_config0_.mkt_deploy_pw as mkt6_10_, mkt_config0_.mkt_deploy_user as mkt7_10_, mkt_config0_.mkt_theme_css as mkt8_10_, mkt_config0_.mkt_url as mkt9_10_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
12:43:00,405 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
12:43:00,405 INFO  ~  AbiquoUtils context set to :null
12:43:00,407 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:43:06,745 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
12:43:06,746 INFO  ~  CREATED VM : VirtualMachine [id=220, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_f10ad898-1fc5-4c15-829e-fe94479a35e5, password=vmpassword, ram=128, uuid=f10ad898-1fc5-4c15-829e-fe94479a35e5, vncAddress=null, vncPort=0]
12:43:06,799 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
12:43:06,799 INFO  ~ ------------------------- INSIDE getVMDetais()----------
12:43:06,799 INFO  ~  getVMDetais() params : vdc_id 166 vapp_id : 169 vm-id : 220
12:43:06,799 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_10_, mkt_config0_.deploy_enterprise_id as deploy2_10_, mkt_config0_.enterprise_name as enterprise3_10_, mkt_config0_.mkt_branding_css as mkt4_10_, mkt_config0_.mkt_branding_icon as mkt5_10_, mkt_config0_.mkt_deploy_pw as mkt6_10_, mkt_config0_.mkt_deploy_user as mkt7_10_, mkt_config0_.mkt_theme_css as mkt8_10_, mkt_config0_.mkt_url as mkt9_10_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
12:43:06,800 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
12:43:06,800 INFO  ~  AbiquoUtils context set to :null
12:43:06,800 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:50:01,433 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not insert: [models.Deploy_Bundle]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert: [models.Deploy_Bundle]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:64)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2345)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2852)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:799)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:791)
	at org.hibernate.engine.EJB3CascadingAction$1.cascade(EJB3CascadingAction.java:48)
	at org.hibernate.engine.Cascade.cascadeToOne(Cascade.java:392)
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:335)
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:204)
	at org.hibernate.engine.Cascade.cascadeCollectionElements(Cascade.java:425)
	at org.hibernate.engine.Cascade.cascadeCollection(Cascade.java:362)
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:338)
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:204)
	at org.hibernate.engine.Cascade.cascade(Cascade.java:161)
	at org.hibernate.event.def.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:475)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:353)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerPurchased_id' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:94)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
	... 42 more
12:50:08,091 ERROR ~ 

@6bj7j6o2l
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:50:40,744 ERROR ~ 

@6bj7j6o2m
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:50:42,168 ERROR ~ 

@6bj7j6o2n
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:51:24,279 ERROR ~ 

@6bj7j6o2o
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): property mapping has wrong number of columns: models.Deploy_Bundle.offerPurchased type: models.OfferPurchased

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.MappingException: property mapping has wrong number of columns: models.Deploy_Bundle.offerPurchased type: models.OfferPurchased
	at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:465)
	at org.hibernate.mapping.RootClass.validate(RootClass.java:235)
	at org.hibernate.cfg.Configuration.validate(Configuration.java:1332)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1835)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:51:26,909 ERROR ~ 

@6bj7j6o2p
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): property mapping has wrong number of columns: models.Deploy_Bundle.offerPurchased type: models.OfferPurchased

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.MappingException: property mapping has wrong number of columns: models.Deploy_Bundle.offerPurchased type: models.OfferPurchased
	at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:465)
	at org.hibernate.mapping.RootClass.validate(RootClass.java:235)
	at org.hibernate.cfg.Configuration.validate(Configuration.java:1332)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1835)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:51:27,272 ERROR ~ 

@6bj7j6o30
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): property mapping has wrong number of columns: models.Deploy_Bundle.offerPurchased type: models.OfferPurchased

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.MappingException: property mapping has wrong number of columns: models.Deploy_Bundle.offerPurchased type: models.OfferPurchased
	at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:465)
	at org.hibernate.mapping.RootClass.validate(RootClass.java:235)
	at org.hibernate.cfg.Configuration.validate(Configuration.java:1332)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1835)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:51:27,445 ERROR ~ 

@6bj7j6o31
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): property mapping has wrong number of columns: models.Deploy_Bundle.offerPurchased type: models.OfferPurchased

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.MappingException: property mapping has wrong number of columns: models.Deploy_Bundle.offerPurchased type: models.OfferPurchased
	at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:465)
	at org.hibernate.mapping.RootClass.validate(RootClass.java:235)
	at org.hibernate.cfg.Configuration.validate(Configuration.java:1332)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1835)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:51:27,588 ERROR ~ 

@6bj7j6o32
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): property mapping has wrong number of columns: models.Deploy_Bundle.offerPurchased type: models.OfferPurchased

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.MappingException: property mapping has wrong number of columns: models.Deploy_Bundle.offerPurchased type: models.OfferPurchased
	at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:465)
	at org.hibernate.mapping.RootClass.validate(RootClass.java:235)
	at org.hibernate.cfg.Configuration.validate(Configuration.java:1332)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1835)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:51:27,734 ERROR ~ 

@6bj7j6o33
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): property mapping has wrong number of columns: models.Deploy_Bundle.offerPurchased type: models.OfferPurchased

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.MappingException: property mapping has wrong number of columns: models.Deploy_Bundle.offerPurchased type: models.OfferPurchased
	at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:465)
	at org.hibernate.mapping.RootClass.validate(RootClass.java:235)
	at org.hibernate.cfg.Configuration.validate(Configuration.java:1332)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1835)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:51:27,885 ERROR ~ 

@6bj7j6o34
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): property mapping has wrong number of columns: models.Deploy_Bundle.offerPurchased type: models.OfferPurchased

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.MappingException: property mapping has wrong number of columns: models.Deploy_Bundle.offerPurchased type: models.OfferPurchased
	at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:465)
	at org.hibernate.mapping.RootClass.validate(RootClass.java:235)
	at org.hibernate.cfg.Configuration.validate(Configuration.java:1332)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1835)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:53:20,913 ERROR ~ 

@6bj7j6o35
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:54:03,132 ERROR ~ 

@6bj7j6o36
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:54:05,031 ERROR ~ 

@6bj7j6o37
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:54:05,251 ERROR ~ 

@6bj7j6o38
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:54:05,419 ERROR ~ 

@6bj7j6o39
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:54:05,600 ERROR ~ 

@6bj7j6o3a
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:54:05,762 ERROR ~ 

@6bj7j6o3b
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:54:05,901 ERROR ~ 

@6bj7j6o3c
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:56:32,096 ERROR ~ 

@6bj7j6o3d
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:56:34,067 ERROR ~ 

@6bj7j6o3e
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:56:35,206 ERROR ~ 

@6bj7j6o3f
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:56:35,535 ERROR ~ 

@6bj7j6o3g
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:58:35,449 ERROR ~ 

@6bj7j6o3h
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:58:35,734 ERROR ~ 

@6bj7j6o3i
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:58:35,904 ERROR ~ 

@6bj7j6o3j
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:58:36,049 ERROR ~ 

@6bj7j6o3k
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:58:36,216 ERROR ~ 

@6bj7j6o3l
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:58:36,354 ERROR ~ 

@6bj7j6o3m
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.Deploy_Bundle has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.CollectionBinder.bindCollectionSecondPass(CollectionBinder.java:1443)
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1262)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:693)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:628)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:65)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:59:16,840 ERROR ~ 

@6bj7j6o3n
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): @OneToOne or @ManyToOne on models.OfferPurchased.nodes references an unknown entity: java.util.Set

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: @OneToOne or @ManyToOne on models.OfferPurchased.nodes references an unknown entity: java.util.Set
	at org.hibernate.cfg.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:107)
	at org.hibernate.cfg.Configuration.processEndOfQueue(Configuration.java:1550)
	at org.hibernate.cfg.Configuration.processFkSecondPassInOrder(Configuration.java:1473)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1389)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:59:27,006 ERROR ~ 

@6bj7j6o3o
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
13:00:17,935 ERROR ~ 

@6bj7j6o3p
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
13:00:21,730 ERROR ~ 

@6bj7j6o40
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
13:00:22,106 ERROR ~ 

@6bj7j6o41
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: A Foreign key refering models.OfferPurchased from models.OfferPurchased has the wrong number of column. should be 2
	at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:429)
	at org.hibernate.cfg.annotations.EntityBinder.bindJoinToPersistentClass(EntityBinder.java:615)
	at org.hibernate.cfg.annotations.EntityBinder.createPrimaryColumnsToSecondaryTable(EntityBinder.java:607)
	at org.hibernate.cfg.annotations.EntityBinder.finalSecondaryTableBinding(EntityBinder.java:538)
	at org.hibernate.cfg.SecondaryTableSecondPass.doSecondPass(SecondaryTableSecondPass.java:47)
	at org.hibernate.cfg.Configuration.processSecondPassesOfType(Configuration.java:1424)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1391)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
13:05:47,799 ERROR ~ 

@6bj7j6o42
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Referenced property not a (One|Many)ToOne: models.OfferPurchased.id in mappedBy of models.Deploy_Bundle.offerPurchased

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: Referenced property not a (One|Many)ToOne: models.OfferPurchased.id in mappedBy of models.Deploy_Bundle.offerPurchased
	at org.hibernate.cfg.OneToOneSecondPass.doSecondPass(OneToOneSecondPass.java:227)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
13:07:41,601 ERROR ~ 

@6bj7j6o43
Internal Server Error (500) for request GET /ProducerLocal/admin

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Referenced property not a (One|Many)ToOne: models.OfferPurchased.id in mappedBy of models.Deploy_Bundle.offerPurchased

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.AnnotationException: Referenced property not a (One|Many)ToOne: models.OfferPurchased.id in mappedBy of models.Deploy_Bundle.offerPurchased
	at org.hibernate.cfg.OneToOneSecondPass.doSecondPass(OneToOneSecondPass.java:227)
	at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1686)
	at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1393)
	at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1345)
	at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1477)
	at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:193)
	at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:1096)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
13:08:05,489 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:08:05,489 ERROR ~ Table 'Deploy_Bundle' already exists
13:08:06,352 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:08:06,352 ERROR ~ Table 'UserPortal' already exists
13:08:06,353 ERROR ~ Unsuccessful: create table offerPurchased (id bigint not null auto_increment, expiration datetime, idVirtualApplianceUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:08:06,353 ERROR ~ Table 'offerPurchased' already exists
13:08:08,339 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
13:08:08,339 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
13:08:08,340 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
13:08:08,340 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
13:08:12,238 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:08:12,297 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:08:12,737 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:08:12,955 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.id=?
13:08:13,028 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.id=?
13:08:13,088 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.id=?
13:08:13,140 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:08:13,141 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id506_, offerpurch0_.expiration as expiration506_, offerpurch0_.idVirtualApplianceUser as idVirtua3_506_, offerpurch0_.leasePeriod as leasePer4_506_, offerpurch0_.offer_id as offer7_506_, offerpurch0_.serviceLevel as serviceL5_506_, offerpurch0_.start as start506_, offerpurch0_.user_id as user8_506_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:08:13,141 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:08:13,141 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:08:13,142 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:08:13,143 INFO  ~ resultSet1 size :0
13:08:13,143 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:08:13,143 INFO  ~  resultSet1 size []
13:08:13,143 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:08:13,247 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:08:13,488 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.id=?
13:08:13,555 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:08:13,555 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id506_, offerpurch0_.expiration as expiration506_, offerpurch0_.idVirtualApplianceUser as idVirtua3_506_, offerpurch0_.leasePeriod as leasePer4_506_, offerpurch0_.offer_id as offer7_506_, offerpurch0_.serviceLevel as serviceL5_506_, offerpurch0_.start as start506_, offerpurch0_.user_id as user8_506_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:08:13,556 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:08:13,556 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:08:13,556 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:08:13,557 INFO  ~ resultSet1 size :0
13:08:13,557 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:08:13,557 INFO  ~  resultSet1 size []
13:08:13,557 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:08:15,098 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:08:15,314 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.id=?
13:08:15,395 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.id=?
13:08:15,457 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.id=?
13:08:15,506 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:08:15,506 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id506_, offerpurch0_.expiration as expiration506_, offerpurch0_.idVirtualApplianceUser as idVirtua3_506_, offerpurch0_.leasePeriod as leasePer4_506_, offerpurch0_.offer_id as offer7_506_, offerpurch0_.serviceLevel as serviceL5_506_, offerpurch0_.start as start506_, offerpurch0_.user_id as user8_506_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:08:15,507 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:08:15,507 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:08:15,507 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:08:15,508 INFO  ~ resultSet1 size :0
13:08:15,508 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:08:15,508 INFO  ~  resultSet1 size []
13:08:15,508 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:08:15,853 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
13:08:15,894 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:08:15,951 INFO  ~  virtualDC  : Bronze
13:08:16,092 INFO  ~  va  : Bronze
13:08:16,270 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
13:08:20,523 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.id=? limit ?
13:08:20,533 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
13:08:20,533 INFO  ~ Session user in addToServiceCatalog(): admin
13:08:20,533 INFO  ~  and  vdc 3  & va_id : 1
13:08:20,533 INFO  ~  lease period 100 years
13:08:20,577 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:08:21,083 INFO  ~  description : sdadas
13:08:21,149 INFO  ~  description : sdadas
13:08:21,183 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
13:08:21,185 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
13:08:21,185 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
13:08:21,186 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
13:08:21,187 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
13:08:21,187 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
13:08:21,191 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
13:08:21,325 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:08:21,547 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.id=?
13:08:21,548 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.id=?
13:08:21,602 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.id=?
13:08:21,661 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:08:21,661 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id506_, offerpurch0_.expiration as expiration506_, offerpurch0_.idVirtualApplianceUser as idVirtua3_506_, offerpurch0_.leasePeriod as leasePer4_506_, offerpurch0_.offer_id as offer7_506_, offerpurch0_.serviceLevel as serviceL5_506_, offerpurch0_.start as start506_, offerpurch0_.user_id as user8_506_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:08:21,662 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:08:21,662 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:08:21,662 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:08:21,662 INFO  ~ resultSet1 size :1
13:08:21,662 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:08:21,663 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@1be48a7 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
13:08:21,663 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:08:21,702 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:08:21,702 INFO  ~  OfferID for icon 1
13:08:21,702 DEBUG ~ /* load models.Offer */ select offer0_.id as id505_0_, offer0_.datacenter as datacenter505_0_, offer0_.defaultLeasePeriod as defaultL3_505_0_, offer0_.defaultNetworkType as defaultN4_505_0_, offer0_.defaultServiceLevel as defaultS5_505_0_, offer0_.hypervisorType as hypervis6_505_0_, offer0_.icon as icon505_0_, offer0_.iconName as iconName505_0_, offer0_.image as image505_0_, offer0_.longDescription as longDes10_505_0_, offer0_.name as name505_0_, offer0_.price as price505_0_, offer0_.serviceType as service13_505_0_, offer0_.shortDescription as shortDe14_505_0_, offer0_.state as state505_0_, offer0_.virtualAppliance as virtual16_505_0_, offer0_.virtualDatacenter as virtual17_505_0_, offer0_.virtualDatacenterName as virtual18_505_0_ from Offer offer0_ where offer0_.id=?
13:08:21,704 INFO  ~ ------------------------- EXITING displayIcon()---------
13:08:23,854 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:08:24,057 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.id=?
13:08:24,121 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:08:24,121 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id506_, offerpurch0_.expiration as expiration506_, offerpurch0_.idVirtualApplianceUser as idVirtua3_506_, offerpurch0_.leasePeriod as leasePer4_506_, offerpurch0_.offer_id as offer7_506_, offerpurch0_.serviceLevel as serviceL5_506_, offerpurch0_.start as start506_, offerpurch0_.user_id as user8_506_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:08:24,122 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:08:24,122 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:08:24,122 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:08:24,123 INFO  ~ resultSet1 size :0
13:08:24,123 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:08:24,123 INFO  ~  resultSet1 size []
13:08:24,123 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:08:25,599 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:08:25,814 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.id=?
13:08:25,816 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.id=?
13:08:25,879 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.id=?
13:08:25,938 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:08:25,938 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id506_, offerpurch0_.expiration as expiration506_, offerpurch0_.idVirtualApplianceUser as idVirtua3_506_, offerpurch0_.leasePeriod as leasePer4_506_, offerpurch0_.offer_id as offer7_506_, offerpurch0_.serviceLevel as serviceL5_506_, offerpurch0_.start as start506_, offerpurch0_.user_id as user8_506_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:08:25,939 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:08:25,939 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:08:25,939 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:08:25,940 INFO  ~ resultSet1 size :1
13:08:25,940 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:08:25,940 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@49951921 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
13:08:25,940 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:08:25,966 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:08:25,966 INFO  ~  OfferID for icon 1
13:08:25,966 DEBUG ~ /* load models.Offer */ select offer0_.id as id505_0_, offer0_.datacenter as datacenter505_0_, offer0_.defaultLeasePeriod as defaultL3_505_0_, offer0_.defaultNetworkType as defaultN4_505_0_, offer0_.defaultServiceLevel as defaultS5_505_0_, offer0_.hypervisorType as hypervis6_505_0_, offer0_.icon as icon505_0_, offer0_.iconName as iconName505_0_, offer0_.image as image505_0_, offer0_.longDescription as longDes10_505_0_, offer0_.name as name505_0_, offer0_.price as price505_0_, offer0_.serviceType as service13_505_0_, offer0_.shortDescription as shortDe14_505_0_, offer0_.state as state505_0_, offer0_.virtualAppliance as virtual16_505_0_, offer0_.virtualDatacenter as virtual17_505_0_, offer0_.virtualDatacenterName as virtual18_505_0_ from Offer offer0_ where offer0_.id=?
13:08:25,967 INFO  ~ ------------------------- EXITING displayIcon()---------
13:08:36,193 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:08:36,193 INFO  ~ Enterprie ID for current User 3
13:08:36,193 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:08:36,195 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:08:36,326 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:08:36,326 INFO  ~ Enterprie ID for current User 3
13:08:36,326 INFO  ~ CURRENT USER EMAIL ID: userent
13:08:36,326 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:08:36,328 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:08:36,328 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id506_, offerpurch0_.expiration as expiration506_, offerpurch0_.idVirtualApplianceUser as idVirtua3_506_, offerpurch0_.leasePeriod as leasePer4_506_, offerpurch0_.offer_id as offer7_506_, offerpurch0_.serviceLevel as serviceL5_506_, offerpurch0_.start as start506_, offerpurch0_.user_id as user8_506_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:08:36,328 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:08:36,328 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:08:36,413 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:08:36,413 INFO  ~ Enterprie ID for current User 3
13:08:36,414 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:08:36,415 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:08:36,557 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:08:36,557 INFO  ~ Enterprie ID for current User 3
13:08:36,557 INFO  ~ CURRENT USER EMAIL ID: userent
13:08:36,557 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:08:36,558 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:08:36,558 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id506_, offerpurch0_.expiration as expiration506_, offerpurch0_.idVirtualApplianceUser as idVirtua3_506_, offerpurch0_.leasePeriod as leasePer4_506_, offerpurch0_.offer_id as offer7_506_, offerpurch0_.serviceLevel as serviceL5_506_, offerpurch0_.start as start506_, offerpurch0_.user_id as user8_506_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:08:36,559 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:08:36,559 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:08:36,645 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:08:36,645 INFO  ~ Enterprie ID for current User 3
13:08:36,645 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:08:36,647 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:08:36,760 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:08:36,760 INFO  ~ Enterprie ID for current User 3
13:08:36,760 INFO  ~ CURRENT USER EMAIL ID: userent
13:08:36,760 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:08:36,762 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:08:36,762 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id506_, offerpurch0_.expiration as expiration506_, offerpurch0_.idVirtualApplianceUser as idVirtua3_506_, offerpurch0_.leasePeriod as leasePer4_506_, offerpurch0_.offer_id as offer7_506_, offerpurch0_.serviceLevel as serviceL5_506_, offerpurch0_.start as start506_, offerpurch0_.user_id as user8_506_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:08:36,762 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:08:36,762 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:08:36,806 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:08:36,806 INFO  ~  OfferID for icon 1
13:08:36,806 DEBUG ~ /* load models.Offer */ select offer0_.id as id505_0_, offer0_.datacenter as datacenter505_0_, offer0_.defaultLeasePeriod as defaultL3_505_0_, offer0_.defaultNetworkType as defaultN4_505_0_, offer0_.defaultServiceLevel as defaultS5_505_0_, offer0_.hypervisorType as hypervis6_505_0_, offer0_.icon as icon505_0_, offer0_.iconName as iconName505_0_, offer0_.image as image505_0_, offer0_.longDescription as longDes10_505_0_, offer0_.name as name505_0_, offer0_.price as price505_0_, offer0_.serviceType as service13_505_0_, offer0_.shortDescription as shortDe14_505_0_, offer0_.state as state505_0_, offer0_.virtualAppliance as virtual16_505_0_, offer0_.virtualDatacenter as virtual17_505_0_, offer0_.virtualDatacenterName as virtual18_505_0_ from Offer offer0_ where offer0_.id=?
13:08:36,807 INFO  ~ ------------------------- EXITING displayIcon()---------
13:08:49,092 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
13:08:49,092 INFO  ~ CURRENT USER EMAIL ID: userent
13:08:49,092 DEBUG ~ /* load models.Offer */ select offer0_.id as id505_0_, offer0_.datacenter as datacenter505_0_, offer0_.defaultLeasePeriod as defaultL3_505_0_, offer0_.defaultNetworkType as defaultN4_505_0_, offer0_.defaultServiceLevel as defaultS5_505_0_, offer0_.hypervisorType as hypervis6_505_0_, offer0_.icon as icon505_0_, offer0_.iconName as iconName505_0_, offer0_.image as image505_0_, offer0_.longDescription as longDes10_505_0_, offer0_.name as name505_0_, offer0_.price as price505_0_, offer0_.serviceType as service13_505_0_, offer0_.shortDescription as shortDe14_505_0_, offer0_.state as state505_0_, offer0_.virtualAppliance as virtual16_505_0_, offer0_.virtualDatacenter as virtual17_505_0_, offer0_.virtualDatacenterName as virtual18_505_0_ from Offer offer0_ where offer0_.id=?
13:08:49,094 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
13:08:49,106 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_505_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_512_0_, nodes1_.cpu as cpu512_0_, nodes1_.description as descript3_512_0_, nodes1_.hd as hd512_0_, nodes1_.icon as icon512_0_, nodes1_.idImage as idImage512_0_, nodes1_.node_name as node7_512_0_, nodes1_.ram as ram512_0_, nodes1_1_.offer_id as offer1_513_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:08:50,478 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
13:08:50,478 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
13:08:50,531 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
13:08:50,710 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
13:08:50,800 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:08:50,800 INFO  ~  vdcname : POR-userent-2012-09-10 13:08:50.8
13:08:50,898 INFO  ~  VDC to deploy: 
13:08:50,898 INFO  ~  Hypervisor to deploy: 
13:08:50,978 INFO  ~  Datacenter to deploy: 
13:08:50,978 INFO  ~  Network Built
13:08:50,979 INFO  ~ VDC built  
13:08:59,342 INFO  ~  1. VDC CREATED 
13:08:59,513 INFO  ~  2. VAPP CREATED 
13:08:59,514 INFO  ~ --------------------
13:08:59,514 DEBUG ~ /* load models.Offer */ select offer0_.id as id505_0_, offer0_.datacenter as datacenter505_0_, offer0_.defaultLeasePeriod as defaultL3_505_0_, offer0_.defaultNetworkType as defaultN4_505_0_, offer0_.defaultServiceLevel as defaultS5_505_0_, offer0_.hypervisorType as hypervis6_505_0_, offer0_.icon as icon505_0_, offer0_.iconName as iconName505_0_, offer0_.image as image505_0_, offer0_.longDescription as longDes10_505_0_, offer0_.name as name505_0_, offer0_.price as price505_0_, offer0_.serviceType as service13_505_0_, offer0_.shortDescription as shortDe14_505_0_, offer0_.state as state505_0_, offer0_.virtualAppliance as virtual16_505_0_, offer0_.virtualDatacenter as virtual17_505_0_, offer0_.virtualDatacenterName as virtual18_505_0_ from Offer offer0_ where offer0_.id=?
13:08:59,516 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
13:08:59,516 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id505_, offer0_.datacenter as datacenter505_, offer0_.defaultLeasePeriod as defaultL3_505_, offer0_.defaultNetworkType as defaultN4_505_, offer0_.defaultServiceLevel as defaultS5_505_, offer0_.hypervisorType as hypervis6_505_, offer0_.icon as icon505_, offer0_.iconName as iconName505_, offer0_.image as image505_, offer0_.longDescription as longDes10_505_, offer0_.name as name505_, offer0_.price as price505_, offer0_.serviceType as service13_505_, offer0_.shortDescription as shortDe14_505_, offer0_.state as state505_, offer0_.virtualAppliance as virtual16_505_, offer0_.virtualDatacenter as virtual17_505_, offer0_.virtualDatacenterName as virtual18_505_ from Offer offer0_ where offer0_.id=?
13:08:59,517 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
13:08:59,517 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_505_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_512_0_, nodes1_.cpu as cpu512_0_, nodes1_.description as descript3_512_0_, nodes1_.hd as hd512_0_, nodes1_.icon as icon512_0_, nodes1_.idImage as idImage512_0_, nodes1_.node_name as node7_512_0_, nodes1_.ram as ram512_0_, nodes1_1_.offer_id as offer1_513_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:09:00,020 INFO  ~  3. VM CREATED
13:09:00,021 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_512_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_510_0_, nodes_reso1_.resourceType as resource2_510_0_, nodes_reso1_.sequence as sequence510_0_, nodes_reso1_.value as value510_0_, nodes_reso1_1_.id_node as id1_511_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:09:00,117 INFO  ~  4. HARDDISKS ATTACHED 
13:09:00,118 INFO  ~  Handler created :
13:09:00,837 INFO  ~ STARTING MONITORING ......
13:09:01,054 INFO  ~  3. VM CREATED
13:09:01,055 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_512_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_510_0_, nodes_reso1_.resourceType as resource2_510_0_, nodes_reso1_.sequence as sequence510_0_, nodes_reso1_.value as value510_0_, nodes_reso1_1_.id_node as id1_511_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:09:01,148 INFO  ~  4. HARDDISKS ATTACHED 
13:09:01,148 INFO  ~  Handler created :
13:09:01,893 INFO  ~ STARTING MONITORING ......
13:09:01,893 INFO  ~ SAVING DEPLOY INFORMATION ......
13:10:01,670 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:10:01,671 INFO  ~  CREATED VM : VirtualMachine [id=221, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_4f80f038-506c-44f5-b733-341d34dcfb39, password=vmpassword, ram=64, uuid=4f80f038-506c-44f5-b733-341d34dcfb39, vncAddress=null, vncPort=0]
13:10:01,732 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
13:10:01,732 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:10:01,732 INFO  ~  getVMDetais() params : vdc_id 167 vapp_id : 170 vm-id : 221
13:10:01,733 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_514_, mkt_config0_.deploy_enterprise_id as deploy2_514_, mkt_config0_.enterprise_name as enterprise3_514_, mkt_config0_.mkt_branding_css as mkt4_514_, mkt_config0_.mkt_branding_icon as mkt5_514_, mkt_config0_.mkt_deploy_pw as mkt6_514_, mkt_config0_.mkt_deploy_user as mkt7_514_, mkt_config0_.mkt_theme_css as mkt8_514_, mkt_config0_.mkt_url as mkt9_514_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:10:01,734 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:10:01,734 INFO  ~  AbiquoUtils context set to :null
13:10:01,734 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:10:07,728 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:10:07,728 INFO  ~  CREATED VM : VirtualMachine [id=222, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_07a80a89-4b65-4210-b1dc-4c64f2dc5665, password=vmpassword, ram=128, uuid=07a80a89-4b65-4210-b1dc-4c64f2dc5665, vncAddress=null, vncPort=0]
13:10:07,797 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
13:10:07,797 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:10:07,797 INFO  ~  getVMDetais() params : vdc_id 167 vapp_id : 170 vm-id : 222
13:10:07,797 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_514_, mkt_config0_.deploy_enterprise_id as deploy2_514_, mkt_config0_.enterprise_name as enterprise3_514_, mkt_config0_.mkt_branding_css as mkt4_514_, mkt_config0_.mkt_branding_icon as mkt5_514_, mkt_config0_.mkt_deploy_pw as mkt6_514_, mkt_config0_.mkt_deploy_user as mkt7_514_, mkt_config0_.mkt_theme_css as mkt8_514_, mkt_config0_.mkt_url as mkt9_514_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:10:07,798 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:10:07,798 INFO  ~  AbiquoUtils context set to :null
13:10:07,798 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:16:55,998 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.PropertyAccessException: could not set a field value by reflection setter of models.OfferPurchased.id
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.PropertyAccessException: could not set a field value by reflection setter of models.OfferPurchased.id
	at org.hibernate.property.DirectPropertyAccessor$DirectSetter.set(DirectPropertyAccessor.java:151)
	at org.hibernate.mapping.Component$ValueGenerationPlan.execute(Component.java:439)
	at org.hibernate.id.CompositeNestedGeneratedValueGenerator.generate(CompositeNestedGeneratedValueGenerator.java:122)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:121)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: java.lang.IllegalArgumentException: Can not set long field models.OfferPurchased.id to org.hibernate.id.IdentifierGeneratorHelper$2
	at org.hibernate.property.DirectPropertyAccessor$DirectSetter.set(DirectPropertyAccessor.java:139)
	... 20 more
13:17:22,651 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:17:22,651 ERROR ~ Table 'Deploy_Bundle' already exists
13:17:24,089 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:17:24,089 ERROR ~ Table 'UserPortal' already exists
13:17:24,089 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:17:24,089 ERROR ~ Table 'offerPurchased' already exists
13:17:25,917 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
13:17:25,917 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
13:17:25,918 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
13:17:25,918 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
13:17:25,958 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
13:17:25,958 INFO  ~ CURRENT USER EMAIL ID: userent
13:17:25,958 DEBUG ~ /* load models.Offer */ select offer0_.id as id527_0_, offer0_.datacenter as datacenter527_0_, offer0_.defaultLeasePeriod as defaultL3_527_0_, offer0_.defaultNetworkType as defaultN4_527_0_, offer0_.defaultServiceLevel as defaultS5_527_0_, offer0_.hypervisorType as hypervis6_527_0_, offer0_.icon as icon527_0_, offer0_.iconName as iconName527_0_, offer0_.image as image527_0_, offer0_.longDescription as longDes10_527_0_, offer0_.name as name527_0_, offer0_.price as price527_0_, offer0_.serviceType as service13_527_0_, offer0_.shortDescription as shortDe14_527_0_, offer0_.state as state527_0_, offer0_.virtualAppliance as virtual16_527_0_, offer0_.virtualDatacenter as virtual17_527_0_, offer0_.virtualDatacenterName as virtual18_527_0_ from Offer offer0_ where offer0_.id=?
13:17:25,959 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
13:17:26,019 ERROR ~ 

@6bj7j6o45
Internal Server Error (500) for request GET /consumer/purchaseconfirmation?offer_id=1

Template execution error (In /app/views/Consumer/purchaseConfirmation.html around line 30)
Execution error occured in template /app/views/Consumer/purchaseConfirmation.html. Exception raised was NullPointerException : Cannot get property 'name' on null object.

play.exceptions.TemplateExecutionException: Cannot get property 'name' on null object
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:86)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:257)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Consumer.purchaseConfirmation(Consumer.java:220)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.NullPointerException: Cannot get property 'name' on null object
	at /app/views/Consumer/purchaseConfirmation.html.(line:30)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:232)
	... 13 more
13:17:26,026 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
13:17:26,026 INFO  ~ CURRENT USER EMAIL ID: userent
13:17:26,026 DEBUG ~ /* load models.Offer */ select offer0_.id as id527_0_, offer0_.datacenter as datacenter527_0_, offer0_.defaultLeasePeriod as defaultL3_527_0_, offer0_.defaultNetworkType as defaultN4_527_0_, offer0_.defaultServiceLevel as defaultS5_527_0_, offer0_.hypervisorType as hypervis6_527_0_, offer0_.icon as icon527_0_, offer0_.iconName as iconName527_0_, offer0_.image as image527_0_, offer0_.longDescription as longDes10_527_0_, offer0_.name as name527_0_, offer0_.price as price527_0_, offer0_.serviceType as service13_527_0_, offer0_.shortDescription as shortDe14_527_0_, offer0_.state as state527_0_, offer0_.virtualAppliance as virtual16_527_0_, offer0_.virtualDatacenter as virtual17_527_0_, offer0_.virtualDatacenterName as virtual18_527_0_ from Offer offer0_ where offer0_.id=?
13:17:26,028 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
13:17:26,118 ERROR ~ 

@6bj7j6o46
Internal Server Error (500) for request GET /consumer/purchaseconfirmation?offer_id=1

Template execution error (In /app/views/Consumer/purchaseConfirmation.html around line 30)
Execution error occured in template /app/views/Consumer/purchaseConfirmation.html. Exception raised was NullPointerException : Cannot get property 'name' on null object.

play.exceptions.TemplateExecutionException: Cannot get property 'name' on null object
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:86)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:257)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Consumer.purchaseConfirmation(Consumer.java:220)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.NullPointerException: Cannot get property 'name' on null object
	at /app/views/Consumer/purchaseConfirmation.html.(line:30)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:232)
	... 13 more
13:17:42,638 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:17:42,694 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:17:43,149 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:17:43,540 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id527_, offer0_.datacenter as datacenter527_, offer0_.defaultLeasePeriod as defaultL3_527_, offer0_.defaultNetworkType as defaultN4_527_, offer0_.defaultServiceLevel as defaultS5_527_, offer0_.hypervisorType as hypervis6_527_, offer0_.icon as icon527_, offer0_.iconName as iconName527_, offer0_.image as image527_, offer0_.longDescription as longDes10_527_, offer0_.name as name527_, offer0_.price as price527_, offer0_.serviceType as service13_527_, offer0_.shortDescription as shortDe14_527_, offer0_.state as state527_, offer0_.virtualAppliance as virtual16_527_, offer0_.virtualDatacenter as virtual17_527_, offer0_.virtualDatacenterName as virtual18_527_ from Offer offer0_ where offer0_.id=?
13:17:43,716 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id527_, offer0_.datacenter as datacenter527_, offer0_.defaultLeasePeriod as defaultL3_527_, offer0_.defaultNetworkType as defaultN4_527_, offer0_.defaultServiceLevel as defaultS5_527_, offer0_.hypervisorType as hypervis6_527_, offer0_.icon as icon527_, offer0_.iconName as iconName527_, offer0_.image as image527_, offer0_.longDescription as longDes10_527_, offer0_.name as name527_, offer0_.price as price527_, offer0_.serviceType as service13_527_, offer0_.shortDescription as shortDe14_527_, offer0_.state as state527_, offer0_.virtualAppliance as virtual16_527_, offer0_.virtualDatacenter as virtual17_527_, offer0_.virtualDatacenterName as virtual18_527_ from Offer offer0_ where offer0_.id=?
13:17:43,805 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id527_, offer0_.datacenter as datacenter527_, offer0_.defaultLeasePeriod as defaultL3_527_, offer0_.defaultNetworkType as defaultN4_527_, offer0_.defaultServiceLevel as defaultS5_527_, offer0_.hypervisorType as hypervis6_527_, offer0_.icon as icon527_, offer0_.iconName as iconName527_, offer0_.image as image527_, offer0_.longDescription as longDes10_527_, offer0_.name as name527_, offer0_.price as price527_, offer0_.serviceType as service13_527_, offer0_.shortDescription as shortDe14_527_, offer0_.state as state527_, offer0_.virtualAppliance as virtual16_527_, offer0_.virtualDatacenter as virtual17_527_, offer0_.virtualDatacenterName as virtual18_527_ from Offer offer0_ where offer0_.id=?
13:17:43,902 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:17:43,902 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id528_, offerpurch0_.expiration as expiration528_, offerpurch0_.idVirtualApplianceUser as idVirtua3_528_, offerpurch0_.leasePeriod as leasePer4_528_, offerpurch0_.offer_id as offer7_528_, offerpurch0_.serviceLevel as serviceL5_528_, offerpurch0_.start as start528_, offerpurch0_.user_id as user8_528_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:17:43,903 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:17:43,903 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:17:43,903 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id527_, offer0_.datacenter as datacenter527_, offer0_.defaultLeasePeriod as defaultL3_527_, offer0_.defaultNetworkType as defaultN4_527_, offer0_.defaultServiceLevel as defaultS5_527_, offer0_.hypervisorType as hypervis6_527_, offer0_.icon as icon527_, offer0_.iconName as iconName527_, offer0_.image as image527_, offer0_.longDescription as longDes10_527_, offer0_.name as name527_, offer0_.price as price527_, offer0_.serviceType as service13_527_, offer0_.shortDescription as shortDe14_527_, offer0_.state as state527_, offer0_.virtualAppliance as virtual16_527_, offer0_.virtualDatacenter as virtual17_527_, offer0_.virtualDatacenterName as virtual18_527_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:17:43,904 INFO  ~ resultSet1 size :0
13:17:43,904 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:17:43,904 INFO  ~  resultSet1 size []
13:17:43,904 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:17:45,187 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
13:17:45,232 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:17:45,328 INFO  ~  virtualDC  : Bronze
13:17:45,491 INFO  ~  va  : Bronze
13:17:45,800 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
13:17:49,318 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id527_, offer0_.datacenter as datacenter527_, offer0_.defaultLeasePeriod as defaultL3_527_, offer0_.defaultNetworkType as defaultN4_527_, offer0_.defaultServiceLevel as defaultS5_527_, offer0_.hypervisorType as hypervis6_527_, offer0_.icon as icon527_, offer0_.iconName as iconName527_, offer0_.image as image527_, offer0_.longDescription as longDes10_527_, offer0_.name as name527_, offer0_.price as price527_, offer0_.serviceType as service13_527_, offer0_.shortDescription as shortDe14_527_, offer0_.state as state527_, offer0_.virtualAppliance as virtual16_527_, offer0_.virtualDatacenter as virtual17_527_, offer0_.virtualDatacenterName as virtual18_527_ from Offer offer0_ where offer0_.id=? limit ?
13:17:49,331 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
13:17:49,331 INFO  ~ Session user in addToServiceCatalog(): admin
13:17:49,331 INFO  ~  and  vdc 3  & va_id : 1
13:17:49,331 INFO  ~  lease period 100 years
13:17:49,365 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:17:50,079 INFO  ~  description : sdfaf
13:17:50,197 INFO  ~  description : sdfaf
13:17:50,231 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
13:17:50,232 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
13:17:50,232 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
13:17:50,233 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
13:17:50,233 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
13:17:50,233 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
13:17:50,235 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
13:17:50,349 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:17:50,559 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id527_, offer0_.datacenter as datacenter527_, offer0_.defaultLeasePeriod as defaultL3_527_, offer0_.defaultNetworkType as defaultN4_527_, offer0_.defaultServiceLevel as defaultS5_527_, offer0_.hypervisorType as hypervis6_527_, offer0_.icon as icon527_, offer0_.iconName as iconName527_, offer0_.image as image527_, offer0_.longDescription as longDes10_527_, offer0_.name as name527_, offer0_.price as price527_, offer0_.serviceType as service13_527_, offer0_.shortDescription as shortDe14_527_, offer0_.state as state527_, offer0_.virtualAppliance as virtual16_527_, offer0_.virtualDatacenter as virtual17_527_, offer0_.virtualDatacenterName as virtual18_527_ from Offer offer0_ where offer0_.id=?
13:17:50,561 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id527_, offer0_.datacenter as datacenter527_, offer0_.defaultLeasePeriod as defaultL3_527_, offer0_.defaultNetworkType as defaultN4_527_, offer0_.defaultServiceLevel as defaultS5_527_, offer0_.hypervisorType as hypervis6_527_, offer0_.icon as icon527_, offer0_.iconName as iconName527_, offer0_.image as image527_, offer0_.longDescription as longDes10_527_, offer0_.name as name527_, offer0_.price as price527_, offer0_.serviceType as service13_527_, offer0_.shortDescription as shortDe14_527_, offer0_.state as state527_, offer0_.virtualAppliance as virtual16_527_, offer0_.virtualDatacenter as virtual17_527_, offer0_.virtualDatacenterName as virtual18_527_ from Offer offer0_ where offer0_.id=?
13:17:50,618 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id527_, offer0_.datacenter as datacenter527_, offer0_.defaultLeasePeriod as defaultL3_527_, offer0_.defaultNetworkType as defaultN4_527_, offer0_.defaultServiceLevel as defaultS5_527_, offer0_.hypervisorType as hypervis6_527_, offer0_.icon as icon527_, offer0_.iconName as iconName527_, offer0_.image as image527_, offer0_.longDescription as longDes10_527_, offer0_.name as name527_, offer0_.price as price527_, offer0_.serviceType as service13_527_, offer0_.shortDescription as shortDe14_527_, offer0_.state as state527_, offer0_.virtualAppliance as virtual16_527_, offer0_.virtualDatacenter as virtual17_527_, offer0_.virtualDatacenterName as virtual18_527_ from Offer offer0_ where offer0_.id=?
13:17:50,709 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:17:50,709 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id528_, offerpurch0_.expiration as expiration528_, offerpurch0_.idVirtualApplianceUser as idVirtua3_528_, offerpurch0_.leasePeriod as leasePer4_528_, offerpurch0_.offer_id as offer7_528_, offerpurch0_.serviceLevel as serviceL5_528_, offerpurch0_.start as start528_, offerpurch0_.user_id as user8_528_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:17:50,710 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:17:50,710 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:17:50,710 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id527_, offer0_.datacenter as datacenter527_, offer0_.defaultLeasePeriod as defaultL3_527_, offer0_.defaultNetworkType as defaultN4_527_, offer0_.defaultServiceLevel as defaultS5_527_, offer0_.hypervisorType as hypervis6_527_, offer0_.icon as icon527_, offer0_.iconName as iconName527_, offer0_.image as image527_, offer0_.longDescription as longDes10_527_, offer0_.name as name527_, offer0_.price as price527_, offer0_.serviceType as service13_527_, offer0_.shortDescription as shortDe14_527_, offer0_.state as state527_, offer0_.virtualAppliance as virtual16_527_, offer0_.virtualDatacenter as virtual17_527_, offer0_.virtualDatacenterName as virtual18_527_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:17:50,711 INFO  ~ resultSet1 size :1
13:17:50,711 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:17:50,712 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@485b13dd , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
13:17:50,712 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:17:50,750 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:17:50,750 INFO  ~  OfferID for icon 1
13:17:50,750 DEBUG ~ /* load models.Offer */ select offer0_.id as id527_0_, offer0_.datacenter as datacenter527_0_, offer0_.defaultLeasePeriod as defaultL3_527_0_, offer0_.defaultNetworkType as defaultN4_527_0_, offer0_.defaultServiceLevel as defaultS5_527_0_, offer0_.hypervisorType as hypervis6_527_0_, offer0_.icon as icon527_0_, offer0_.iconName as iconName527_0_, offer0_.image as image527_0_, offer0_.longDescription as longDes10_527_0_, offer0_.name as name527_0_, offer0_.price as price527_0_, offer0_.serviceType as service13_527_0_, offer0_.shortDescription as shortDe14_527_0_, offer0_.state as state527_0_, offer0_.virtualAppliance as virtual16_527_0_, offer0_.virtualDatacenter as virtual17_527_0_, offer0_.virtualDatacenterName as virtual18_527_0_ from Offer offer0_ where offer0_.id=?
13:17:50,752 INFO  ~ ------------------------- EXITING displayIcon()---------
13:17:53,739 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:17:53,739 INFO  ~ Enterprie ID for current User 3
13:17:53,739 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id527_, offer0_.datacenter as datacenter527_, offer0_.defaultLeasePeriod as defaultL3_527_, offer0_.defaultNetworkType as defaultN4_527_, offer0_.defaultServiceLevel as defaultS5_527_, offer0_.hypervisorType as hypervis6_527_, offer0_.icon as icon527_, offer0_.iconName as iconName527_, offer0_.image as image527_, offer0_.longDescription as longDes10_527_, offer0_.name as name527_, offer0_.price as price527_, offer0_.serviceType as service13_527_, offer0_.shortDescription as shortDe14_527_, offer0_.state as state527_, offer0_.virtualAppliance as virtual16_527_, offer0_.virtualDatacenter as virtual17_527_, offer0_.virtualDatacenterName as virtual18_527_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:17:53,740 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:17:53,863 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:17:53,864 INFO  ~ Enterprie ID for current User 3
13:17:53,864 INFO  ~ CURRENT USER EMAIL ID: userent
13:17:53,864 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id527_, offer0_.datacenter as datacenter527_, offer0_.defaultLeasePeriod as defaultL3_527_, offer0_.defaultNetworkType as defaultN4_527_, offer0_.defaultServiceLevel as defaultS5_527_, offer0_.hypervisorType as hypervis6_527_, offer0_.icon as icon527_, offer0_.iconName as iconName527_, offer0_.image as image527_, offer0_.longDescription as longDes10_527_, offer0_.name as name527_, offer0_.price as price527_, offer0_.serviceType as service13_527_, offer0_.shortDescription as shortDe14_527_, offer0_.state as state527_, offer0_.virtualAppliance as virtual16_527_, offer0_.virtualDatacenter as virtual17_527_, offer0_.virtualDatacenterName as virtual18_527_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:17:53,866 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:17:53,866 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id528_, offerpurch0_.expiration as expiration528_, offerpurch0_.idVirtualApplianceUser as idVirtua3_528_, offerpurch0_.leasePeriod as leasePer4_528_, offerpurch0_.offer_id as offer7_528_, offerpurch0_.serviceLevel as serviceL5_528_, offerpurch0_.start as start528_, offerpurch0_.user_id as user8_528_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:17:53,866 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:17:53,866 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:17:53,942 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:17:53,942 INFO  ~  OfferID for icon 1
13:17:53,942 DEBUG ~ /* load models.Offer */ select offer0_.id as id527_0_, offer0_.datacenter as datacenter527_0_, offer0_.defaultLeasePeriod as defaultL3_527_0_, offer0_.defaultNetworkType as defaultN4_527_0_, offer0_.defaultServiceLevel as defaultS5_527_0_, offer0_.hypervisorType as hypervis6_527_0_, offer0_.icon as icon527_0_, offer0_.iconName as iconName527_0_, offer0_.image as image527_0_, offer0_.longDescription as longDes10_527_0_, offer0_.name as name527_0_, offer0_.price as price527_0_, offer0_.serviceType as service13_527_0_, offer0_.shortDescription as shortDe14_527_0_, offer0_.state as state527_0_, offer0_.virtualAppliance as virtual16_527_0_, offer0_.virtualDatacenter as virtual17_527_0_, offer0_.virtualDatacenterName as virtual18_527_0_ from Offer offer0_ where offer0_.id=?
13:17:53,943 INFO  ~ ------------------------- EXITING displayIcon()---------
13:18:00,093 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
13:18:00,093 INFO  ~ CURRENT USER EMAIL ID: userent
13:18:00,093 DEBUG ~ /* load models.Offer */ select offer0_.id as id527_0_, offer0_.datacenter as datacenter527_0_, offer0_.defaultLeasePeriod as defaultL3_527_0_, offer0_.defaultNetworkType as defaultN4_527_0_, offer0_.defaultServiceLevel as defaultS5_527_0_, offer0_.hypervisorType as hypervis6_527_0_, offer0_.icon as icon527_0_, offer0_.iconName as iconName527_0_, offer0_.image as image527_0_, offer0_.longDescription as longDes10_527_0_, offer0_.name as name527_0_, offer0_.price as price527_0_, offer0_.serviceType as service13_527_0_, offer0_.shortDescription as shortDe14_527_0_, offer0_.state as state527_0_, offer0_.virtualAppliance as virtual16_527_0_, offer0_.virtualDatacenter as virtual17_527_0_, offer0_.virtualDatacenterName as virtual18_527_0_ from Offer offer0_ where offer0_.id=?
13:18:00,094 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
13:18:00,197 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_527_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_534_0_, nodes1_.cpu as cpu534_0_, nodes1_.description as descript3_534_0_, nodes1_.hd as hd534_0_, nodes1_.icon as icon534_0_, nodes1_.idImage as idImage534_0_, nodes1_.node_name as node7_534_0_, nodes1_.ram as ram534_0_, nodes1_1_.offer_id as offer1_535_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:18:01,902 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
13:18:01,902 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
13:18:01,939 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
13:18:02,127 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
13:18:02,234 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:18:02,234 INFO  ~  vdcname : POR-userent-2012-09-10 13:18:02.234
13:18:02,330 INFO  ~  VDC to deploy: 
13:18:02,330 INFO  ~  Hypervisor to deploy: 
13:18:02,421 INFO  ~  Datacenter to deploy: 
13:18:02,421 INFO  ~  Network Built
13:18:02,422 INFO  ~ VDC built  
13:18:04,838 INFO  ~  1. VDC CREATED 
13:18:05,070 INFO  ~  2. VAPP CREATED 
13:18:05,070 INFO  ~ --------------------
13:18:05,071 DEBUG ~ /* load models.Offer */ select offer0_.id as id527_0_, offer0_.datacenter as datacenter527_0_, offer0_.defaultLeasePeriod as defaultL3_527_0_, offer0_.defaultNetworkType as defaultN4_527_0_, offer0_.defaultServiceLevel as defaultS5_527_0_, offer0_.hypervisorType as hypervis6_527_0_, offer0_.icon as icon527_0_, offer0_.iconName as iconName527_0_, offer0_.image as image527_0_, offer0_.longDescription as longDes10_527_0_, offer0_.name as name527_0_, offer0_.price as price527_0_, offer0_.serviceType as service13_527_0_, offer0_.shortDescription as shortDe14_527_0_, offer0_.state as state527_0_, offer0_.virtualAppliance as virtual16_527_0_, offer0_.virtualDatacenter as virtual17_527_0_, offer0_.virtualDatacenterName as virtual18_527_0_ from Offer offer0_ where offer0_.id=?
13:18:05,073 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
13:18:05,073 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id527_, offer0_.datacenter as datacenter527_, offer0_.defaultLeasePeriod as defaultL3_527_, offer0_.defaultNetworkType as defaultN4_527_, offer0_.defaultServiceLevel as defaultS5_527_, offer0_.hypervisorType as hypervis6_527_, offer0_.icon as icon527_, offer0_.iconName as iconName527_, offer0_.image as image527_, offer0_.longDescription as longDes10_527_, offer0_.name as name527_, offer0_.price as price527_, offer0_.serviceType as service13_527_, offer0_.shortDescription as shortDe14_527_, offer0_.state as state527_, offer0_.virtualAppliance as virtual16_527_, offer0_.virtualDatacenter as virtual17_527_, offer0_.virtualDatacenterName as virtual18_527_ from Offer offer0_ where offer0_.id=?
13:18:05,074 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
13:18:05,074 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_527_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_534_0_, nodes1_.cpu as cpu534_0_, nodes1_.description as descript3_534_0_, nodes1_.hd as hd534_0_, nodes1_.icon as icon534_0_, nodes1_.idImage as idImage534_0_, nodes1_.node_name as node7_534_0_, nodes1_.ram as ram534_0_, nodes1_1_.offer_id as offer1_535_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:18:05,288 INFO  ~  3. VM CREATED
13:18:05,289 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_534_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_532_0_, nodes_reso1_.resourceType as resource2_532_0_, nodes_reso1_.sequence as sequence532_0_, nodes_reso1_.value as value532_0_, nodes_reso1_1_.id_node as id1_533_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:18:05,370 INFO  ~  4. HARDDISKS ATTACHED 
13:18:05,371 INFO  ~  Handler created :
13:18:06,057 INFO  ~ STARTING MONITORING ......
13:18:06,445 INFO  ~  3. VM CREATED
13:18:06,446 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_534_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_532_0_, nodes_reso1_.resourceType as resource2_532_0_, nodes_reso1_.sequence as sequence532_0_, nodes_reso1_.value as value532_0_, nodes_reso1_1_.id_node as id1_533_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:18:06,600 INFO  ~  4. HARDDISKS ATTACHED 
13:18:06,601 INFO  ~  Handler created :
13:18:08,693 INFO  ~ STARTING MONITORING ......
13:18:08,693 INFO  ~ SAVING DEPLOY INFORMATION ......
13:18:31,405 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.PropertyAccessException: could not set a field value by reflection setter of models.OfferPurchased.id
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.PropertyAccessException: could not set a field value by reflection setter of models.OfferPurchased.id
	at org.hibernate.property.DirectPropertyAccessor$DirectSetter.set(DirectPropertyAccessor.java:151)
	at org.hibernate.mapping.Component$ValueGenerationPlan.execute(Component.java:439)
	at org.hibernate.id.CompositeNestedGeneratedValueGenerator.generate(CompositeNestedGeneratedValueGenerator.java:122)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:121)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: java.lang.IllegalArgumentException: Can not set java.lang.Integer field models.OfferPurchased.id to org.hibernate.id.IdentifierGeneratorHelper$2
	at org.hibernate.property.DirectPropertyAccessor$DirectSetter.set(DirectPropertyAccessor.java:139)
	... 20 more
13:18:51,698 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:18:51,699 INFO  ~  CREATED VM : VirtualMachine [id=223, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_69c305b0-421a-477d-aae3-b9d3aec44823, password=vmpassword, ram=64, uuid=69c305b0-421a-477d-aae3-b9d3aec44823, vncAddress=null, vncPort=0]
13:18:51,738 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
13:18:51,738 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:18:51,739 INFO  ~  getVMDetais() params : vdc_id 168 vapp_id : 171 vm-id : 223
13:18:51,739 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_536_, mkt_config0_.deploy_enterprise_id as deploy2_536_, mkt_config0_.enterprise_name as enterprise3_536_, mkt_config0_.mkt_branding_css as mkt4_536_, mkt_config0_.mkt_branding_icon as mkt5_536_, mkt_config0_.mkt_deploy_pw as mkt6_536_, mkt_config0_.mkt_deploy_user as mkt7_536_, mkt_config0_.mkt_theme_css as mkt8_536_, mkt_config0_.mkt_url as mkt9_536_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:18:51,740 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:18:51,740 INFO  ~  AbiquoUtils context set to :null
13:18:51,740 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:18:54,293 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:18:54,293 INFO  ~  CREATED VM : VirtualMachine [id=224, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_73d922d5-20e5-4eef-8aca-ae87d307a960, password=vmpassword, ram=128, uuid=73d922d5-20e5-4eef-8aca-ae87d307a960, vncAddress=null, vncPort=0]
13:18:54,329 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
13:18:54,329 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:18:54,329 INFO  ~  getVMDetais() params : vdc_id 168 vapp_id : 171 vm-id : 224
13:18:54,329 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_536_, mkt_config0_.deploy_enterprise_id as deploy2_536_, mkt_config0_.enterprise_name as enterprise3_536_, mkt_config0_.mkt_branding_css as mkt4_536_, mkt_config0_.mkt_branding_icon as mkt5_536_, mkt_config0_.mkt_deploy_pw as mkt6_536_, mkt_config0_.mkt_deploy_user as mkt7_536_, mkt_config0_.mkt_theme_css as mkt8_536_, mkt_config0_.mkt_url as mkt9_536_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:18:54,329 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:18:54,329 INFO  ~  AbiquoUtils context set to :null
13:18:54,329 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:18:57,735 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:18:57,735 ERROR ~ Table 'Deploy_Bundle' already exists
13:18:58,806 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:18:58,806 ERROR ~ Table 'UserPortal' already exists
13:18:58,807 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:18:58,807 ERROR ~ Table 'offerPurchased' already exists
13:19:01,535 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
13:19:01,535 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
13:19:01,536 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
13:19:01,536 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
13:19:02,838 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:19:02,882 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:19:03,335 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:19:03,544 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id549_, offer0_.datacenter as datacenter549_, offer0_.defaultLeasePeriod as defaultL3_549_, offer0_.defaultNetworkType as defaultN4_549_, offer0_.defaultServiceLevel as defaultS5_549_, offer0_.hypervisorType as hypervis6_549_, offer0_.icon as icon549_, offer0_.iconName as iconName549_, offer0_.image as image549_, offer0_.longDescription as longDes10_549_, offer0_.name as name549_, offer0_.price as price549_, offer0_.serviceType as service13_549_, offer0_.shortDescription as shortDe14_549_, offer0_.state as state549_, offer0_.virtualAppliance as virtual16_549_, offer0_.virtualDatacenter as virtual17_549_, offer0_.virtualDatacenterName as virtual18_549_ from Offer offer0_ where offer0_.id=?
13:19:03,626 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id549_, offer0_.datacenter as datacenter549_, offer0_.defaultLeasePeriod as defaultL3_549_, offer0_.defaultNetworkType as defaultN4_549_, offer0_.defaultServiceLevel as defaultS5_549_, offer0_.hypervisorType as hypervis6_549_, offer0_.icon as icon549_, offer0_.iconName as iconName549_, offer0_.image as image549_, offer0_.longDescription as longDes10_549_, offer0_.name as name549_, offer0_.price as price549_, offer0_.serviceType as service13_549_, offer0_.shortDescription as shortDe14_549_, offer0_.state as state549_, offer0_.virtualAppliance as virtual16_549_, offer0_.virtualDatacenter as virtual17_549_, offer0_.virtualDatacenterName as virtual18_549_ from Offer offer0_ where offer0_.id=?
13:19:03,681 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id549_, offer0_.datacenter as datacenter549_, offer0_.defaultLeasePeriod as defaultL3_549_, offer0_.defaultNetworkType as defaultN4_549_, offer0_.defaultServiceLevel as defaultS5_549_, offer0_.hypervisorType as hypervis6_549_, offer0_.icon as icon549_, offer0_.iconName as iconName549_, offer0_.image as image549_, offer0_.longDescription as longDes10_549_, offer0_.name as name549_, offer0_.price as price549_, offer0_.serviceType as service13_549_, offer0_.shortDescription as shortDe14_549_, offer0_.state as state549_, offer0_.virtualAppliance as virtual16_549_, offer0_.virtualDatacenter as virtual17_549_, offer0_.virtualDatacenterName as virtual18_549_ from Offer offer0_ where offer0_.id=?
13:19:03,739 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:19:03,749 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id550_, offerpurch0_.expiration as expiration550_, offerpurch0_.idVirtualApplianceUser as idVirtua3_550_, offerpurch0_.leasePeriod as leasePer4_550_, offerpurch0_.offer_id as offer7_550_, offerpurch0_.serviceLevel as serviceL5_550_, offerpurch0_.start as start550_, offerpurch0_.user_id as user8_550_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:19:03,749 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:19:03,749 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:19:03,750 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id549_, offer0_.datacenter as datacenter549_, offer0_.defaultLeasePeriod as defaultL3_549_, offer0_.defaultNetworkType as defaultN4_549_, offer0_.defaultServiceLevel as defaultS5_549_, offer0_.hypervisorType as hypervis6_549_, offer0_.icon as icon549_, offer0_.iconName as iconName549_, offer0_.image as image549_, offer0_.longDescription as longDes10_549_, offer0_.name as name549_, offer0_.price as price549_, offer0_.serviceType as service13_549_, offer0_.shortDescription as shortDe14_549_, offer0_.state as state549_, offer0_.virtualAppliance as virtual16_549_, offer0_.virtualDatacenter as virtual17_549_, offer0_.virtualDatacenterName as virtual18_549_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:19:03,750 INFO  ~ resultSet1 size :0
13:19:03,750 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:19:03,751 INFO  ~  resultSet1 size []
13:19:03,751 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:19:05,291 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:19:05,494 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id549_, offer0_.datacenter as datacenter549_, offer0_.defaultLeasePeriod as defaultL3_549_, offer0_.defaultNetworkType as defaultN4_549_, offer0_.defaultServiceLevel as defaultS5_549_, offer0_.hypervisorType as hypervis6_549_, offer0_.icon as icon549_, offer0_.iconName as iconName549_, offer0_.image as image549_, offer0_.longDescription as longDes10_549_, offer0_.name as name549_, offer0_.price as price549_, offer0_.serviceType as service13_549_, offer0_.shortDescription as shortDe14_549_, offer0_.state as state549_, offer0_.virtualAppliance as virtual16_549_, offer0_.virtualDatacenter as virtual17_549_, offer0_.virtualDatacenterName as virtual18_549_ from Offer offer0_ where offer0_.id=?
13:19:05,550 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:19:05,550 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id550_, offerpurch0_.expiration as expiration550_, offerpurch0_.idVirtualApplianceUser as idVirtua3_550_, offerpurch0_.leasePeriod as leasePer4_550_, offerpurch0_.offer_id as offer7_550_, offerpurch0_.serviceLevel as serviceL5_550_, offerpurch0_.start as start550_, offerpurch0_.user_id as user8_550_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:19:05,551 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:19:05,551 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:19:05,551 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id549_, offer0_.datacenter as datacenter549_, offer0_.defaultLeasePeriod as defaultL3_549_, offer0_.defaultNetworkType as defaultN4_549_, offer0_.defaultServiceLevel as defaultS5_549_, offer0_.hypervisorType as hypervis6_549_, offer0_.icon as icon549_, offer0_.iconName as iconName549_, offer0_.image as image549_, offer0_.longDescription as longDes10_549_, offer0_.name as name549_, offer0_.price as price549_, offer0_.serviceType as service13_549_, offer0_.shortDescription as shortDe14_549_, offer0_.state as state549_, offer0_.virtualAppliance as virtual16_549_, offer0_.virtualDatacenter as virtual17_549_, offer0_.virtualDatacenterName as virtual18_549_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:19:05,552 INFO  ~ resultSet1 size :0
13:19:05,552 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:19:05,552 INFO  ~  resultSet1 size []
13:19:05,552 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:19:06,719 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
13:19:06,752 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:19:06,817 INFO  ~  virtualDC  : gold
13:19:06,910 INFO  ~  va  : gold
13:19:07,064 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
13:19:11,039 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id549_, offer0_.datacenter as datacenter549_, offer0_.defaultLeasePeriod as defaultL3_549_, offer0_.defaultNetworkType as defaultN4_549_, offer0_.defaultServiceLevel as defaultS5_549_, offer0_.hypervisorType as hypervis6_549_, offer0_.icon as icon549_, offer0_.iconName as iconName549_, offer0_.image as image549_, offer0_.longDescription as longDes10_549_, offer0_.name as name549_, offer0_.price as price549_, offer0_.serviceType as service13_549_, offer0_.shortDescription as shortDe14_549_, offer0_.state as state549_, offer0_.virtualAppliance as virtual16_549_, offer0_.virtualDatacenter as virtual17_549_, offer0_.virtualDatacenterName as virtual18_549_ from Offer offer0_ where offer0_.id=? limit ?
13:19:11,045 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
13:19:11,045 INFO  ~ Session user in addToServiceCatalog(): admin
13:19:11,045 INFO  ~  and  vdc 1  & va_id : 5
13:19:11,045 INFO  ~  lease period 100 years
13:19:11,082 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:19:11,539 INFO  ~  description : dfgdf
13:19:11,568 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
13:19:11,570 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
13:19:11,571 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
13:19:11,572 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
13:19:11,574 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
13:19:11,724 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:19:11,944 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id549_, offer0_.datacenter as datacenter549_, offer0_.defaultLeasePeriod as defaultL3_549_, offer0_.defaultNetworkType as defaultN4_549_, offer0_.defaultServiceLevel as defaultS5_549_, offer0_.hypervisorType as hypervis6_549_, offer0_.icon as icon549_, offer0_.iconName as iconName549_, offer0_.image as image549_, offer0_.longDescription as longDes10_549_, offer0_.name as name549_, offer0_.price as price549_, offer0_.serviceType as service13_549_, offer0_.shortDescription as shortDe14_549_, offer0_.state as state549_, offer0_.virtualAppliance as virtual16_549_, offer0_.virtualDatacenter as virtual17_549_, offer0_.virtualDatacenterName as virtual18_549_ from Offer offer0_ where offer0_.id=?
13:19:11,946 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:19:11,946 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id550_, offerpurch0_.expiration as expiration550_, offerpurch0_.idVirtualApplianceUser as idVirtua3_550_, offerpurch0_.leasePeriod as leasePer4_550_, offerpurch0_.offer_id as offer7_550_, offerpurch0_.serviceLevel as serviceL5_550_, offerpurch0_.start as start550_, offerpurch0_.user_id as user8_550_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:19:11,946 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:19:11,946 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:19:11,946 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id549_, offer0_.datacenter as datacenter549_, offer0_.defaultLeasePeriod as defaultL3_549_, offer0_.defaultNetworkType as defaultN4_549_, offer0_.defaultServiceLevel as defaultS5_549_, offer0_.hypervisorType as hypervis6_549_, offer0_.icon as icon549_, offer0_.iconName as iconName549_, offer0_.image as image549_, offer0_.longDescription as longDes10_549_, offer0_.name as name549_, offer0_.price as price549_, offer0_.serviceType as service13_549_, offer0_.shortDescription as shortDe14_549_, offer0_.state as state549_, offer0_.virtualAppliance as virtual16_549_, offer0_.virtualDatacenter as virtual17_549_, offer0_.virtualDatacenterName as virtual18_549_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:19:11,947 INFO  ~ resultSet1 size :1
13:19:11,947 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:19:11,947 INFO  ~  resultSet1 size [sc_offer [ID :5, Name : goldserver, Icon: play.db.jpa.Blob@4995afcf , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
13:19:11,947 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:19:11,976 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:19:11,976 INFO  ~  OfferID for icon 5
13:19:11,976 DEBUG ~ /* load models.Offer */ select offer0_.id as id549_0_, offer0_.datacenter as datacenter549_0_, offer0_.defaultLeasePeriod as defaultL3_549_0_, offer0_.defaultNetworkType as defaultN4_549_0_, offer0_.defaultServiceLevel as defaultS5_549_0_, offer0_.hypervisorType as hypervis6_549_0_, offer0_.icon as icon549_0_, offer0_.iconName as iconName549_0_, offer0_.image as image549_0_, offer0_.longDescription as longDes10_549_0_, offer0_.name as name549_0_, offer0_.price as price549_0_, offer0_.serviceType as service13_549_0_, offer0_.shortDescription as shortDe14_549_0_, offer0_.state as state549_0_, offer0_.virtualAppliance as virtual16_549_0_, offer0_.virtualDatacenter as virtual17_549_0_, offer0_.virtualDatacenterName as virtual18_549_0_ from Offer offer0_ where offer0_.id=?
13:19:11,978 INFO  ~ ------------------------- EXITING displayIcon()---------
13:19:15,963 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:19:15,963 INFO  ~ Enterprie ID for current User 3
13:19:15,963 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id549_, offer0_.datacenter as datacenter549_, offer0_.defaultLeasePeriod as defaultL3_549_, offer0_.defaultNetworkType as defaultN4_549_, offer0_.defaultServiceLevel as defaultS5_549_, offer0_.hypervisorType as hypervis6_549_, offer0_.icon as icon549_, offer0_.iconName as iconName549_, offer0_.image as image549_, offer0_.longDescription as longDes10_549_, offer0_.name as name549_, offer0_.price as price549_, offer0_.serviceType as service13_549_, offer0_.shortDescription as shortDe14_549_, offer0_.state as state549_, offer0_.virtualAppliance as virtual16_549_, offer0_.virtualDatacenter as virtual17_549_, offer0_.virtualDatacenterName as virtual18_549_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:19:15,965 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:19:16,083 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:19:16,083 INFO  ~ Enterprie ID for current User 3
13:19:16,083 INFO  ~ CURRENT USER EMAIL ID: userent
13:19:16,091 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id549_, offer0_.datacenter as datacenter549_, offer0_.defaultLeasePeriod as defaultL3_549_, offer0_.defaultNetworkType as defaultN4_549_, offer0_.defaultServiceLevel as defaultS5_549_, offer0_.hypervisorType as hypervis6_549_, offer0_.icon as icon549_, offer0_.iconName as iconName549_, offer0_.image as image549_, offer0_.longDescription as longDes10_549_, offer0_.name as name549_, offer0_.price as price549_, offer0_.serviceType as service13_549_, offer0_.shortDescription as shortDe14_549_, offer0_.state as state549_, offer0_.virtualAppliance as virtual16_549_, offer0_.virtualDatacenter as virtual17_549_, offer0_.virtualDatacenterName as virtual18_549_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:19:16,092 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:19:16,092 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id550_, offerpurch0_.expiration as expiration550_, offerpurch0_.idVirtualApplianceUser as idVirtua3_550_, offerpurch0_.leasePeriod as leasePer4_550_, offerpurch0_.offer_id as offer7_550_, offerpurch0_.serviceLevel as serviceL5_550_, offerpurch0_.start as start550_, offerpurch0_.user_id as user8_550_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:19:16,092 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:19:16,092 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:19:16,128 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:19:16,128 INFO  ~  OfferID for icon 5
13:19:16,128 DEBUG ~ /* load models.Offer */ select offer0_.id as id549_0_, offer0_.datacenter as datacenter549_0_, offer0_.defaultLeasePeriod as defaultL3_549_0_, offer0_.defaultNetworkType as defaultN4_549_0_, offer0_.defaultServiceLevel as defaultS5_549_0_, offer0_.hypervisorType as hypervis6_549_0_, offer0_.icon as icon549_0_, offer0_.iconName as iconName549_0_, offer0_.image as image549_0_, offer0_.longDescription as longDes10_549_0_, offer0_.name as name549_0_, offer0_.price as price549_0_, offer0_.serviceType as service13_549_0_, offer0_.shortDescription as shortDe14_549_0_, offer0_.state as state549_0_, offer0_.virtualAppliance as virtual16_549_0_, offer0_.virtualDatacenter as virtual17_549_0_, offer0_.virtualDatacenterName as virtual18_549_0_ from Offer offer0_ where offer0_.id=?
13:19:16,129 INFO  ~ ------------------------- EXITING displayIcon()---------
13:19:21,735 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
13:19:21,736 INFO  ~ CURRENT USER EMAIL ID: userent
13:19:21,736 DEBUG ~ /* load models.Offer */ select offer0_.id as id549_0_, offer0_.datacenter as datacenter549_0_, offer0_.defaultLeasePeriod as defaultL3_549_0_, offer0_.defaultNetworkType as defaultN4_549_0_, offer0_.defaultServiceLevel as defaultS5_549_0_, offer0_.hypervisorType as hypervis6_549_0_, offer0_.icon as icon549_0_, offer0_.iconName as iconName549_0_, offer0_.image as image549_0_, offer0_.longDescription as longDes10_549_0_, offer0_.name as name549_0_, offer0_.price as price549_0_, offer0_.serviceType as service13_549_0_, offer0_.shortDescription as shortDe14_549_0_, offer0_.state as state549_0_, offer0_.virtualAppliance as virtual16_549_0_, offer0_.virtualDatacenter as virtual17_549_0_, offer0_.virtualDatacenterName as virtual18_549_0_ from Offer offer0_ where offer0_.id=?
13:19:21,737 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
13:19:21,745 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_549_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_556_0_, nodes1_.cpu as cpu556_0_, nodes1_.description as descript3_556_0_, nodes1_.hd as hd556_0_, nodes1_.icon as icon556_0_, nodes1_.idImage as idImage556_0_, nodes1_.node_name as node7_556_0_, nodes1_.ram as ram556_0_, nodes1_1_.offer_id as offer1_557_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:19:23,216 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
13:19:23,216 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 5 , String va_param:: goldserver)
13:19:23,263 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
13:19:23,352 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
13:19:23,440 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:19:23,440 INFO  ~  vdcname : POR-userent-2012-09-10 13:19:23.44
13:19:23,546 INFO  ~  VDC to deploy: 
13:19:23,547 INFO  ~  Hypervisor to deploy: 
13:19:23,617 INFO  ~  Datacenter to deploy: 
13:19:23,617 INFO  ~  Network Built
13:19:23,618 INFO  ~ VDC built  
13:19:26,331 INFO  ~  1. VDC CREATED 
13:19:26,458 INFO  ~  2. VAPP CREATED 
13:19:26,458 INFO  ~ --------------------
13:19:26,458 DEBUG ~ /* load models.Offer */ select offer0_.id as id549_0_, offer0_.datacenter as datacenter549_0_, offer0_.defaultLeasePeriod as defaultL3_549_0_, offer0_.defaultNetworkType as defaultN4_549_0_, offer0_.defaultServiceLevel as defaultS5_549_0_, offer0_.hypervisorType as hypervis6_549_0_, offer0_.icon as icon549_0_, offer0_.iconName as iconName549_0_, offer0_.image as image549_0_, offer0_.longDescription as longDes10_549_0_, offer0_.name as name549_0_, offer0_.price as price549_0_, offer0_.serviceType as service13_549_0_, offer0_.shortDescription as shortDe14_549_0_, offer0_.state as state549_0_, offer0_.virtualAppliance as virtual16_549_0_, offer0_.virtualDatacenter as virtual17_549_0_, offer0_.virtualDatacenterName as virtual18_549_0_ from Offer offer0_ where offer0_.id=?
13:19:26,459 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
13:19:26,460 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id549_, offer0_.datacenter as datacenter549_, offer0_.defaultLeasePeriod as defaultL3_549_, offer0_.defaultNetworkType as defaultN4_549_, offer0_.defaultServiceLevel as defaultS5_549_, offer0_.hypervisorType as hypervis6_549_, offer0_.icon as icon549_, offer0_.iconName as iconName549_, offer0_.image as image549_, offer0_.longDescription as longDes10_549_, offer0_.name as name549_, offer0_.price as price549_, offer0_.serviceType as service13_549_, offer0_.shortDescription as shortDe14_549_, offer0_.state as state549_, offer0_.virtualAppliance as virtual16_549_, offer0_.virtualDatacenter as virtual17_549_, offer0_.virtualDatacenterName as virtual18_549_ from Offer offer0_ where offer0_.id=?
13:19:26,460 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
13:19:26,460 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_549_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_556_0_, nodes1_.cpu as cpu556_0_, nodes1_.description as descript3_556_0_, nodes1_.hd as hd556_0_, nodes1_.icon as icon556_0_, nodes1_.idImage as idImage556_0_, nodes1_.node_name as node7_556_0_, nodes1_.ram as ram556_0_, nodes1_1_.offer_id as offer1_557_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:19:26,877 INFO  ~  3. VM CREATED
13:19:26,877 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_556_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_554_0_, nodes_reso1_.resourceType as resource2_554_0_, nodes_reso1_.sequence as sequence554_0_, nodes_reso1_.value as value554_0_, nodes_reso1_1_.id_node as id1_555_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:19:26,964 INFO  ~  4. HARDDISKS ATTACHED 
13:19:26,965 INFO  ~  Handler created :
13:19:27,798 INFO  ~ STARTING MONITORING ......
13:19:27,799 INFO  ~ SAVING DEPLOY INFORMATION ......
13:19:53,244 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:19:53,244 INFO  ~  CREATED VM : VirtualMachine [id=225, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_f48aa34d-ba9b-465e-804e-d90fcc4210c7, password=vmpassword, ram=64, uuid=f48aa34d-ba9b-465e-804e-d90fcc4210c7, vncAddress=null, vncPort=0]
13:19:53,301 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
13:19:53,301 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:19:53,301 INFO  ~  getVMDetais() params : vdc_id 169 vapp_id : 172 vm-id : 225
13:19:53,302 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_558_, mkt_config0_.deploy_enterprise_id as deploy2_558_, mkt_config0_.enterprise_name as enterprise3_558_, mkt_config0_.mkt_branding_css as mkt4_558_, mkt_config0_.mkt_branding_icon as mkt5_558_, mkt_config0_.mkt_deploy_pw as mkt6_558_, mkt_config0_.mkt_deploy_user as mkt7_558_, mkt_config0_.mkt_theme_css as mkt8_558_, mkt_config0_.mkt_url as mkt9_558_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:19:53,303 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:19:53,303 INFO  ~  AbiquoUtils context set to :null
13:19:53,303 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:20:26,291 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.PropertyAccessException: could not set a field value by reflection setter of models.OfferPurchased.id
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.PropertyAccessException: could not set a field value by reflection setter of models.OfferPurchased.id
	at org.hibernate.property.DirectPropertyAccessor$DirectSetter.set(DirectPropertyAccessor.java:151)
	at org.hibernate.mapping.Component$ValueGenerationPlan.execute(Component.java:439)
	at org.hibernate.id.CompositeNestedGeneratedValueGenerator.generate(CompositeNestedGeneratedValueGenerator.java:122)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:121)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: java.lang.IllegalArgumentException: Can not set java.lang.Integer field models.OfferPurchased.id to org.hibernate.id.IdentifierGeneratorHelper$2
	at org.hibernate.property.DirectPropertyAccessor$DirectSetter.set(DirectPropertyAccessor.java:139)
	... 20 more
13:20:37,423 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:20:37,423 ERROR ~ Table 'Deploy_Bundle' already exists
13:20:39,455 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:20:39,455 ERROR ~ Table 'UserPortal' already exists
13:20:39,455 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null, expiration datetime, idVirtualApplianceUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:20:39,455 ERROR ~ Table 'offerPurchased' already exists
13:20:41,291 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
13:20:41,291 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
13:20:41,292 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
13:20:41,292 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
13:20:43,139 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:20:43,190 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:20:43,687 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:20:44,025 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id571_, offer0_.datacenter as datacenter571_, offer0_.defaultLeasePeriod as defaultL3_571_, offer0_.defaultNetworkType as defaultN4_571_, offer0_.defaultServiceLevel as defaultS5_571_, offer0_.hypervisorType as hypervis6_571_, offer0_.icon as icon571_, offer0_.iconName as iconName571_, offer0_.image as image571_, offer0_.longDescription as longDes10_571_, offer0_.name as name571_, offer0_.price as price571_, offer0_.serviceType as service13_571_, offer0_.shortDescription as shortDe14_571_, offer0_.state as state571_, offer0_.virtualAppliance as virtual16_571_, offer0_.virtualDatacenter as virtual17_571_, offer0_.virtualDatacenterName as virtual18_571_ from Offer offer0_ where offer0_.id=?
13:20:44,118 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id571_, offer0_.datacenter as datacenter571_, offer0_.defaultLeasePeriod as defaultL3_571_, offer0_.defaultNetworkType as defaultN4_571_, offer0_.defaultServiceLevel as defaultS5_571_, offer0_.hypervisorType as hypervis6_571_, offer0_.icon as icon571_, offer0_.iconName as iconName571_, offer0_.image as image571_, offer0_.longDescription as longDes10_571_, offer0_.name as name571_, offer0_.price as price571_, offer0_.serviceType as service13_571_, offer0_.shortDescription as shortDe14_571_, offer0_.state as state571_, offer0_.virtualAppliance as virtual16_571_, offer0_.virtualDatacenter as virtual17_571_, offer0_.virtualDatacenterName as virtual18_571_ from Offer offer0_ where offer0_.id=?
13:20:44,194 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id571_, offer0_.datacenter as datacenter571_, offer0_.defaultLeasePeriod as defaultL3_571_, offer0_.defaultNetworkType as defaultN4_571_, offer0_.defaultServiceLevel as defaultS5_571_, offer0_.hypervisorType as hypervis6_571_, offer0_.icon as icon571_, offer0_.iconName as iconName571_, offer0_.image as image571_, offer0_.longDescription as longDes10_571_, offer0_.name as name571_, offer0_.price as price571_, offer0_.serviceType as service13_571_, offer0_.shortDescription as shortDe14_571_, offer0_.state as state571_, offer0_.virtualAppliance as virtual16_571_, offer0_.virtualDatacenter as virtual17_571_, offer0_.virtualDatacenterName as virtual18_571_ from Offer offer0_ where offer0_.id=?
13:20:44,271 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:20:44,272 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id572_, offerpurch0_.expiration as expiration572_, offerpurch0_.idVirtualApplianceUser as idVirtua3_572_, offerpurch0_.leasePeriod as leasePer4_572_, offerpurch0_.offer_id as offer7_572_, offerpurch0_.serviceLevel as serviceL5_572_, offerpurch0_.start as start572_, offerpurch0_.user_id as user8_572_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:20:44,272 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:20:44,272 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:20:44,273 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id571_, offer0_.datacenter as datacenter571_, offer0_.defaultLeasePeriod as defaultL3_571_, offer0_.defaultNetworkType as defaultN4_571_, offer0_.defaultServiceLevel as defaultS5_571_, offer0_.hypervisorType as hypervis6_571_, offer0_.icon as icon571_, offer0_.iconName as iconName571_, offer0_.image as image571_, offer0_.longDescription as longDes10_571_, offer0_.name as name571_, offer0_.price as price571_, offer0_.serviceType as service13_571_, offer0_.shortDescription as shortDe14_571_, offer0_.state as state571_, offer0_.virtualAppliance as virtual16_571_, offer0_.virtualDatacenter as virtual17_571_, offer0_.virtualDatacenterName as virtual18_571_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:20:44,273 INFO  ~ resultSet1 size :0
13:20:44,274 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:20:44,274 INFO  ~  resultSet1 size []
13:20:44,274 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:20:44,420 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:20:44,709 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id571_, offer0_.datacenter as datacenter571_, offer0_.defaultLeasePeriod as defaultL3_571_, offer0_.defaultNetworkType as defaultN4_571_, offer0_.defaultServiceLevel as defaultS5_571_, offer0_.hypervisorType as hypervis6_571_, offer0_.icon as icon571_, offer0_.iconName as iconName571_, offer0_.image as image571_, offer0_.longDescription as longDes10_571_, offer0_.name as name571_, offer0_.price as price571_, offer0_.serviceType as service13_571_, offer0_.shortDescription as shortDe14_571_, offer0_.state as state571_, offer0_.virtualAppliance as virtual16_571_, offer0_.virtualDatacenter as virtual17_571_, offer0_.virtualDatacenterName as virtual18_571_ from Offer offer0_ where offer0_.id=?
13:20:44,796 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:20:44,796 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id572_, offerpurch0_.expiration as expiration572_, offerpurch0_.idVirtualApplianceUser as idVirtua3_572_, offerpurch0_.leasePeriod as leasePer4_572_, offerpurch0_.offer_id as offer7_572_, offerpurch0_.serviceLevel as serviceL5_572_, offerpurch0_.start as start572_, offerpurch0_.user_id as user8_572_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:20:44,796 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:20:44,796 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:20:44,797 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id571_, offer0_.datacenter as datacenter571_, offer0_.defaultLeasePeriod as defaultL3_571_, offer0_.defaultNetworkType as defaultN4_571_, offer0_.defaultServiceLevel as defaultS5_571_, offer0_.hypervisorType as hypervis6_571_, offer0_.icon as icon571_, offer0_.iconName as iconName571_, offer0_.image as image571_, offer0_.longDescription as longDes10_571_, offer0_.name as name571_, offer0_.price as price571_, offer0_.serviceType as service13_571_, offer0_.shortDescription as shortDe14_571_, offer0_.state as state571_, offer0_.virtualAppliance as virtual16_571_, offer0_.virtualDatacenter as virtual17_571_, offer0_.virtualDatacenterName as virtual18_571_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:20:44,797 INFO  ~ resultSet1 size :0
13:20:44,798 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:20:44,798 INFO  ~  resultSet1 size []
13:20:44,798 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:20:47,366 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:20:47,641 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id571_, offer0_.datacenter as datacenter571_, offer0_.defaultLeasePeriod as defaultL3_571_, offer0_.defaultNetworkType as defaultN4_571_, offer0_.defaultServiceLevel as defaultS5_571_, offer0_.hypervisorType as hypervis6_571_, offer0_.icon as icon571_, offer0_.iconName as iconName571_, offer0_.image as image571_, offer0_.longDescription as longDes10_571_, offer0_.name as name571_, offer0_.price as price571_, offer0_.serviceType as service13_571_, offer0_.shortDescription as shortDe14_571_, offer0_.state as state571_, offer0_.virtualAppliance as virtual16_571_, offer0_.virtualDatacenter as virtual17_571_, offer0_.virtualDatacenterName as virtual18_571_ from Offer offer0_ where offer0_.id=?
13:20:47,743 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:20:47,743 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id572_, offerpurch0_.expiration as expiration572_, offerpurch0_.idVirtualApplianceUser as idVirtua3_572_, offerpurch0_.leasePeriod as leasePer4_572_, offerpurch0_.offer_id as offer7_572_, offerpurch0_.serviceLevel as serviceL5_572_, offerpurch0_.start as start572_, offerpurch0_.user_id as user8_572_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:20:47,743 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:20:47,743 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:20:47,744 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id571_, offer0_.datacenter as datacenter571_, offer0_.defaultLeasePeriod as defaultL3_571_, offer0_.defaultNetworkType as defaultN4_571_, offer0_.defaultServiceLevel as defaultS5_571_, offer0_.hypervisorType as hypervis6_571_, offer0_.icon as icon571_, offer0_.iconName as iconName571_, offer0_.image as image571_, offer0_.longDescription as longDes10_571_, offer0_.name as name571_, offer0_.price as price571_, offer0_.serviceType as service13_571_, offer0_.shortDescription as shortDe14_571_, offer0_.state as state571_, offer0_.virtualAppliance as virtual16_571_, offer0_.virtualDatacenter as virtual17_571_, offer0_.virtualDatacenterName as virtual18_571_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:20:47,744 INFO  ~ resultSet1 size :0
13:20:47,745 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:20:47,745 INFO  ~  resultSet1 size []
13:20:47,745 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:20:50,438 INFO  ~  -----INSIDE PRODUCER LISTVM()------
13:20:50,470 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:20:50,857 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
13:20:50,857 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id571_, offer0_.datacenter as datacenter571_, offer0_.defaultLeasePeriod as defaultL3_571_, offer0_.defaultNetworkType as defaultN4_571_, offer0_.defaultServiceLevel as defaultS5_571_, offer0_.hypervisorType as hypervis6_571_, offer0_.icon as icon571_, offer0_.iconName as iconName571_, offer0_.image as image571_, offer0_.longDescription as longDes10_571_, offer0_.name as name571_, offer0_.price as price571_, offer0_.serviceType as service13_571_, offer0_.shortDescription as shortDe14_571_, offer0_.state as state571_, offer0_.virtualAppliance as virtual16_571_, offer0_.virtualDatacenter as virtual17_571_, offer0_.virtualDatacenterName as virtual18_571_ from Offer offer0_ where offer0_.id=?
13:20:50,858 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
13:20:51,143 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
13:20:51,143 INFO  ~ Session user in vmDetails(): admin
13:20:54,412 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
13:20:54,461 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:20:54,554 INFO  ~  virtualDC  : gold
13:20:54,742 INFO  ~  va  : gold
13:20:54,975 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
13:21:02,726 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id571_, offer0_.datacenter as datacenter571_, offer0_.defaultLeasePeriod as defaultL3_571_, offer0_.defaultNetworkType as defaultN4_571_, offer0_.defaultServiceLevel as defaultS5_571_, offer0_.hypervisorType as hypervis6_571_, offer0_.icon as icon571_, offer0_.iconName as iconName571_, offer0_.image as image571_, offer0_.longDescription as longDes10_571_, offer0_.name as name571_, offer0_.price as price571_, offer0_.serviceType as service13_571_, offer0_.shortDescription as shortDe14_571_, offer0_.state as state571_, offer0_.virtualAppliance as virtual16_571_, offer0_.virtualDatacenter as virtual17_571_, offer0_.virtualDatacenterName as virtual18_571_ from Offer offer0_ where offer0_.id=? limit ?
13:21:02,737 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
13:21:02,737 INFO  ~ Session user in addToServiceCatalog(): admin
13:21:02,737 INFO  ~  and  vdc 1  & va_id : 5
13:21:02,737 INFO  ~  lease period 100 years
13:21:02,778 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:21:03,535 INFO  ~  description : asdfsadfsdf
13:21:03,571 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
13:21:03,574 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
13:21:03,574 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
13:21:03,575 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
13:21:03,577 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
13:21:03,692 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:21:04,012 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id571_, offer0_.datacenter as datacenter571_, offer0_.defaultLeasePeriod as defaultL3_571_, offer0_.defaultNetworkType as defaultN4_571_, offer0_.defaultServiceLevel as defaultS5_571_, offer0_.hypervisorType as hypervis6_571_, offer0_.icon as icon571_, offer0_.iconName as iconName571_, offer0_.image as image571_, offer0_.longDescription as longDes10_571_, offer0_.name as name571_, offer0_.price as price571_, offer0_.serviceType as service13_571_, offer0_.shortDescription as shortDe14_571_, offer0_.state as state571_, offer0_.virtualAppliance as virtual16_571_, offer0_.virtualDatacenter as virtual17_571_, offer0_.virtualDatacenterName as virtual18_571_ from Offer offer0_ where offer0_.id=?
13:21:04,014 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:21:04,014 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id572_, offerpurch0_.expiration as expiration572_, offerpurch0_.idVirtualApplianceUser as idVirtua3_572_, offerpurch0_.leasePeriod as leasePer4_572_, offerpurch0_.offer_id as offer7_572_, offerpurch0_.serviceLevel as serviceL5_572_, offerpurch0_.start as start572_, offerpurch0_.user_id as user8_572_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:21:04,014 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:21:04,014 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:21:04,014 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id571_, offer0_.datacenter as datacenter571_, offer0_.defaultLeasePeriod as defaultL3_571_, offer0_.defaultNetworkType as defaultN4_571_, offer0_.defaultServiceLevel as defaultS5_571_, offer0_.hypervisorType as hypervis6_571_, offer0_.icon as icon571_, offer0_.iconName as iconName571_, offer0_.image as image571_, offer0_.longDescription as longDes10_571_, offer0_.name as name571_, offer0_.price as price571_, offer0_.serviceType as service13_571_, offer0_.shortDescription as shortDe14_571_, offer0_.state as state571_, offer0_.virtualAppliance as virtual16_571_, offer0_.virtualDatacenter as virtual17_571_, offer0_.virtualDatacenterName as virtual18_571_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:21:04,016 INFO  ~ resultSet1 size :1
13:21:04,016 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:21:04,016 INFO  ~  resultSet1 size [sc_offer [ID :5, Name : goldserver, Icon: play.db.jpa.Blob@6ba67ab5 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
13:21:04,016 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:21:04,034 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:21:04,034 INFO  ~  OfferID for icon 5
13:21:04,034 DEBUG ~ /* load models.Offer */ select offer0_.id as id571_0_, offer0_.datacenter as datacenter571_0_, offer0_.defaultLeasePeriod as defaultL3_571_0_, offer0_.defaultNetworkType as defaultN4_571_0_, offer0_.defaultServiceLevel as defaultS5_571_0_, offer0_.hypervisorType as hypervis6_571_0_, offer0_.icon as icon571_0_, offer0_.iconName as iconName571_0_, offer0_.image as image571_0_, offer0_.longDescription as longDes10_571_0_, offer0_.name as name571_0_, offer0_.price as price571_0_, offer0_.serviceType as service13_571_0_, offer0_.shortDescription as shortDe14_571_0_, offer0_.state as state571_0_, offer0_.virtualAppliance as virtual16_571_0_, offer0_.virtualDatacenter as virtual17_571_0_, offer0_.virtualDatacenterName as virtual18_571_0_ from Offer offer0_ where offer0_.id=?
13:21:04,035 INFO  ~ ------------------------- EXITING displayIcon()---------
13:21:14,965 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:21:14,965 INFO  ~ Enterprie ID for current User 3
13:21:14,966 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id571_, offer0_.datacenter as datacenter571_, offer0_.defaultLeasePeriod as defaultL3_571_, offer0_.defaultNetworkType as defaultN4_571_, offer0_.defaultServiceLevel as defaultS5_571_, offer0_.hypervisorType as hypervis6_571_, offer0_.icon as icon571_, offer0_.iconName as iconName571_, offer0_.image as image571_, offer0_.longDescription as longDes10_571_, offer0_.name as name571_, offer0_.price as price571_, offer0_.serviceType as service13_571_, offer0_.shortDescription as shortDe14_571_, offer0_.state as state571_, offer0_.virtualAppliance as virtual16_571_, offer0_.virtualDatacenter as virtual17_571_, offer0_.virtualDatacenterName as virtual18_571_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:21:14,967 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:21:15,103 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:21:15,103 INFO  ~ Enterprie ID for current User 3
13:21:15,103 INFO  ~ CURRENT USER EMAIL ID: userent
13:21:15,103 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id571_, offer0_.datacenter as datacenter571_, offer0_.defaultLeasePeriod as defaultL3_571_, offer0_.defaultNetworkType as defaultN4_571_, offer0_.defaultServiceLevel as defaultS5_571_, offer0_.hypervisorType as hypervis6_571_, offer0_.icon as icon571_, offer0_.iconName as iconName571_, offer0_.image as image571_, offer0_.longDescription as longDes10_571_, offer0_.name as name571_, offer0_.price as price571_, offer0_.serviceType as service13_571_, offer0_.shortDescription as shortDe14_571_, offer0_.state as state571_, offer0_.virtualAppliance as virtual16_571_, offer0_.virtualDatacenter as virtual17_571_, offer0_.virtualDatacenterName as virtual18_571_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:21:15,113 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:21:15,113 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id572_, offerpurch0_.expiration as expiration572_, offerpurch0_.idVirtualApplianceUser as idVirtua3_572_, offerpurch0_.leasePeriod as leasePer4_572_, offerpurch0_.offer_id as offer7_572_, offerpurch0_.serviceLevel as serviceL5_572_, offerpurch0_.start as start572_, offerpurch0_.user_id as user8_572_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:21:15,114 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:21:15,114 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:21:15,159 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:21:15,159 INFO  ~  OfferID for icon 5
13:21:15,159 DEBUG ~ /* load models.Offer */ select offer0_.id as id571_0_, offer0_.datacenter as datacenter571_0_, offer0_.defaultLeasePeriod as defaultL3_571_0_, offer0_.defaultNetworkType as defaultN4_571_0_, offer0_.defaultServiceLevel as defaultS5_571_0_, offer0_.hypervisorType as hypervis6_571_0_, offer0_.icon as icon571_0_, offer0_.iconName as iconName571_0_, offer0_.image as image571_0_, offer0_.longDescription as longDes10_571_0_, offer0_.name as name571_0_, offer0_.price as price571_0_, offer0_.serviceType as service13_571_0_, offer0_.shortDescription as shortDe14_571_0_, offer0_.state as state571_0_, offer0_.virtualAppliance as virtual16_571_0_, offer0_.virtualDatacenter as virtual17_571_0_, offer0_.virtualDatacenterName as virtual18_571_0_ from Offer offer0_ where offer0_.id=?
13:21:15,161 INFO  ~ ------------------------- EXITING displayIcon()---------
13:21:18,921 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
13:21:18,921 INFO  ~ CURRENT USER EMAIL ID: userent
13:21:18,922 DEBUG ~ /* load models.Offer */ select offer0_.id as id571_0_, offer0_.datacenter as datacenter571_0_, offer0_.defaultLeasePeriod as defaultL3_571_0_, offer0_.defaultNetworkType as defaultN4_571_0_, offer0_.defaultServiceLevel as defaultS5_571_0_, offer0_.hypervisorType as hypervis6_571_0_, offer0_.icon as icon571_0_, offer0_.iconName as iconName571_0_, offer0_.image as image571_0_, offer0_.longDescription as longDes10_571_0_, offer0_.name as name571_0_, offer0_.price as price571_0_, offer0_.serviceType as service13_571_0_, offer0_.shortDescription as shortDe14_571_0_, offer0_.state as state571_0_, offer0_.virtualAppliance as virtual16_571_0_, offer0_.virtualDatacenter as virtual17_571_0_, offer0_.virtualDatacenterName as virtual18_571_0_ from Offer offer0_ where offer0_.id=?
13:21:18,923 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
13:21:18,931 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_571_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_578_0_, nodes1_.cpu as cpu578_0_, nodes1_.description as descript3_578_0_, nodes1_.hd as hd578_0_, nodes1_.icon as icon578_0_, nodes1_.idImage as idImage578_0_, nodes1_.node_name as node7_578_0_, nodes1_.ram as ram578_0_, nodes1_1_.offer_id as offer1_579_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:21:21,047 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
13:21:21,047 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 1, INTEGER SC_OFFER_ID :: 5 , String va_param:: goldserver)
13:21:21,086 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
13:21:21,344 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
13:21:21,455 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:21:21,455 INFO  ~  vdcname : POR-userent-2012-09-10 13:21:21.455
13:21:21,529 INFO  ~  VDC to deploy: 
13:21:21,529 INFO  ~  Hypervisor to deploy: 
13:21:21,647 INFO  ~  Datacenter to deploy: 
13:21:21,647 INFO  ~  Network Built
13:21:21,647 INFO  ~ VDC built  
13:21:24,629 INFO  ~  1. VDC CREATED 
13:21:24,784 INFO  ~  2. VAPP CREATED 
13:21:24,784 INFO  ~ --------------------
13:21:24,784 DEBUG ~ /* load models.Offer */ select offer0_.id as id571_0_, offer0_.datacenter as datacenter571_0_, offer0_.defaultLeasePeriod as defaultL3_571_0_, offer0_.defaultNetworkType as defaultN4_571_0_, offer0_.defaultServiceLevel as defaultS5_571_0_, offer0_.hypervisorType as hypervis6_571_0_, offer0_.icon as icon571_0_, offer0_.iconName as iconName571_0_, offer0_.image as image571_0_, offer0_.longDescription as longDes10_571_0_, offer0_.name as name571_0_, offer0_.price as price571_0_, offer0_.serviceType as service13_571_0_, offer0_.shortDescription as shortDe14_571_0_, offer0_.state as state571_0_, offer0_.virtualAppliance as virtual16_571_0_, offer0_.virtualDatacenter as virtual17_571_0_, offer0_.virtualDatacenterName as virtual18_571_0_ from Offer offer0_ where offer0_.id=?
13:21:24,787 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
13:21:24,787 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id571_, offer0_.datacenter as datacenter571_, offer0_.defaultLeasePeriod as defaultL3_571_, offer0_.defaultNetworkType as defaultN4_571_, offer0_.defaultServiceLevel as defaultS5_571_, offer0_.hypervisorType as hypervis6_571_, offer0_.icon as icon571_, offer0_.iconName as iconName571_, offer0_.image as image571_, offer0_.longDescription as longDes10_571_, offer0_.name as name571_, offer0_.price as price571_, offer0_.serviceType as service13_571_, offer0_.shortDescription as shortDe14_571_, offer0_.state as state571_, offer0_.virtualAppliance as virtual16_571_, offer0_.virtualDatacenter as virtual17_571_, offer0_.virtualDatacenterName as virtual18_571_ from Offer offer0_ where offer0_.id=?
13:21:24,788 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
13:21:24,788 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_571_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_578_0_, nodes1_.cpu as cpu578_0_, nodes1_.description as descript3_578_0_, nodes1_.hd as hd578_0_, nodes1_.icon as icon578_0_, nodes1_.idImage as idImage578_0_, nodes1_.node_name as node7_578_0_, nodes1_.ram as ram578_0_, nodes1_1_.offer_id as offer1_579_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:21:25,040 INFO  ~  3. VM CREATED
13:21:25,041 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_578_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_576_0_, nodes_reso1_.resourceType as resource2_576_0_, nodes_reso1_.sequence as sequence576_0_, nodes_reso1_.value as value576_0_, nodes_reso1_1_.id_node as id1_577_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:21:25,123 INFO  ~  4. HARDDISKS ATTACHED 
13:21:25,124 INFO  ~  Handler created :
13:21:26,592 INFO  ~ STARTING MONITORING ......
13:21:26,593 INFO  ~ SAVING DEPLOY INFORMATION ......
13:21:52,231 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): models.OfferPurchased
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): models.OfferPurchased
	at org.hibernate.id.Assigned.generate(Assigned.java:53)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:121)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
13:21:57,212 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:21:57,212 INFO  ~  CREATED VM : VirtualMachine [id=226, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_361ac870-3eff-4e64-ab32-b52eda735f7d, password=vmpassword, ram=64, uuid=361ac870-3eff-4e64-ab32-b52eda735f7d, vncAddress=null, vncPort=0]
13:21:57,270 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
13:21:57,270 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:21:57,270 INFO  ~  getVMDetais() params : vdc_id 170 vapp_id : 173 vm-id : 226
13:21:57,271 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_580_, mkt_config0_.deploy_enterprise_id as deploy2_580_, mkt_config0_.enterprise_name as enterprise3_580_, mkt_config0_.mkt_branding_css as mkt4_580_, mkt_config0_.mkt_branding_icon as mkt5_580_, mkt_config0_.mkt_deploy_pw as mkt6_580_, mkt_config0_.mkt_deploy_user as mkt7_580_, mkt_config0_.mkt_theme_css as mkt8_580_, mkt_config0_.mkt_url as mkt9_580_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:21:57,272 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:21:57,272 INFO  ~  AbiquoUtils context set to :null
13:21:57,272 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:22:53,784 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:22:53,784 ERROR ~ Table 'Deploy_Bundle' already exists
13:22:54,621 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:22:54,621 ERROR ~ Table 'UserPortal' already exists
13:22:54,622 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:22:54,622 ERROR ~ Table 'offerPurchased' already exists
13:22:56,825 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
13:22:56,825 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
13:22:56,826 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
13:22:56,826 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
13:22:56,874 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:22:56,874 INFO  ~ Enterprie ID for current User 3
13:22:56,877 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:22:56,878 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:22:56,993 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:22:56,993 INFO  ~ Enterprie ID for current User 3
13:22:56,993 INFO  ~ CURRENT USER EMAIL ID: userent
13:22:56,993 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:22:56,994 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:22:56,994 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id594_, offerpurch0_.expiration as expiration594_, offerpurch0_.idVirtualApplianceUser as idVirtua3_594_, offerpurch0_.leasePeriod as leasePer4_594_, offerpurch0_.offer_id as offer7_594_, offerpurch0_.serviceLevel as serviceL5_594_, offerpurch0_.start as start594_, offerpurch0_.user_id as user8_594_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:22:56,995 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:22:56,995 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:22:59,957 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:23:00,006 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:23:00,413 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:23:00,623 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.id=?
13:23:00,697 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.id=?
13:23:00,750 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.id=?
13:23:00,806 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:23:00,807 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id594_, offerpurch0_.expiration as expiration594_, offerpurch0_.idVirtualApplianceUser as idVirtua3_594_, offerpurch0_.leasePeriod as leasePer4_594_, offerpurch0_.offer_id as offer7_594_, offerpurch0_.serviceLevel as serviceL5_594_, offerpurch0_.start as start594_, offerpurch0_.user_id as user8_594_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:23:00,807 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:23:00,807 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:23:00,807 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:23:00,808 INFO  ~ resultSet1 size :0
13:23:00,808 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:23:00,809 INFO  ~  resultSet1 size []
13:23:00,809 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:23:01,992 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:23:02,192 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.id=?
13:23:02,256 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:23:02,256 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id594_, offerpurch0_.expiration as expiration594_, offerpurch0_.idVirtualApplianceUser as idVirtua3_594_, offerpurch0_.leasePeriod as leasePer4_594_, offerpurch0_.offer_id as offer7_594_, offerpurch0_.serviceLevel as serviceL5_594_, offerpurch0_.start as start594_, offerpurch0_.user_id as user8_594_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:23:02,256 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:23:02,257 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:23:02,257 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:23:02,258 INFO  ~ resultSet1 size :0
13:23:02,258 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:23:02,258 INFO  ~  resultSet1 size []
13:23:02,258 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:23:03,399 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
13:23:03,431 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:23:03,496 INFO  ~  virtualDC  : Diamond
13:23:03,598 INFO  ~  va  : Diamond
13:23:03,751 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
13:23:07,342 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.id=? limit ?
13:23:07,355 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
13:23:07,355 INFO  ~ Session user in addToServiceCatalog(): admin
13:23:07,355 INFO  ~  and  vdc 4  & va_id : 4
13:23:07,355 INFO  ~  lease period 100 years
13:23:07,388 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:23:07,860 INFO  ~  description : sdafsda
13:23:07,892 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
13:23:07,894 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
13:23:07,895 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
13:23:07,896 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
13:23:07,898 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
13:23:08,016 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:23:08,210 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.id=?
13:23:08,212 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:23:08,212 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id594_, offerpurch0_.expiration as expiration594_, offerpurch0_.idVirtualApplianceUser as idVirtua3_594_, offerpurch0_.leasePeriod as leasePer4_594_, offerpurch0_.offer_id as offer7_594_, offerpurch0_.serviceLevel as serviceL5_594_, offerpurch0_.start as start594_, offerpurch0_.user_id as user8_594_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:23:08,213 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:23:08,213 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:23:08,213 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:23:08,214 INFO  ~ resultSet1 size :1
13:23:08,214 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:23:08,214 INFO  ~  resultSet1 size [sc_offer [ID :4, Name : diamonderver, Icon: play.db.jpa.Blob@22104b0d , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
13:23:08,214 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:23:08,248 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:23:08,248 INFO  ~  OfferID for icon 4
13:23:08,248 DEBUG ~ /* load models.Offer */ select offer0_.id as id593_0_, offer0_.datacenter as datacenter593_0_, offer0_.defaultLeasePeriod as defaultL3_593_0_, offer0_.defaultNetworkType as defaultN4_593_0_, offer0_.defaultServiceLevel as defaultS5_593_0_, offer0_.hypervisorType as hypervis6_593_0_, offer0_.icon as icon593_0_, offer0_.iconName as iconName593_0_, offer0_.image as image593_0_, offer0_.longDescription as longDes10_593_0_, offer0_.name as name593_0_, offer0_.price as price593_0_, offer0_.serviceType as service13_593_0_, offer0_.shortDescription as shortDe14_593_0_, offer0_.state as state593_0_, offer0_.virtualAppliance as virtual16_593_0_, offer0_.virtualDatacenter as virtual17_593_0_, offer0_.virtualDatacenterName as virtual18_593_0_ from Offer offer0_ where offer0_.id=?
13:23:08,250 INFO  ~ ------------------------- EXITING displayIcon()---------
13:23:11,950 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:23:11,950 INFO  ~ Enterprie ID for current User 3
13:23:11,951 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:23:11,953 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:23:12,009 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:23:12,009 INFO  ~ Enterprie ID for current User 3
13:23:12,009 INFO  ~ CURRENT USER EMAIL ID: userent
13:23:12,010 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:23:12,011 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
13:23:12,011 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id594_, offerpurch0_.expiration as expiration594_, offerpurch0_.idVirtualApplianceUser as idVirtua3_594_, offerpurch0_.leasePeriod as leasePer4_594_, offerpurch0_.offer_id as offer7_594_, offerpurch0_.serviceLevel as serviceL5_594_, offerpurch0_.start as start594_, offerpurch0_.user_id as user8_594_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
13:23:12,011 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
13:23:12,011 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:23:12,029 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:23:12,029 INFO  ~  OfferID for icon 4
13:23:12,029 DEBUG ~ /* load models.Offer */ select offer0_.id as id593_0_, offer0_.datacenter as datacenter593_0_, offer0_.defaultLeasePeriod as defaultL3_593_0_, offer0_.defaultNetworkType as defaultN4_593_0_, offer0_.defaultServiceLevel as defaultS5_593_0_, offer0_.hypervisorType as hypervis6_593_0_, offer0_.icon as icon593_0_, offer0_.iconName as iconName593_0_, offer0_.image as image593_0_, offer0_.longDescription as longDes10_593_0_, offer0_.name as name593_0_, offer0_.price as price593_0_, offer0_.serviceType as service13_593_0_, offer0_.shortDescription as shortDe14_593_0_, offer0_.state as state593_0_, offer0_.virtualAppliance as virtual16_593_0_, offer0_.virtualDatacenter as virtual17_593_0_, offer0_.virtualDatacenterName as virtual18_593_0_ from Offer offer0_ where offer0_.id=?
13:23:12,030 INFO  ~ ------------------------- EXITING displayIcon()---------
13:23:17,700 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
13:23:17,700 INFO  ~ CURRENT USER EMAIL ID: userent
13:23:17,701 DEBUG ~ /* load models.Offer */ select offer0_.id as id593_0_, offer0_.datacenter as datacenter593_0_, offer0_.defaultLeasePeriod as defaultL3_593_0_, offer0_.defaultNetworkType as defaultN4_593_0_, offer0_.defaultServiceLevel as defaultS5_593_0_, offer0_.hypervisorType as hypervis6_593_0_, offer0_.icon as icon593_0_, offer0_.iconName as iconName593_0_, offer0_.image as image593_0_, offer0_.longDescription as longDes10_593_0_, offer0_.name as name593_0_, offer0_.price as price593_0_, offer0_.serviceType as service13_593_0_, offer0_.shortDescription as shortDe14_593_0_, offer0_.state as state593_0_, offer0_.virtualAppliance as virtual16_593_0_, offer0_.virtualDatacenter as virtual17_593_0_, offer0_.virtualDatacenterName as virtual18_593_0_ from Offer offer0_ where offer0_.id=?
13:23:17,702 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
13:23:17,711 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_593_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_600_0_, nodes1_.cpu as cpu600_0_, nodes1_.description as descript3_600_0_, nodes1_.hd as hd600_0_, nodes1_.icon as icon600_0_, nodes1_.idImage as idImage600_0_, nodes1_.node_name as node7_600_0_, nodes1_.ram as ram600_0_, nodes1_1_.offer_id as offer1_601_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:23:18,716 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
13:23:18,717 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 4, INTEGER SC_OFFER_ID :: 4 , String va_param:: diamonderver)
13:23:18,758 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
13:23:18,841 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
13:23:18,933 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:23:18,933 INFO  ~  vdcname : POR-userent-2012-09-10 13:23:18.933
13:23:19,046 INFO  ~  VDC to deploy: 
13:23:19,046 INFO  ~  Hypervisor to deploy: 
13:23:19,118 INFO  ~  Datacenter to deploy: 
13:23:19,118 INFO  ~  Network Built
13:23:19,118 INFO  ~ VDC built  
13:23:22,212 INFO  ~  1. VDC CREATED 
13:23:22,374 INFO  ~  2. VAPP CREATED 
13:23:22,374 INFO  ~ --------------------
13:23:22,374 DEBUG ~ /* load models.Offer */ select offer0_.id as id593_0_, offer0_.datacenter as datacenter593_0_, offer0_.defaultLeasePeriod as defaultL3_593_0_, offer0_.defaultNetworkType as defaultN4_593_0_, offer0_.defaultServiceLevel as defaultS5_593_0_, offer0_.hypervisorType as hypervis6_593_0_, offer0_.icon as icon593_0_, offer0_.iconName as iconName593_0_, offer0_.image as image593_0_, offer0_.longDescription as longDes10_593_0_, offer0_.name as name593_0_, offer0_.price as price593_0_, offer0_.serviceType as service13_593_0_, offer0_.shortDescription as shortDe14_593_0_, offer0_.state as state593_0_, offer0_.virtualAppliance as virtual16_593_0_, offer0_.virtualDatacenter as virtual17_593_0_, offer0_.virtualDatacenterName as virtual18_593_0_ from Offer offer0_ where offer0_.id=?
13:23:22,376 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
13:23:22,376 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.id=?
13:23:22,377 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
13:23:22,377 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_593_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_600_0_, nodes1_.cpu as cpu600_0_, nodes1_.description as descript3_600_0_, nodes1_.hd as hd600_0_, nodes1_.icon as icon600_0_, nodes1_.idImage as idImage600_0_, nodes1_.node_name as node7_600_0_, nodes1_.ram as ram600_0_, nodes1_1_.offer_id as offer1_601_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:23:22,605 INFO  ~  3. VM CREATED
13:23:22,606 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_600_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_598_0_, nodes_reso1_.resourceType as resource2_598_0_, nodes_reso1_.sequence as sequence598_0_, nodes_reso1_.value as value598_0_, nodes_reso1_1_.id_node as id1_599_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:23:22,730 INFO  ~  4. HARDDISKS ATTACHED 
13:23:22,731 INFO  ~  Handler created :
13:23:23,742 INFO  ~ STARTING MONITORING ......
13:23:23,743 INFO  ~ SAVING DEPLOY INFORMATION ......
13:23:24,636 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
13:23:24,645 DEBUG ~ /* insert models.OfferPurchased */ insert into offerPurchased (expiration, idVirtualApplianceUser, leasePeriod, offer_id, serviceLevel, start, user_id) values (?, ?, ?, ?, ?, ?, ?)
13:23:24,683 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
13:23:29,738 INFO  ~ DEPLOY INFO SAVED ......
13:23:30,034 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
13:23:59,380 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:23:59,380 INFO  ~  CREATED VM : VirtualMachine [id=227, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_69368323-5451-4936-adea-b6bdd9d54447, password=vmpassword, ram=64, uuid=69368323-5451-4936-adea-b6bdd9d54447, vncAddress=null, vncPort=0]
13:23:59,431 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
13:23:59,431 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:23:59,431 INFO  ~  getVMDetais() params : vdc_id 171 vapp_id : 174 vm-id : 227
13:23:59,432 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_602_, mkt_config0_.deploy_enterprise_id as deploy2_602_, mkt_config0_.enterprise_name as enterprise3_602_, mkt_config0_.mkt_branding_css as mkt4_602_, mkt_config0_.mkt_branding_icon as mkt5_602_, mkt_config0_.mkt_deploy_pw as mkt6_602_, mkt_config0_.mkt_deploy_user as mkt7_602_, mkt_config0_.mkt_theme_css as mkt8_602_, mkt_config0_.mkt_url as mkt9_602_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:23:59,433 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:23:59,433 INFO  ~  AbiquoUtils context set to :null
13:23:59,433 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
09:27:11,791 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:27:12,208 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.id=?
09:27:12,326 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.id=?
09:27:12,402 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.id=?
09:27:12,478 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:27:12,478 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id594_, offerpurch0_.expiration as expiration594_, offerpurch0_.idVirtualApplianceUser as idVirtua3_594_, offerpurch0_.leasePeriod as leasePer4_594_, offerpurch0_.offer_id as offer7_594_, offerpurch0_.serviceLevel as serviceL5_594_, offerpurch0_.start as start594_, offerpurch0_.user_id as user8_594_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:27:12,503 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:27:12,503 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:27:12,503 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:27:12,504 INFO  ~ resultSet1 size :0
09:27:12,504 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:27:12,504 INFO  ~  resultSet1 size []
09:27:12,504 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:27:12,794 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
09:27:12,846 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:27:12,984 INFO  ~  virtualDC  : Bronze
09:27:13,208 INFO  ~  va  : Bronze
09:27:13,439 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
09:27:18,515 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.id=? limit ?
09:27:18,520 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
09:27:18,520 INFO  ~ Session user in addToServiceCatalog(): admin
09:27:18,520 INFO  ~  and  vdc 3  & va_id : 1
09:27:18,520 INFO  ~  lease period 100 years
09:27:18,551 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:27:19,276 INFO  ~  description : sdafsadfs
09:27:19,363 INFO  ~  description : sdafsadfs
09:27:19,401 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
09:27:19,402 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
09:27:19,402 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
09:27:19,403 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
09:27:19,404 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
09:27:19,404 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
09:27:19,407 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
09:27:19,510 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:27:19,825 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.id=?
09:27:19,826 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.id=?
09:27:19,899 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.id=?
09:27:19,974 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:27:19,975 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id594_, offerpurch0_.expiration as expiration594_, offerpurch0_.idVirtualApplianceUser as idVirtua3_594_, offerpurch0_.leasePeriod as leasePer4_594_, offerpurch0_.offer_id as offer7_594_, offerpurch0_.serviceLevel as serviceL5_594_, offerpurch0_.start as start594_, offerpurch0_.user_id as user8_594_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:27:19,976 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:27:19,976 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:27:19,976 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:27:19,977 INFO  ~ resultSet1 size :1
09:27:19,977 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:27:19,977 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@4e7c8ea , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
09:27:19,977 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:27:20,019 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:27:20,019 INFO  ~  OfferID for icon 1
09:27:20,019 DEBUG ~ /* load models.Offer */ select offer0_.id as id593_0_, offer0_.datacenter as datacenter593_0_, offer0_.defaultLeasePeriod as defaultL3_593_0_, offer0_.defaultNetworkType as defaultN4_593_0_, offer0_.defaultServiceLevel as defaultS5_593_0_, offer0_.hypervisorType as hypervis6_593_0_, offer0_.icon as icon593_0_, offer0_.iconName as iconName593_0_, offer0_.image as image593_0_, offer0_.longDescription as longDes10_593_0_, offer0_.name as name593_0_, offer0_.price as price593_0_, offer0_.serviceType as service13_593_0_, offer0_.shortDescription as shortDe14_593_0_, offer0_.state as state593_0_, offer0_.virtualAppliance as virtual16_593_0_, offer0_.virtualDatacenter as virtual17_593_0_, offer0_.virtualDatacenterName as virtual18_593_0_ from Offer offer0_ where offer0_.id=?
09:27:20,021 INFO  ~ ------------------------- EXITING displayIcon()---------
09:27:38,745 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
09:27:38,745 INFO  ~ Enterprie ID for current User 3
09:27:38,745 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ group by offer0_.defaultServiceLevel
09:27:38,748 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
09:27:38,871 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
09:27:38,872 INFO  ~ Enterprie ID for current User 3
09:27:38,872 INFO  ~ CURRENT USER EMAIL ID: userent
09:27:38,872 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
09:27:38,874 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:27:38,874 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id594_, offerpurch0_.expiration as expiration594_, offerpurch0_.idVirtualApplianceUser as idVirtua3_594_, offerpurch0_.leasePeriod as leasePer4_594_, offerpurch0_.offer_id as offer7_594_, offerpurch0_.serviceLevel as serviceL5_594_, offerpurch0_.start as start594_, offerpurch0_.user_id as user8_594_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:27:38,874 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:27:38,875 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
09:27:39,015 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:27:39,015 INFO  ~  OfferID for icon 1
09:27:39,016 DEBUG ~ /* load models.Offer */ select offer0_.id as id593_0_, offer0_.datacenter as datacenter593_0_, offer0_.defaultLeasePeriod as defaultL3_593_0_, offer0_.defaultNetworkType as defaultN4_593_0_, offer0_.defaultServiceLevel as defaultS5_593_0_, offer0_.hypervisorType as hypervis6_593_0_, offer0_.icon as icon593_0_, offer0_.iconName as iconName593_0_, offer0_.image as image593_0_, offer0_.longDescription as longDes10_593_0_, offer0_.name as name593_0_, offer0_.price as price593_0_, offer0_.serviceType as service13_593_0_, offer0_.shortDescription as shortDe14_593_0_, offer0_.state as state593_0_, offer0_.virtualAppliance as virtual16_593_0_, offer0_.virtualDatacenter as virtual17_593_0_, offer0_.virtualDatacenterName as virtual18_593_0_ from Offer offer0_ where offer0_.id=?
09:27:39,017 INFO  ~ ------------------------- EXITING displayIcon()---------
09:27:39,029 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:27:39,030 INFO  ~  OfferID for icon 4
09:27:39,030 DEBUG ~ /* load models.Offer */ select offer0_.id as id593_0_, offer0_.datacenter as datacenter593_0_, offer0_.defaultLeasePeriod as defaultL3_593_0_, offer0_.defaultNetworkType as defaultN4_593_0_, offer0_.defaultServiceLevel as defaultS5_593_0_, offer0_.hypervisorType as hypervis6_593_0_, offer0_.icon as icon593_0_, offer0_.iconName as iconName593_0_, offer0_.image as image593_0_, offer0_.longDescription as longDes10_593_0_, offer0_.name as name593_0_, offer0_.price as price593_0_, offer0_.serviceType as service13_593_0_, offer0_.shortDescription as shortDe14_593_0_, offer0_.state as state593_0_, offer0_.virtualAppliance as virtual16_593_0_, offer0_.virtualDatacenter as virtual17_593_0_, offer0_.virtualDatacenterName as virtual18_593_0_ from Offer offer0_ where offer0_.id=?
09:27:39,031 INFO  ~ ------------------------- EXITING displayIcon()---------
09:37:36,033 INFO  ~ ---------INSIDE CONSUMER OFFERDETAILS()---------------
09:37:36,033 DEBUG ~ /* load models.Offer */ select offer0_.id as id593_0_, offer0_.datacenter as datacenter593_0_, offer0_.defaultLeasePeriod as defaultL3_593_0_, offer0_.defaultNetworkType as defaultN4_593_0_, offer0_.defaultServiceLevel as defaultS5_593_0_, offer0_.hypervisorType as hypervis6_593_0_, offer0_.icon as icon593_0_, offer0_.iconName as iconName593_0_, offer0_.image as image593_0_, offer0_.longDescription as longDes10_593_0_, offer0_.name as name593_0_, offer0_.price as price593_0_, offer0_.serviceType as service13_593_0_, offer0_.shortDescription as shortDe14_593_0_, offer0_.state as state593_0_, offer0_.virtualAppliance as virtual16_593_0_, offer0_.virtualDatacenter as virtual17_593_0_, offer0_.virtualDatacenterName as virtual18_593_0_ from Offer offer0_ where offer0_.id=?
09:37:36,035 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_593_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_600_0_, nodes1_.cpu as cpu600_0_, nodes1_.description as descript3_600_0_, nodes1_.hd as hd600_0_, nodes1_.icon as icon600_0_, nodes1_.idImage as idImage600_0_, nodes1_.node_name as node7_600_0_, nodes1_.ram as ram600_0_, nodes1_1_.offer_id as offer1_601_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:37:36,037 INFO  ~ ------------EXITING CONSUMER OFFERDETAILS()--------------
09:37:36,140 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_600_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_598_0_, nodes_reso1_.resourceType as resource2_598_0_, nodes_reso1_.sequence as sequence598_0_, nodes_reso1_.value as value598_0_, nodes_reso1_1_.id_node as id1_599_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
09:37:36,166 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:37:36,166 INFO  ~  OfferID for icon 1
09:37:36,166 DEBUG ~ /* load models.Offer */ select offer0_.id as id593_0_, offer0_.datacenter as datacenter593_0_, offer0_.defaultLeasePeriod as defaultL3_593_0_, offer0_.defaultNetworkType as defaultN4_593_0_, offer0_.defaultServiceLevel as defaultS5_593_0_, offer0_.hypervisorType as hypervis6_593_0_, offer0_.icon as icon593_0_, offer0_.iconName as iconName593_0_, offer0_.image as image593_0_, offer0_.longDescription as longDes10_593_0_, offer0_.name as name593_0_, offer0_.price as price593_0_, offer0_.serviceType as service13_593_0_, offer0_.shortDescription as shortDe14_593_0_, offer0_.state as state593_0_, offer0_.virtualAppliance as virtual16_593_0_, offer0_.virtualDatacenter as virtual17_593_0_, offer0_.virtualDatacenterName as virtual18_593_0_ from Offer offer0_ where offer0_.id=?
09:37:36,167 INFO  ~ ------------------------- EXITING displayIcon()---------
09:37:40,264 INFO  ~ ---------INSIDE CONSUMER OFFERDETAILS()---------------
09:37:40,264 DEBUG ~ /* load models.Offer */ select offer0_.id as id593_0_, offer0_.datacenter as datacenter593_0_, offer0_.defaultLeasePeriod as defaultL3_593_0_, offer0_.defaultNetworkType as defaultN4_593_0_, offer0_.defaultServiceLevel as defaultS5_593_0_, offer0_.hypervisorType as hypervis6_593_0_, offer0_.icon as icon593_0_, offer0_.iconName as iconName593_0_, offer0_.image as image593_0_, offer0_.longDescription as longDes10_593_0_, offer0_.name as name593_0_, offer0_.price as price593_0_, offer0_.serviceType as service13_593_0_, offer0_.shortDescription as shortDe14_593_0_, offer0_.state as state593_0_, offer0_.virtualAppliance as virtual16_593_0_, offer0_.virtualDatacenter as virtual17_593_0_, offer0_.virtualDatacenterName as virtual18_593_0_ from Offer offer0_ where offer0_.id=?
09:37:40,266 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_593_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_600_0_, nodes1_.cpu as cpu600_0_, nodes1_.description as descript3_600_0_, nodes1_.hd as hd600_0_, nodes1_.icon as icon600_0_, nodes1_.idImage as idImage600_0_, nodes1_.node_name as node7_600_0_, nodes1_.ram as ram600_0_, nodes1_1_.offer_id as offer1_601_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:37:40,267 INFO  ~ ------------EXITING CONSUMER OFFERDETAILS()--------------
09:37:40,271 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_600_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_598_0_, nodes_reso1_.resourceType as resource2_598_0_, nodes_reso1_.sequence as sequence598_0_, nodes_reso1_.value as value598_0_, nodes_reso1_1_.id_node as id1_599_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
09:37:40,296 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:37:40,296 INFO  ~  OfferID for icon 4
09:37:40,296 DEBUG ~ /* load models.Offer */ select offer0_.id as id593_0_, offer0_.datacenter as datacenter593_0_, offer0_.defaultLeasePeriod as defaultL3_593_0_, offer0_.defaultNetworkType as defaultN4_593_0_, offer0_.defaultServiceLevel as defaultS5_593_0_, offer0_.hypervisorType as hypervis6_593_0_, offer0_.icon as icon593_0_, offer0_.iconName as iconName593_0_, offer0_.image as image593_0_, offer0_.longDescription as longDes10_593_0_, offer0_.name as name593_0_, offer0_.price as price593_0_, offer0_.serviceType as service13_593_0_, offer0_.shortDescription as shortDe14_593_0_, offer0_.state as state593_0_, offer0_.virtualAppliance as virtual16_593_0_, offer0_.virtualDatacenter as virtual17_593_0_, offer0_.virtualDatacenterName as virtual18_593_0_ from Offer offer0_ where offer0_.id=?
09:37:40,297 INFO  ~ ------------------------- EXITING displayIcon()---------
09:37:41,801 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
09:37:41,801 INFO  ~ CURRENT USER EMAIL ID: userent
09:37:41,801 DEBUG ~ /* load models.Offer */ select offer0_.id as id593_0_, offer0_.datacenter as datacenter593_0_, offer0_.defaultLeasePeriod as defaultL3_593_0_, offer0_.defaultNetworkType as defaultN4_593_0_, offer0_.defaultServiceLevel as defaultS5_593_0_, offer0_.hypervisorType as hypervis6_593_0_, offer0_.icon as icon593_0_, offer0_.iconName as iconName593_0_, offer0_.image as image593_0_, offer0_.longDescription as longDes10_593_0_, offer0_.name as name593_0_, offer0_.price as price593_0_, offer0_.serviceType as service13_593_0_, offer0_.shortDescription as shortDe14_593_0_, offer0_.state as state593_0_, offer0_.virtualAppliance as virtual16_593_0_, offer0_.virtualDatacenter as virtual17_593_0_, offer0_.virtualDatacenterName as virtual18_593_0_ from Offer offer0_ where offer0_.id=?
09:37:41,802 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
09:37:41,817 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_593_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_600_0_, nodes1_.cpu as cpu600_0_, nodes1_.description as descript3_600_0_, nodes1_.hd as hd600_0_, nodes1_.icon as icon600_0_, nodes1_.idImage as idImage600_0_, nodes1_.node_name as node7_600_0_, nodes1_.ram as ram600_0_, nodes1_1_.offer_id as offer1_601_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:37:43,131 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
09:37:43,131 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 171, INTEGER SC_OFFER_ID :: 4 , String va_param:: diamonderver)
09:37:43,160 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
09:37:43,246 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
09:37:43,340 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
09:37:43,340 INFO  ~  vdcname : POR-userent-2012-09-12 09:37:43.34
09:37:43,437 INFO  ~  VDC to deploy: 
09:37:43,437 INFO  ~  Hypervisor to deploy: 
09:37:43,508 INFO  ~  Datacenter to deploy: 
09:37:43,508 INFO  ~  Network Built
09:37:43,508 INFO  ~ VDC built  
09:37:46,762 INFO  ~  1. VDC CREATED 
09:37:47,200 INFO  ~  2. VAPP CREATED 
09:37:47,200 INFO  ~ --------------------
09:37:47,201 DEBUG ~ /* load models.Offer */ select offer0_.id as id593_0_, offer0_.datacenter as datacenter593_0_, offer0_.defaultLeasePeriod as defaultL3_593_0_, offer0_.defaultNetworkType as defaultN4_593_0_, offer0_.defaultServiceLevel as defaultS5_593_0_, offer0_.hypervisorType as hypervis6_593_0_, offer0_.icon as icon593_0_, offer0_.iconName as iconName593_0_, offer0_.image as image593_0_, offer0_.longDescription as longDes10_593_0_, offer0_.name as name593_0_, offer0_.price as price593_0_, offer0_.serviceType as service13_593_0_, offer0_.shortDescription as shortDe14_593_0_, offer0_.state as state593_0_, offer0_.virtualAppliance as virtual16_593_0_, offer0_.virtualDatacenter as virtual17_593_0_, offer0_.virtualDatacenterName as virtual18_593_0_ from Offer offer0_ where offer0_.id=?
09:37:47,202 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
09:37:47,202 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id593_, offer0_.datacenter as datacenter593_, offer0_.defaultLeasePeriod as defaultL3_593_, offer0_.defaultNetworkType as defaultN4_593_, offer0_.defaultServiceLevel as defaultS5_593_, offer0_.hypervisorType as hypervis6_593_, offer0_.icon as icon593_, offer0_.iconName as iconName593_, offer0_.image as image593_, offer0_.longDescription as longDes10_593_, offer0_.name as name593_, offer0_.price as price593_, offer0_.serviceType as service13_593_, offer0_.shortDescription as shortDe14_593_, offer0_.state as state593_, offer0_.virtualAppliance as virtual16_593_, offer0_.virtualDatacenter as virtual17_593_, offer0_.virtualDatacenterName as virtual18_593_ from Offer offer0_ where offer0_.id=?
09:37:47,203 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
09:37:47,203 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_593_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_600_0_, nodes1_.cpu as cpu600_0_, nodes1_.description as descript3_600_0_, nodes1_.hd as hd600_0_, nodes1_.icon as icon600_0_, nodes1_.idImage as idImage600_0_, nodes1_.node_name as node7_600_0_, nodes1_.ram as ram600_0_, nodes1_1_.offer_id as offer1_601_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:37:47,392 INFO  ~  3. VM CREATED
09:37:47,393 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_600_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_598_0_, nodes_reso1_.resourceType as resource2_598_0_, nodes_reso1_.sequence as sequence598_0_, nodes_reso1_.value as value598_0_, nodes_reso1_1_.id_node as id1_599_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
09:37:47,484 INFO  ~  4. HARDDISKS ATTACHED 
09:37:47,484 INFO  ~  Handler created :
09:37:48,310 INFO  ~ STARTING MONITORING ......
09:37:48,311 INFO  ~ SAVING DEPLOY INFORMATION ......
09:38:08,746 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
09:38:08,746 INFO  ~  CREATED VM : VirtualMachine [id=228, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_4fc242da-b2f9-4286-964a-5032bd28dc14, password=vmpassword, ram=64, uuid=4fc242da-b2f9-4286-964a-5032bd28dc14, vncAddress=null, vncPort=0]
09:38:08,800 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
09:38:08,800 INFO  ~ ------------------------- INSIDE getVMDetais()----------
09:38:08,800 INFO  ~  getVMDetais() params : vdc_id 172 vapp_id : 175 vm-id : 228
09:38:08,800 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_602_, mkt_config0_.deploy_enterprise_id as deploy2_602_, mkt_config0_.enterprise_name as enterprise3_602_, mkt_config0_.mkt_branding_css as mkt4_602_, mkt_config0_.mkt_branding_icon as mkt5_602_, mkt_config0_.mkt_deploy_pw as mkt6_602_, mkt_config0_.mkt_deploy_user as mkt7_602_, mkt_config0_.mkt_theme_css as mkt8_602_, mkt_config0_.mkt_url as mkt9_602_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
09:38:08,801 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
09:38:08,801 INFO  ~  AbiquoUtils context set to :null
09:38:08,801 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
09:38:36,360 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
09:38:36,368 ERROR ~ Duplicate entry 'userent' for key 'PRIMARY'
09:44:50,675 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:96)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:275)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:268)
	at org.hibernate.engine.ActionQueue.executeInserts(ActionQueue.java:175)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: java.sql.BatchUpdateException: Duplicate entry 'userent' for key 'PRIMARY'
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:2018)
	at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1449)
	at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:70)
	at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:268)
	... 22 more
09:45:19,112 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
09:45:19,112 ERROR ~ Table 'Deploy_Bundle' already exists
09:45:20,117 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
09:45:20,117 ERROR ~ Table 'UserPortal' already exists
09:45:20,118 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
09:45:20,118 ERROR ~ Table 'offerPurchased' already exists
09:45:22,047 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
09:45:22,047 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
09:45:22,048 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
09:45:22,048 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
09:45:22,135 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:45:22,450 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:45:22,544 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:45:22,545 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:45:22,547 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:45:22,547 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:45:22,547 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:45:22,548 INFO  ~ resultSet1 size :0
09:45:22,548 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:45:22,548 INFO  ~  resultSet1 size []
09:45:22,548 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:45:22,606 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:45:22,915 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:45:23,004 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:45:23,112 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:45:23,202 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:45:23,202 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:45:23,203 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:45:23,203 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:45:23,203 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:45:23,204 INFO  ~ resultSet1 size :0
09:45:23,204 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:45:23,204 INFO  ~  resultSet1 size []
09:45:23,204 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:45:36,301 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
09:45:36,301 INFO  ~ CURRENT USER EMAIL ID: userent
09:45:36,301 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:45:36,302 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
09:45:36,338 ERROR ~ 

@6bj7j6o4c
Internal Server Error (500) for request GET /consumer/purchaseconfirmation?offer_id=4

Template execution error (In /app/views/Consumer/purchaseConfirmation.html around line 30)
Execution error occured in template /app/views/Consumer/purchaseConfirmation.html. Exception raised was NullPointerException : Cannot get property 'name' on null object.

play.exceptions.TemplateExecutionException: Cannot get property 'name' on null object
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:86)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:257)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Consumer.purchaseConfirmation(Consumer.java:220)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.NullPointerException: Cannot get property 'name' on null object
	at /app/views/Consumer/purchaseConfirmation.html.(line:30)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:232)
	... 13 more
09:45:38,832 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
09:45:38,832 INFO  ~ Enterprie ID for current User 3
09:45:38,832 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ group by offer0_.defaultServiceLevel
09:45:38,833 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
09:45:38,974 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
09:45:38,974 INFO  ~ Enterprie ID for current User 3
09:45:38,974 INFO  ~ CURRENT USER EMAIL ID: userent
09:45:38,974 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
09:45:38,975 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:45:38,975 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:45:38,976 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:45:38,976 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
09:45:47,417 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
09:45:47,453 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:45:48,007 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:45:48,327 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:45:48,419 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:45:48,485 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:45:48,556 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:45:48,557 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:45:48,558 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:45:48,558 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:45:48,558 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:45:48,558 INFO  ~ resultSet1 size :0
09:45:48,558 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:45:48,558 INFO  ~  resultSet1 size []
09:45:48,558 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:45:50,841 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
09:45:50,885 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:45:50,984 INFO  ~  virtualDC  : Bronze
09:45:51,136 INFO  ~  va  : Bronze
09:45:51,436 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
09:45:55,702 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=? limit ?
09:45:55,711 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
09:45:55,711 INFO  ~ Session user in addToServiceCatalog(): admin
09:45:55,711 INFO  ~  and  vdc 3  & va_id : 1
09:45:55,711 INFO  ~  lease period 100 years
09:45:55,753 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:45:56,484 INFO  ~  description : sdfsdaf
09:45:56,583 INFO  ~  description : sdfsdaf
09:45:56,617 WARN  ~ EXCEPTION OCCURED IN addToServiceCAtalog()
javax.persistence.PersistenceException: org.hibernate.PersistentObjectException: detached entity passed to persist: models.Offer
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.ProducerRemote.addToServiceCatalog(ProducerRemote.java:370)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: models.Offer
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:127)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
09:45:56,665 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:45:56,968 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:45:57,057 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:45:57,127 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:45:57,277 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:45:57,277 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:45:57,278 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:45:57,278 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:45:57,279 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:45:57,279 INFO  ~ resultSet1 size :0
09:45:57,279 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:45:57,279 INFO  ~  resultSet1 size []
09:45:57,279 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:46:26,680 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=? limit ?
09:46:26,687 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
09:46:26,687 INFO  ~ Session user in addToServiceCatalog(): admin
09:46:26,687 INFO  ~  and  vdc 3  & va_id : 1
09:46:26,687 INFO  ~  lease period 100 years
09:46:26,731 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:46:27,544 INFO  ~  description : sdfsdaf
09:46:27,628 INFO  ~  description : sdfsdaf
09:46:27,662 WARN  ~ EXCEPTION OCCURED IN addToServiceCAtalog()
javax.persistence.PersistenceException: org.hibernate.PersistentObjectException: detached entity passed to persist: models.Offer
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.ProducerRemote.addToServiceCatalog(ProducerRemote.java:370)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: models.Offer
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:127)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
09:46:27,710 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:46:28,026 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:46:28,117 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:46:28,193 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:46:28,266 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:46:28,266 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:46:28,267 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:46:28,267 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:46:28,267 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:46:28,268 INFO  ~ resultSet1 size :0
09:46:28,268 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:46:28,268 INFO  ~  resultSet1 size []
09:46:28,268 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:47:52,728 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=? limit ?
09:47:55,287 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
09:47:57,004 INFO  ~ Session user in addToServiceCatalog(): admin
09:47:57,771 INFO  ~  and  vdc 3  & va_id : 1
09:47:58,891 INFO  ~  lease period 100 years
09:48:15,356 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:48:51,066 INFO  ~  description : sdfsdaf
09:49:10,393 INFO  ~  description : sdfsdaf
09:49:16,314 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
09:49:16,317 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
09:49:16,317 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
09:49:16,318 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
09:49:16,318 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
09:49:16,318 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
09:49:26,613 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
09:49:34,513 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
09:49:34,962 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
09:49:42,737 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:49:43,018 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:49:43,019 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:49:43,104 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:49:43,189 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:49:43,189 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:49:43,190 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:49:43,190 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:49:43,190 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:49:43,191 INFO  ~ resultSet1 size :1
09:49:43,191 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:49:43,191 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@7f8059 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
09:49:43,191 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:49:43,246 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:49:43,246 INFO  ~  OfferID for icon 1
09:49:43,246 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:49:43,248 INFO  ~ ------------------------- EXITING displayIcon()---------
09:49:48,328 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:49:48,629 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:49:48,701 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:49:48,701 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:49:48,702 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:49:48,702 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:49:48,703 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:49:48,703 INFO  ~ resultSet1 size :0
09:49:48,703 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:49:48,703 INFO  ~  resultSet1 size []
09:49:48,703 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:49:49,512 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:49:49,834 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:49:49,835 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:49:49,908 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:49:49,967 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:49:49,967 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:49:49,968 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:49:49,968 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:49:49,968 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:49:49,969 INFO  ~ resultSet1 size :1
09:49:49,969 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:49:49,969 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@63ba8142 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
09:49:49,969 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:49:49,997 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:49:49,997 INFO  ~  OfferID for icon 1
09:49:49,997 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:49:49,997 INFO  ~ ------------------------- EXITING displayIcon()---------
09:49:51,937 INFO  ~  -----INSIDE PRODUCER LISTVM()------
09:49:51,969 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:49:52,417 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
09:49:52,417 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:49:52,419 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
09:49:52,681 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
09:49:52,681 INFO  ~ Session user in vmDetails(): admin
09:49:53,072 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:49:53,072 INFO  ~  OfferID for icon 1
09:49:53,072 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:49:53,073 INFO  ~ ------------------------- EXITING displayIcon()---------
09:49:53,081 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
09:49:53,081 INFO  ~ Session user in vmDetails(): admin
09:49:56,822 INFO  ~  -----INSIDE PRODUCER LISTVM()------
09:49:56,860 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:49:57,240 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
09:49:57,241 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:49:57,241 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
09:49:57,431 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
09:49:57,431 INFO  ~ Session user in vmDetails(): admin
09:50:04,885 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
09:50:04,925 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:50:05,030 INFO  ~  virtualDC  : Bronze
09:50:05,187 INFO  ~  va  : Bronze
09:50:05,437 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
09:50:14,004 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=? limit ?
09:50:14,011 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
09:50:14,011 INFO  ~ Session user in addToServiceCatalog(): admin
09:50:14,011 INFO  ~  and  vdc 3  & va_id : 3
09:50:14,012 INFO  ~  lease period 100 years
09:50:14,044 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:50:14,730 INFO  ~  description : sadfsdfa
09:50:14,764 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
09:50:14,769 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
09:50:14,769 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
09:50:14,770 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
09:50:14,773 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
09:50:14,881 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:50:15,179 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:50:15,180 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:50:15,180 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:50:15,286 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:50:15,286 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:50:15,288 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:50:15,288 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:50:15,288 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:50:15,289 INFO  ~ resultSet1 size :2
09:50:15,289 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:50:15,289 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@15e76885 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite], sc_offer [ID :2, Name : webserver3, Icon: play.db.jpa.Blob@b7efeff , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
09:50:15,289 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:50:15,332 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:50:15,332 INFO  ~  OfferID for icon 2
09:50:15,333 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:50:15,333 INFO  ~ ------------------------- EXITING displayIcon()---------
09:50:15,338 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:50:15,338 INFO  ~  OfferID for icon 1
09:50:15,338 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:50:15,339 INFO  ~ ------------------------- EXITING displayIcon()---------
09:50:26,945 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
09:50:26,945 INFO  ~ Enterprie ID for current User 3
09:50:26,945 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ group by offer0_.defaultServiceLevel
09:50:26,947 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
09:50:27,028 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
09:50:27,028 INFO  ~ Enterprie ID for current User 3
09:50:27,028 INFO  ~ CURRENT USER EMAIL ID: userent
09:50:27,029 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
09:50:27,030 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:50:27,030 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:50:27,031 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:50:27,031 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
09:50:27,053 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:50:27,053 INFO  ~  OfferID for icon 2
09:50:27,053 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:50:27,054 INFO  ~ ------------------------- EXITING displayIcon()---------
09:50:27,058 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:50:27,058 INFO  ~  OfferID for icon 1
09:50:27,059 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:50:27,059 INFO  ~ ------------------------- EXITING displayIcon()---------
09:50:29,062 INFO  ~ ---------INSIDE CONSUMER OFFERDETAILS()---------------
09:50:29,063 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:50:29,064 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:50:29,066 INFO  ~ ------------EXITING CONSUMER OFFERDETAILS()--------------
09:50:29,091 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_622_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_620_0_, nodes_reso1_.resourceType as resource2_620_0_, nodes_reso1_.sequence as sequence620_0_, nodes_reso1_.value as value620_0_, nodes_reso1_1_.id_node as id1_621_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
09:50:29,115 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:50:29,115 INFO  ~  OfferID for icon 1
09:50:29,115 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:50:29,116 INFO  ~ ------------------------- EXITING displayIcon()---------
09:51:16,571 INFO  ~ ---------INSIDE CONSUMER OFFERDETAILS()---------------
09:51:16,571 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:51:16,572 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:51:16,574 INFO  ~ ------------EXITING CONSUMER OFFERDETAILS()--------------
09:51:16,577 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_622_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_620_0_, nodes_reso1_.resourceType as resource2_620_0_, nodes_reso1_.sequence as sequence620_0_, nodes_reso1_.value as value620_0_, nodes_reso1_1_.id_node as id1_621_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
09:51:16,592 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:51:16,592 INFO  ~  OfferID for icon 2
09:51:16,592 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:51:16,593 INFO  ~ ------------------------- EXITING displayIcon()---------
09:51:17,949 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
09:51:17,949 INFO  ~ CURRENT USER EMAIL ID: userent
09:51:17,949 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:51:17,949 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
09:51:18,041 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:51:22,630 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
09:51:22,630 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 2 , String va_param:: webserver3)
09:51:22,672 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
09:51:22,755 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
09:51:22,848 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
09:51:22,848 INFO  ~  vdcname : POR-userent-2012-09-12 09:51:22.848
09:51:22,952 INFO  ~  VDC to deploy: 
09:51:22,952 INFO  ~  Hypervisor to deploy: 
09:51:23,023 INFO  ~  Datacenter to deploy: 
09:51:23,023 INFO  ~  Network Built
09:51:23,023 INFO  ~ VDC built  
09:51:26,734 INFO  ~  1. VDC CREATED 
09:51:26,905 INFO  ~  2. VAPP CREATED 
09:51:26,906 INFO  ~ --------------------
09:51:26,906 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:51:26,907 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
09:51:26,907 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:51:26,908 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
09:51:26,908 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:51:27,200 INFO  ~  3. VM CREATED
09:51:27,201 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_622_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_620_0_, nodes_reso1_.resourceType as resource2_620_0_, nodes_reso1_.sequence as sequence620_0_, nodes_reso1_.value as value620_0_, nodes_reso1_1_.id_node as id1_621_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
09:51:27,351 INFO  ~  4. HARDDISKS ATTACHED 
09:51:27,352 INFO  ~  Handler created :
09:51:28,014 INFO  ~ STARTING MONITORING ......
09:51:28,014 INFO  ~ SAVING DEPLOY INFORMATION ......
09:51:28,017 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
09:51:28,018 ERROR ~ Duplicate entry 'userent' for key 'PRIMARY'
09:51:28,019 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:96)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:275)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:268)
	at org.hibernate.engine.ActionQueue.executeInserts(ActionQueue.java:175)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: java.sql.BatchUpdateException: Duplicate entry 'userent' for key 'PRIMARY'
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:2018)
	at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1449)
	at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:70)
	at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:268)
	... 22 more
09:51:48,431 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
09:51:48,432 INFO  ~  CREATED VM : VirtualMachine [id=229, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_29aeb7d3-20ee-472c-b2d4-de04313f2597, password=vmpassword, ram=64, uuid=29aeb7d3-20ee-472c-b2d4-de04313f2597, vncAddress=null, vncPort=0]
09:51:48,506 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
09:51:48,506 INFO  ~ ------------------------- INSIDE getVMDetais()----------
09:51:48,506 INFO  ~  getVMDetais() params : vdc_id 173 vapp_id : 176 vm-id : 229
09:51:48,507 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_624_, mkt_config0_.deploy_enterprise_id as deploy2_624_, mkt_config0_.enterprise_name as enterprise3_624_, mkt_config0_.mkt_branding_css as mkt4_624_, mkt_config0_.mkt_branding_icon as mkt5_624_, mkt_config0_.mkt_deploy_pw as mkt6_624_, mkt_config0_.mkt_deploy_user as mkt7_624_, mkt_config0_.mkt_theme_css as mkt8_624_, mkt_config0_.mkt_url as mkt9_624_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
09:51:48,508 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
09:51:48,508 INFO  ~  AbiquoUtils context set to :null
09:51:48,508 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
09:53:32,066 INFO  ~ ---------INSIDE CONSUMER OFFERDETAILS()---------------
09:53:32,067 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:53:32,068 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:53:32,069 INFO  ~ ------------EXITING CONSUMER OFFERDETAILS()--------------
09:53:32,073 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_622_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_620_0_, nodes_reso1_.resourceType as resource2_620_0_, nodes_reso1_.sequence as sequence620_0_, nodes_reso1_.value as value620_0_, nodes_reso1_1_.id_node as id1_621_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
09:57:09,171 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:57:09,486 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:57:09,578 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:57:09,579 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:57:09,580 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:57:09,580 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:57:09,580 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:57:09,581 INFO  ~ resultSet1 size :0
09:57:09,581 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:57:09,581 INFO  ~  resultSet1 size []
09:57:09,581 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:57:10,783 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:57:11,088 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:57:11,089 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:57:11,090 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:57:11,163 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:57:11,163 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:57:11,164 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:57:11,164 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:57:11,164 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:57:11,165 INFO  ~ resultSet1 size :2
09:57:11,165 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:57:11,165 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@49e05810 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite], sc_offer [ID :2, Name : webserver3, Icon: play.db.jpa.Blob@27b5a854 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
09:57:11,165 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:57:11,214 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:57:11,214 INFO  ~  OfferID for icon 1
09:57:11,215 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:57:11,215 INFO  ~ ------------------------- EXITING displayIcon()---------
09:57:11,219 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:57:11,219 INFO  ~  OfferID for icon 2
09:57:11,219 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:57:11,220 INFO  ~ ------------------------- EXITING displayIcon()---------
09:57:44,057 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:57:44,367 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:57:44,508 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:57:44,509 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:57:44,510 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:57:44,510 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:57:44,510 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:57:44,510 INFO  ~ resultSet1 size :0
09:57:44,510 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:57:44,510 INFO  ~  resultSet1 size []
09:57:44,511 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:57:46,118 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:57:46,402 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:57:46,403 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:57:46,404 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:57:46,473 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:57:46,473 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:57:46,474 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:57:46,474 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:57:46,475 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:57:46,475 INFO  ~ resultSet1 size :2
09:57:46,475 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:57:46,475 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@3be29ce0 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite], sc_offer [ID :2, Name : webserver3, Icon: play.db.jpa.Blob@1aa954d7 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
09:57:46,475 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:57:46,509 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:57:46,509 INFO  ~  OfferID for icon 1
09:57:46,509 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:57:46,510 INFO  ~ ------------------------- EXITING displayIcon()---------
09:57:46,523 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:57:46,523 INFO  ~  OfferID for icon 2
09:57:46,524 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:57:46,524 INFO  ~ ------------------------- EXITING displayIcon()---------
09:58:39,243 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:58:39,549 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:58:39,617 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
09:58:39,617 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
09:58:39,619 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
09:58:39,619 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:58:39,619 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:58:39,620 INFO  ~ resultSet1 size :0
09:58:39,620 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:58:39,620 INFO  ~  resultSet1 size []
09:58:39,620 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:58:42,628 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
09:58:42,628 INFO  ~ CURRENT USER EMAIL ID: userent
09:58:42,628 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:58:42,629 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
09:58:42,630 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:58:43,896 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
09:58:43,896 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 2 , String va_param:: webserver3)
09:58:43,925 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
09:58:44,019 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
09:58:44,104 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
09:58:44,104 INFO  ~  vdcname : POR-userent-2012-09-12 09:58:44.104
09:58:44,217 INFO  ~  VDC to deploy: 
09:58:44,218 INFO  ~  Hypervisor to deploy: 
09:58:44,287 INFO  ~  Datacenter to deploy: 
09:58:44,287 INFO  ~  Network Built
09:58:44,287 INFO  ~ VDC built  
09:58:47,150 INFO  ~  1. VDC CREATED 
09:58:47,293 INFO  ~  2. VAPP CREATED 
09:58:47,293 INFO  ~ --------------------
09:58:47,293 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:58:47,300 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
09:58:47,300 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:58:47,301 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
09:58:47,301 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:58:47,539 INFO  ~  3. VM CREATED
09:58:47,539 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_622_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_620_0_, nodes_reso1_.resourceType as resource2_620_0_, nodes_reso1_.sequence as sequence620_0_, nodes_reso1_.value as value620_0_, nodes_reso1_1_.id_node as id1_621_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
09:58:47,649 INFO  ~  4. HARDDISKS ATTACHED 
09:58:47,649 INFO  ~  Handler created :
09:58:48,185 INFO  ~ STARTING MONITORING ......
09:58:48,186 INFO  ~ SAVING DEPLOY INFORMATION ......
09:58:48,193 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
09:58:48,195 ERROR ~ Duplicate entry 'userent' for key 'PRIMARY'
09:58:48,195 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:96)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:275)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:268)
	at org.hibernate.engine.ActionQueue.executeInserts(ActionQueue.java:175)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: java.sql.BatchUpdateException: Duplicate entry 'userent' for key 'PRIMARY'
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:2018)
	at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1449)
	at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:70)
	at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:268)
	... 22 more
09:58:57,118 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
09:58:57,118 INFO  ~ CURRENT USER EMAIL ID: userent
09:58:57,118 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:58:57,120 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
09:58:57,121 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:58:57,905 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
09:58:57,905 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 2 , String va_param:: webserver3)
09:58:57,944 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
09:58:58,027 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
09:58:58,110 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
09:58:58,110 INFO  ~  vdcname : POR-userent-2012-09-12 09:58:58.11
09:58:58,203 INFO  ~  VDC to deploy: 
09:58:58,203 INFO  ~  Hypervisor to deploy: 
09:58:58,280 INFO  ~  Datacenter to deploy: 
09:58:58,280 INFO  ~  Network Built
09:58:58,280 INFO  ~ VDC built  
09:59:02,282 INFO  ~  1. VDC CREATED 
09:59:02,481 INFO  ~  2. VAPP CREATED 
09:59:02,481 INFO  ~ --------------------
09:59:02,482 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
09:59:02,483 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
09:59:02,483 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
09:59:02,484 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
09:59:02,484 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
09:59:02,806 INFO  ~  3. VM CREATED
09:59:02,806 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_622_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_620_0_, nodes_reso1_.resourceType as resource2_620_0_, nodes_reso1_.sequence as sequence620_0_, nodes_reso1_.value as value620_0_, nodes_reso1_1_.id_node as id1_621_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
09:59:02,914 INFO  ~  4. HARDDISKS ATTACHED 
09:59:02,914 INFO  ~  Handler created :
09:59:03,743 INFO  ~ STARTING MONITORING ......
09:59:03,744 INFO  ~ SAVING DEPLOY INFORMATION ......
09:59:15,664 DEBUG ~ /* insert models.UserPortal */ insert into UserPortal (email, idAbiquo, id) values (?, ?, ?)
09:59:15,665 ERROR ~ Duplicate entry 'userent' for key 'PRIMARY'
09:59:18,850 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
09:59:18,850 INFO  ~  CREATED VM : VirtualMachine [id=230, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_f5637900-1ad6-4744-856e-005cca9a3c85, password=vmpassword, ram=64, uuid=f5637900-1ad6-4744-856e-005cca9a3c85, vncAddress=null, vncPort=0]
09:59:18,910 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
09:59:18,910 INFO  ~ ------------------------- INSIDE getVMDetais()----------
09:59:18,910 INFO  ~  getVMDetais() params : vdc_id 174 vapp_id : 177 vm-id : 230
09:59:18,910 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_624_, mkt_config0_.deploy_enterprise_id as deploy2_624_, mkt_config0_.enterprise_name as enterprise3_624_, mkt_config0_.mkt_branding_css as mkt4_624_, mkt_config0_.mkt_branding_icon as mkt5_624_, mkt_config0_.mkt_deploy_pw as mkt6_624_, mkt_config0_.mkt_deploy_user as mkt7_624_, mkt_config0_.mkt_theme_css as mkt8_624_, mkt_config0_.mkt_url as mkt9_624_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
09:59:18,911 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
09:59:18,911 INFO  ~  AbiquoUtils context set to :null
09:59:18,911 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
09:59:29,365 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
09:59:29,366 INFO  ~  CREATED VM : VirtualMachine [id=231, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_9755b3a2-5f47-46d9-bb2c-baa62b3a320d, password=vmpassword, ram=64, uuid=9755b3a2-5f47-46d9-bb2c-baa62b3a320d, vncAddress=null, vncPort=0]
09:59:29,425 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
09:59:29,425 INFO  ~ ------------------------- INSIDE getVMDetais()----------
09:59:29,425 INFO  ~  getVMDetais() params : vdc_id 175 vapp_id : 178 vm-id : 231
09:59:29,426 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_624_, mkt_config0_.deploy_enterprise_id as deploy2_624_, mkt_config0_.enterprise_name as enterprise3_624_, mkt_config0_.mkt_branding_css as mkt4_624_, mkt_config0_.mkt_branding_icon as mkt5_624_, mkt_config0_.mkt_deploy_pw as mkt6_624_, mkt_config0_.mkt_deploy_user as mkt7_624_, mkt_config0_.mkt_theme_css as mkt8_624_, mkt_config0_.mkt_url as mkt9_624_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
09:59:29,426 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
09:59:29,426 INFO  ~  AbiquoUtils context set to :null
09:59:29,427 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:14:35,180 ERROR ~ an assertion failure occured (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session)
org.hibernate.AssertionFailure: null id in models.OfferPurchased entry (don't flush the Session after an exception occurs)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:82)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:190)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:147)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:240)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:99)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at play.server.PlayHandler$NettyInvocation.execute(PlayHandler.java:257)
	at play.Invoker$Invocation.run(Invoker.java:278)
	at play.server.PlayHandler$NettyInvocation.run(PlayHandler.java:235)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:14:35,181 WARN  ~ EXCEPTION OCCURED  IN deploy()
org.hibernate.AssertionFailure: null id in models.OfferPurchased entry (don't flush the Session after an exception occurs)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:82)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:190)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:147)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:240)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:99)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:467)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
10:14:43,853 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:14:43,889 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:14:44,319 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:14:44,513 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
10:14:44,515 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
10:14:44,516 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
10:14:44,574 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:14:44,574 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
10:14:44,575 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:14:44,575 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:14:44,575 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:14:44,576 INFO  ~ resultSet1 size :2
10:14:44,576 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:14:44,576 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@6668ddba , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite], sc_offer [ID :2, Name : webserver3, Icon: play.db.jpa.Blob@6eb512dc , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
10:14:44,576 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:14:44,612 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:14:44,613 INFO  ~  OfferID for icon 2
10:14:44,613 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
10:14:44,613 INFO  ~ ------------------------- EXITING displayIcon()---------
10:14:44,617 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:14:44,617 INFO  ~  OfferID for icon 1
10:14:44,617 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
10:14:44,618 INFO  ~ ------------------------- EXITING displayIcon()---------
10:14:49,141 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
10:14:49,142 INFO  ~ Enterprie ID for current User 3
10:14:49,142 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ group by offer0_.defaultServiceLevel
10:14:49,144 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
10:14:49,297 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
10:14:49,297 INFO  ~ Enterprie ID for current User 3
10:14:49,297 INFO  ~ CURRENT USER EMAIL ID: userent
10:14:49,297 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:14:49,299 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:14:49,299 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id616_, offerpurch0_.expiration as expiration616_, offerpurch0_.idVirtualApplianceUser as idVirtua3_616_, offerpurch0_.leasePeriod as leasePer4_616_, offerpurch0_.offer_id as offer7_616_, offerpurch0_.serviceLevel as serviceL5_616_, offerpurch0_.start as start616_, offerpurch0_.user_id as user8_616_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
10:14:49,299 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:14:49,299 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:14:49,415 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:14:49,415 INFO  ~  OfferID for icon 2
10:14:49,415 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
10:14:49,416 INFO  ~ ------------------------- EXITING displayIcon()---------
10:14:49,420 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:14:49,420 INFO  ~  OfferID for icon 1
10:14:49,420 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
10:14:49,421 INFO  ~ ------------------------- EXITING displayIcon()---------
10:14:52,194 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
10:14:52,194 INFO  ~ CURRENT USER EMAIL ID: userent
10:14:52,194 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
10:14:52,195 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
10:14:52,196 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:14:53,283 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:14:53,284 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 2 , String va_param:: webserver3)
10:14:53,312 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:14:56,409 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
10:14:56,477 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:14:56,477 INFO  ~  vdcname : POR-userent-2012-09-12 10:14:56.477
10:14:56,538 INFO  ~  VDC to deploy: 
10:14:56,538 INFO  ~  Hypervisor to deploy: 
10:14:56,600 INFO  ~  Datacenter to deploy: 
10:14:56,600 INFO  ~  Network Built
10:14:56,600 INFO  ~ VDC built  
10:15:00,108 INFO  ~  1. VDC CREATED 
10:15:00,212 INFO  ~  2. VAPP CREATED 
10:15:00,212 DEBUG ~ /* load models.UserPortal */ select userportal0_.id as id614_0_, userportal0_.email as email614_0_, userportal0_.idAbiquo as idAbiquo614_0_ from UserPortal userportal0_ where userportal0_.id=?
10:15:00,223 INFO  ~ --------------------
10:15:00,223 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
10:15:00,225 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:15:00,225 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
10:15:00,225 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:15:00,225 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:15:00,474 INFO  ~  3. VM CREATED
10:15:00,474 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_622_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_620_0_, nodes_reso1_.resourceType as resource2_620_0_, nodes_reso1_.sequence as sequence620_0_, nodes_reso1_.value as value620_0_, nodes_reso1_1_.id_node as id1_621_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:15:00,601 INFO  ~  4. HARDDISKS ATTACHED 
10:15:00,601 INFO  ~  Handler created :
10:15:00,727 WARN  ~ EXCEPTION OCCURED  IN deploy()
org.jclouds.abiquo.domain.exception.AbiquoException: ALLOC-0 - There are not enough resources to create the virtual machine (Virtual Machine id:232 name:ABQ_1b545d82-0137-45bd-bac1-e9112d7e337e UUID:1b545d82-0137-45bd-bac1-e9112d7e337e.)
Any rack can be selected: There is no physical machine capacity to instantiate the required virtual appliance.Caused by:
Rack [rack] can't be used : There isn't any MANAGED machine on the required rack [1] and virtual datacenter [176]. Please check the machine health on the infrastructure.

	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.getExceptionToPropagate(AbiquoErrorHandler.java:112)
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:88)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy93.deployVirtualMachine(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy94.deployVirtualMachine(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.deploy(VirtualMachine.java:300)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.deploy(VirtualMachine.java:292)
	at controllers.Consumer.Deploy(Consumer.java:457)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
10:15:15,344 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
10:15:15,344 INFO  ~ CURRENT USER EMAIL ID: userent
10:15:15,344 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
10:15:15,345 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
10:15:15,347 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:15:17,099 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:15:17,099 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 2 , String va_param:: webserver3)
10:15:17,134 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:15:17,274 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
10:15:17,386 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:15:17,386 INFO  ~  vdcname : POR-userent-2012-09-12 10:15:17.386
10:15:17,467 INFO  ~  VDC to deploy: 
10:15:17,467 INFO  ~  Hypervisor to deploy: 
10:15:17,534 INFO  ~  Datacenter to deploy: 
10:15:17,534 INFO  ~  Network Built
10:15:17,534 INFO  ~ VDC built  
10:15:19,589 INFO  ~  1. VDC CREATED 
10:15:19,737 INFO  ~  2. VAPP CREATED 
10:15:19,737 DEBUG ~ /* load models.UserPortal */ select userportal0_.id as id614_0_, userportal0_.email as email614_0_, userportal0_.idAbiquo as idAbiquo614_0_ from UserPortal userportal0_ where userportal0_.id=?
10:15:19,738 INFO  ~ --------------------
10:15:19,738 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
10:15:19,739 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:15:19,739 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
10:15:19,740 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:15:19,740 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:15:19,941 INFO  ~  3. VM CREATED
10:15:19,941 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_622_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_620_0_, nodes_reso1_.resourceType as resource2_620_0_, nodes_reso1_.sequence as sequence620_0_, nodes_reso1_.value as value620_0_, nodes_reso1_1_.id_node as id1_621_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:15:20,025 INFO  ~  4. HARDDISKS ATTACHED 
10:15:20,026 INFO  ~  Handler created :
10:15:20,146 WARN  ~ EXCEPTION OCCURED  IN deploy()
org.jclouds.abiquo.domain.exception.AbiquoException: ALLOC-0 - There are not enough resources to create the virtual machine (Virtual Machine id:233 name:ABQ_bbfb249f-f33c-4cef-9dc9-144bbaf579d7 UUID:bbfb249f-f33c-4cef-9dc9-144bbaf579d7.)
Any rack can be selected: There is no physical machine capacity to instantiate the required virtual appliance.Caused by:
Rack [rack] can't be used : There isn't any MANAGED machine on the required rack [1] and virtual datacenter [177]. Please check the machine health on the infrastructure.

	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.getExceptionToPropagate(AbiquoErrorHandler.java:112)
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:88)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy93.deployVirtualMachine(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy94.deployVirtualMachine(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.deploy(VirtualMachine.java:300)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.deploy(VirtualMachine.java:292)
	at controllers.Consumer.Deploy(Consumer.java:457)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
10:17:33,416 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
10:17:33,416 INFO  ~ CURRENT USER EMAIL ID: userent
10:17:33,416 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
10:17:33,418 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
10:17:33,419 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:17:34,544 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:17:34,544 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 2 , String va_param:: webserver3)
10:17:34,573 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:17:34,655 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
10:17:34,748 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:17:34,748 INFO  ~  vdcname : POR-userent-2012-09-12 10:17:34.748
10:17:34,842 INFO  ~  VDC to deploy: 
10:17:34,842 INFO  ~  Hypervisor to deploy: 
10:17:34,913 INFO  ~  Datacenter to deploy: 
10:17:34,913 INFO  ~  Network Built
10:17:34,913 INFO  ~ VDC built  
10:17:38,824 INFO  ~  1. VDC CREATED 
10:17:45,462 INFO  ~  2. VAPP CREATED 
10:17:46,167 DEBUG ~ /* load models.UserPortal */ select userportal0_.id as id614_0_, userportal0_.email as email614_0_, userportal0_.idAbiquo as idAbiquo614_0_ from UserPortal userportal0_ where userportal0_.id=?
10:17:56,534 INFO  ~ --------------------
10:17:58,766 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
10:18:05,633 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:18:05,633 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
10:18:05,634 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:18:05,634 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:18:05,852 INFO  ~  3. VM CREATED
10:18:05,853 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_622_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_620_0_, nodes_reso1_.resourceType as resource2_620_0_, nodes_reso1_.sequence as sequence620_0_, nodes_reso1_.value as value620_0_, nodes_reso1_1_.id_node as id1_621_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:18:05,950 INFO  ~  4. HARDDISKS ATTACHED 
10:18:05,950 INFO  ~  Handler created :
10:18:06,058 WARN  ~ EXCEPTION OCCURED  IN deploy()
org.jclouds.abiquo.domain.exception.AbiquoException: ALLOC-0 - There are not enough resources to create the virtual machine (Virtual Machine id:234 name:ABQ_0082b85f-695d-41f9-bf4e-91f784f86b80 UUID:0082b85f-695d-41f9-bf4e-91f784f86b80.)
Any rack can be selected: There is no physical machine capacity to instantiate the required virtual appliance.Caused by:
Rack [rack] can't be used : There isn't any MANAGED machine on the required rack [1] and virtual datacenter [178]. Please check the machine health on the infrastructure.

	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.getExceptionToPropagate(AbiquoErrorHandler.java:112)
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:88)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy93.deployVirtualMachine(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy94.deployVirtualMachine(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.deploy(VirtualMachine.java:300)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.deploy(VirtualMachine.java:292)
	at controllers.Consumer.Deploy(Consumer.java:457)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
10:18:51,979 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
10:18:51,979 INFO  ~ CURRENT USER EMAIL ID: userent
10:18:51,979 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
10:18:51,980 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
10:18:51,982 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:18:53,057 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:18:53,057 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 2 , String va_param:: webserver3)
10:18:53,089 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:18:53,401 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
10:18:53,497 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:18:53,497 INFO  ~  vdcname : POR-userent-2012-09-12 10:18:53.497
10:18:53,586 INFO  ~  VDC to deploy: 
10:18:53,586 INFO  ~  Hypervisor to deploy: 
10:18:53,656 INFO  ~  Datacenter to deploy: 
10:18:53,656 INFO  ~  Network Built
10:18:53,656 INFO  ~ VDC built  
10:18:55,749 INFO  ~  1. VDC CREATED 
10:18:59,501 INFO  ~  2. VAPP CREATED 
10:19:00,542 DEBUG ~ /* load models.UserPortal */ select userportal0_.id as id614_0_, userportal0_.email as email614_0_, userportal0_.idAbiquo as idAbiquo614_0_ from UserPortal userportal0_ where userportal0_.id=?
10:19:07,605 INFO  ~ --------------------
10:19:09,261 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
10:19:13,469 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:19:13,470 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
10:19:13,489 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:19:15,542 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:19:21,117 INFO  ~  3. VM CREATED
10:19:25,222 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_622_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_620_0_, nodes_reso1_.resourceType as resource2_620_0_, nodes_reso1_.sequence as sequence620_0_, nodes_reso1_.value as value620_0_, nodes_reso1_1_.id_node as id1_621_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:19:31,196 INFO  ~  4. HARDDISKS ATTACHED 
10:19:32,349 INFO  ~  Handler created :
10:19:48,397 WARN  ~ EXCEPTION OCCURED  IN deploy()
org.jclouds.abiquo.domain.exception.AbiquoException: ALLOC-0 - There are not enough resources to create the virtual machine (Virtual Machine id:235 name:ABQ_344ae3be-b4a7-4c11-94df-4cec1268f70a UUID:344ae3be-b4a7-4c11-94df-4cec1268f70a.)
Any rack can be selected: There is no physical machine capacity to instantiate the required virtual appliance.Caused by:
Rack [rack] can't be used : There isn't any MANAGED machine on the required rack [1] and virtual datacenter [179]. Please check the machine health on the infrastructure.

	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.getExceptionToPropagate(AbiquoErrorHandler.java:112)
	at org.jclouds.abiquo.handlers.AbiquoErrorHandler.handleError(AbiquoErrorHandler.java:88)
	at org.jclouds.http.handlers.DelegatingErrorHandler.handleError(DelegatingErrorHandler.java:69)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.shouldContinue(BaseHttpCommandExecutorService.java:200)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:165)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService$HttpResponseCallable.call(BaseHttpCommandExecutorService.java:134)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
	at org.jclouds.concurrent.config.ExecutorServiceModule$DescribingExecutorService.submit(ExecutorServiceModule.java:182)
	at org.jclouds.http.internal.BaseHttpCommandExecutorService.submit(BaseHttpCommandExecutorService.java:131)
	at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.submit(TransformingHttpCommandExecutorServiceImpl.java:54)
	at org.jclouds.http.TransformingHttpCommandImpl.execute(TransformingHttpCommandImpl.java:73)
	at org.jclouds.rest.internal.AsyncRestClientProxy.createListenableFuture(AsyncRestClientProxy.java:156)
	at org.jclouds.rest.internal.AsyncRestClientProxy.invoke(AsyncRestClientProxy.java:126)
	at $Proxy93.deployVirtualMachine(Unknown Source)
	at org.jclouds.concurrent.internal.SyncProxy.invoke(SyncProxy.java:137)
	at $Proxy94.deployVirtualMachine(Unknown Source)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.deploy(VirtualMachine.java:300)
	at org.jclouds.abiquo.domain.cloud.VirtualMachine.deploy(VirtualMachine.java:292)
	at controllers.Consumer.Deploy(Consumer.java:457)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
10:25:25,396 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
10:25:25,396 INFO  ~ CURRENT USER EMAIL ID: userent
10:25:25,396 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
10:25:25,397 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
10:25:25,398 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:25:26,226 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:25:26,226 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 2 , String va_param:: webserver3)
10:25:26,254 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:25:26,352 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
10:25:26,431 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:25:26,431 INFO  ~  vdcname : POR-userent-2012-09-12 10:25:26.431
10:25:26,552 INFO  ~  VDC to deploy: 
10:25:26,552 INFO  ~  Hypervisor to deploy: 
10:25:26,618 INFO  ~  Datacenter to deploy: 
10:25:26,618 INFO  ~  Network Built
10:25:26,618 INFO  ~ VDC built  
10:25:28,221 INFO  ~  1. VDC CREATED 
10:25:37,075 INFO  ~  2. VAPP CREATED 
10:25:37,075 DEBUG ~ /* load models.UserPortal */ select userportal0_.id as id614_0_, userportal0_.email as email614_0_, userportal0_.idAbiquo as idAbiquo614_0_ from UserPortal userportal0_ where userportal0_.id=?
10:25:37,076 INFO  ~ --------------------
10:25:37,076 DEBUG ~ /* load models.Offer */ select offer0_.id as id615_0_, offer0_.datacenter as datacenter615_0_, offer0_.defaultLeasePeriod as defaultL3_615_0_, offer0_.defaultNetworkType as defaultN4_615_0_, offer0_.defaultServiceLevel as defaultS5_615_0_, offer0_.hypervisorType as hypervis6_615_0_, offer0_.icon as icon615_0_, offer0_.iconName as iconName615_0_, offer0_.image as image615_0_, offer0_.longDescription as longDes10_615_0_, offer0_.name as name615_0_, offer0_.price as price615_0_, offer0_.serviceType as service13_615_0_, offer0_.shortDescription as shortDe14_615_0_, offer0_.state as state615_0_, offer0_.virtualAppliance as virtual16_615_0_, offer0_.virtualDatacenter as virtual17_615_0_, offer0_.virtualDatacenterName as virtual18_615_0_ from Offer offer0_ where offer0_.id=?
10:25:37,077 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:25:37,077 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id615_, offer0_.datacenter as datacenter615_, offer0_.defaultLeasePeriod as defaultL3_615_, offer0_.defaultNetworkType as defaultN4_615_, offer0_.defaultServiceLevel as defaultS5_615_, offer0_.hypervisorType as hypervis6_615_, offer0_.icon as icon615_, offer0_.iconName as iconName615_, offer0_.image as image615_, offer0_.longDescription as longDes10_615_, offer0_.name as name615_, offer0_.price as price615_, offer0_.serviceType as service13_615_, offer0_.shortDescription as shortDe14_615_, offer0_.state as state615_, offer0_.virtualAppliance as virtual16_615_, offer0_.virtualDatacenter as virtual17_615_, offer0_.virtualDatacenterName as virtual18_615_ from Offer offer0_ where offer0_.id=?
10:25:37,078 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:25:37,078 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_615_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_622_0_, nodes1_.cpu as cpu622_0_, nodes1_.description as descript3_622_0_, nodes1_.hd as hd622_0_, nodes1_.icon as icon622_0_, nodes1_.idImage as idImage622_0_, nodes1_.node_name as node7_622_0_, nodes1_.ram as ram622_0_, nodes1_1_.offer_id as offer1_623_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:25:37,331 INFO  ~  3. VM CREATED
10:25:37,332 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_622_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_620_0_, nodes_reso1_.resourceType as resource2_620_0_, nodes_reso1_.sequence as sequence620_0_, nodes_reso1_.value as value620_0_, nodes_reso1_1_.id_node as id1_621_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:25:37,414 INFO  ~  4. HARDDISKS ATTACHED 
10:25:37,414 INFO  ~  Handler created :
10:25:38,672 INFO  ~ STARTING MONITORING ......
10:25:38,672 INFO  ~ SAVING DEPLOY INFORMATION ......
10:25:43,168 DEBUG ~ /* insert models.OfferPurchased */ insert into offerPurchased (expiration, idVirtualApplianceUser, leasePeriod, offer_id, serviceLevel, start, user_id) values (?, ?, ?, ?, ?, ?, ?)
10:25:43,207 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
10:25:44,931 INFO  ~ DEPLOY INFO SAVED ......
10:25:45,323 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
10:25:54,075 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:25:54,076 INFO  ~  CREATED VM : VirtualMachine [id=236, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_c595aafb-e7ff-45da-b08f-9d995cb39c01, password=vmpassword, ram=64, uuid=c595aafb-e7ff-45da-b08f-9d995cb39c01, vncAddress=null, vncPort=0]
10:25:54,130 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
10:25:54,130 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:25:54,130 INFO  ~  getVMDetais() params : vdc_id 180 vapp_id : 183 vm-id : 236
10:25:54,131 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_624_, mkt_config0_.deploy_enterprise_id as deploy2_624_, mkt_config0_.enterprise_name as enterprise3_624_, mkt_config0_.mkt_branding_css as mkt4_624_, mkt_config0_.mkt_branding_icon as mkt5_624_, mkt_config0_.mkt_deploy_pw as mkt6_624_, mkt_config0_.mkt_deploy_user as mkt7_624_, mkt_config0_.mkt_theme_css as mkt8_624_, mkt_config0_.mkt_url as mkt9_624_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:25:54,131 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:25:54,131 INFO  ~  AbiquoUtils context set to :null
10:25:54,132 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:26:42,762 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
10:26:42,797 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:26:42,890 INFO  ~  virtualDC  : Bronze
10:26:43,063 INFO  ~  va  : Bronze
10:26:43,268 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
10:36:56,328 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
10:36:56,328 ERROR ~ Table 'Deploy_Bundle' already exists
10:36:57,607 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
10:36:57,608 ERROR ~ Table 'UserPortal' already exists
10:36:57,608 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
10:36:57,608 ERROR ~ Table 'offerPurchased' already exists
10:36:59,744 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
10:36:59,744 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
10:36:59,745 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
10:36:59,745 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
10:37:01,443 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
10:37:01,476 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:37:01,879 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:37:02,081 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ where offer0_.id=?
10:37:02,151 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ where offer0_.id=?
10:37:02,198 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ where offer0_.id=?
10:37:02,260 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:37:02,260 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id638_, offerpurch0_.expiration as expiration638_, offerpurch0_.idVirtualApplianceUser as idVirtua3_638_, offerpurch0_.leasePeriod as leasePer4_638_, offerpurch0_.offer_id as offer7_638_, offerpurch0_.serviceLevel as serviceL5_638_, offerpurch0_.start as start638_, offerpurch0_.user_id as user8_638_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
10:37:02,262 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:37:02,262 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:37:02,262 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:37:02,262 INFO  ~ resultSet1 size :0
10:37:02,262 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:37:02,262 INFO  ~  resultSet1 size []
10:37:02,262 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:37:03,840 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
10:37:03,875 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:37:03,938 INFO  ~  virtualDC  : Bronze
10:37:04,036 INFO  ~  va  : Bronze
10:37:04,227 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
10:37:09,241 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ where offer0_.id=? limit ?
10:37:09,252 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
10:37:09,252 INFO  ~ Session user in addToServiceCatalog(): admin
10:37:09,252 INFO  ~  and  vdc 3  & va_id : 1
10:37:09,252 INFO  ~  lease period 100 years
10:37:09,287 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:37:09,731 INFO  ~  description : dsfasdfsdaf
10:37:09,791 INFO  ~  description : dsfasdfsdaf
10:37:09,818 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
10:37:09,824 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
10:37:09,824 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
10:37:09,825 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
10:37:09,826 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
10:37:09,826 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
10:37:09,830 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
10:37:09,955 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
10:37:10,160 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ where offer0_.id=?
10:37:10,162 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ where offer0_.id=?
10:37:10,228 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ where offer0_.id=?
10:37:10,284 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:37:10,284 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id638_, offerpurch0_.expiration as expiration638_, offerpurch0_.idVirtualApplianceUser as idVirtua3_638_, offerpurch0_.leasePeriod as leasePer4_638_, offerpurch0_.offer_id as offer7_638_, offerpurch0_.serviceLevel as serviceL5_638_, offerpurch0_.start as start638_, offerpurch0_.user_id as user8_638_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
10:37:10,285 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:37:10,286 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
10:37:10,286 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ where offer0_.defaultServiceLevel=?
10:37:10,286 INFO  ~ resultSet1 size :1
10:37:10,286 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
10:37:10,287 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@680d5cce , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
10:37:10,287 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
10:37:10,347 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:37:10,347 INFO  ~  OfferID for icon 1
10:37:10,347 DEBUG ~ /* load models.Offer */ select offer0_.id as id637_0_, offer0_.datacenter as datacenter637_0_, offer0_.defaultLeasePeriod as defaultL3_637_0_, offer0_.defaultNetworkType as defaultN4_637_0_, offer0_.defaultServiceLevel as defaultS5_637_0_, offer0_.hypervisorType as hypervis6_637_0_, offer0_.icon as icon637_0_, offer0_.iconName as iconName637_0_, offer0_.image as image637_0_, offer0_.longDescription as longDes10_637_0_, offer0_.name as name637_0_, offer0_.price as price637_0_, offer0_.serviceType as service13_637_0_, offer0_.shortDescription as shortDe14_637_0_, offer0_.state as state637_0_, offer0_.virtualAppliance as virtual16_637_0_, offer0_.virtualDatacenter as virtual17_637_0_, offer0_.virtualDatacenterName as virtual18_637_0_ from Offer offer0_ where offer0_.id=?
10:37:10,348 INFO  ~ ------------------------- EXITING displayIcon()---------
10:37:13,687 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
10:37:13,687 INFO  ~ Enterprie ID for current User 3
10:37:13,687 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ group by offer0_.defaultServiceLevel
10:37:13,689 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
10:37:13,838 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
10:37:13,838 INFO  ~ Enterprie ID for current User 3
10:37:13,838 INFO  ~ CURRENT USER EMAIL ID: userent
10:37:13,846 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:37:13,847 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:37:13,847 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id638_, offerpurch0_.expiration as expiration638_, offerpurch0_.idVirtualApplianceUser as idVirtua3_638_, offerpurch0_.leasePeriod as leasePer4_638_, offerpurch0_.offer_id as offer7_638_, offerpurch0_.serviceLevel as serviceL5_638_, offerpurch0_.start as start638_, offerpurch0_.user_id as user8_638_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
10:37:13,848 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:37:13,848 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:37:13,887 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:37:13,887 INFO  ~  OfferID for icon 1
10:37:13,887 DEBUG ~ /* load models.Offer */ select offer0_.id as id637_0_, offer0_.datacenter as datacenter637_0_, offer0_.defaultLeasePeriod as defaultL3_637_0_, offer0_.defaultNetworkType as defaultN4_637_0_, offer0_.defaultServiceLevel as defaultS5_637_0_, offer0_.hypervisorType as hypervis6_637_0_, offer0_.icon as icon637_0_, offer0_.iconName as iconName637_0_, offer0_.image as image637_0_, offer0_.longDescription as longDes10_637_0_, offer0_.name as name637_0_, offer0_.price as price637_0_, offer0_.serviceType as service13_637_0_, offer0_.shortDescription as shortDe14_637_0_, offer0_.state as state637_0_, offer0_.virtualAppliance as virtual16_637_0_, offer0_.virtualDatacenter as virtual17_637_0_, offer0_.virtualDatacenterName as virtual18_637_0_ from Offer offer0_ where offer0_.id=?
10:37:13,888 INFO  ~ ------------------------- EXITING displayIcon()---------
10:37:21,970 INFO  ~ ---------INSIDE CONSUMER OFFERDETAILS()---------------
10:37:21,970 DEBUG ~ /* load models.Offer */ select offer0_.id as id637_0_, offer0_.datacenter as datacenter637_0_, offer0_.defaultLeasePeriod as defaultL3_637_0_, offer0_.defaultNetworkType as defaultN4_637_0_, offer0_.defaultServiceLevel as defaultS5_637_0_, offer0_.hypervisorType as hypervis6_637_0_, offer0_.icon as icon637_0_, offer0_.iconName as iconName637_0_, offer0_.image as image637_0_, offer0_.longDescription as longDes10_637_0_, offer0_.name as name637_0_, offer0_.price as price637_0_, offer0_.serviceType as service13_637_0_, offer0_.shortDescription as shortDe14_637_0_, offer0_.state as state637_0_, offer0_.virtualAppliance as virtual16_637_0_, offer0_.virtualDatacenter as virtual17_637_0_, offer0_.virtualDatacenterName as virtual18_637_0_ from Offer offer0_ where offer0_.id=?
10:37:21,972 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_637_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_644_0_, nodes1_.cpu as cpu644_0_, nodes1_.description as descript3_644_0_, nodes1_.hd as hd644_0_, nodes1_.icon as icon644_0_, nodes1_.idImage as idImage644_0_, nodes1_.node_name as node7_644_0_, nodes1_.ram as ram644_0_, nodes1_1_.offer_id as offer1_645_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:37:21,974 INFO  ~ ------------EXITING CONSUMER OFFERDETAILS()--------------
10:37:21,989 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_644_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_642_0_, nodes_reso1_.resourceType as resource2_642_0_, nodes_reso1_.sequence as sequence642_0_, nodes_reso1_.value as value642_0_, nodes_reso1_1_.id_node as id1_643_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:37:22,011 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:37:22,011 INFO  ~  OfferID for icon 1
10:37:22,011 DEBUG ~ /* load models.Offer */ select offer0_.id as id637_0_, offer0_.datacenter as datacenter637_0_, offer0_.defaultLeasePeriod as defaultL3_637_0_, offer0_.defaultNetworkType as defaultN4_637_0_, offer0_.defaultServiceLevel as defaultS5_637_0_, offer0_.hypervisorType as hypervis6_637_0_, offer0_.icon as icon637_0_, offer0_.iconName as iconName637_0_, offer0_.image as image637_0_, offer0_.longDescription as longDes10_637_0_, offer0_.name as name637_0_, offer0_.price as price637_0_, offer0_.serviceType as service13_637_0_, offer0_.shortDescription as shortDe14_637_0_, offer0_.state as state637_0_, offer0_.virtualAppliance as virtual16_637_0_, offer0_.virtualDatacenter as virtual17_637_0_, offer0_.virtualDatacenterName as virtual18_637_0_ from Offer offer0_ where offer0_.id=?
10:37:22,012 INFO  ~ ------------------------- EXITING displayIcon()---------
10:37:24,338 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
10:37:24,338 INFO  ~ CURRENT USER EMAIL ID: userent
10:37:24,338 DEBUG ~ /* load models.Offer */ select offer0_.id as id637_0_, offer0_.datacenter as datacenter637_0_, offer0_.defaultLeasePeriod as defaultL3_637_0_, offer0_.defaultNetworkType as defaultN4_637_0_, offer0_.defaultServiceLevel as defaultS5_637_0_, offer0_.hypervisorType as hypervis6_637_0_, offer0_.icon as icon637_0_, offer0_.iconName as iconName637_0_, offer0_.image as image637_0_, offer0_.longDescription as longDes10_637_0_, offer0_.name as name637_0_, offer0_.price as price637_0_, offer0_.serviceType as service13_637_0_, offer0_.shortDescription as shortDe14_637_0_, offer0_.state as state637_0_, offer0_.virtualAppliance as virtual16_637_0_, offer0_.virtualDatacenter as virtual17_637_0_, offer0_.virtualDatacenterName as virtual18_637_0_ from Offer offer0_ where offer0_.id=?
10:37:24,340 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
10:37:24,347 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_637_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_644_0_, nodes1_.cpu as cpu644_0_, nodes1_.description as descript3_644_0_, nodes1_.hd as hd644_0_, nodes1_.icon as icon644_0_, nodes1_.idImage as idImage644_0_, nodes1_.node_name as node7_644_0_, nodes1_.ram as ram644_0_, nodes1_1_.offer_id as offer1_645_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:37:25,461 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
10:37:25,461 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
10:37:25,494 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:37:25,565 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
10:37:25,639 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
10:37:25,639 INFO  ~  vdcname : POR-userent-2012-09-12 10:37:25.639
10:37:25,695 INFO  ~  VDC to deploy: 
10:37:25,696 INFO  ~  Hypervisor to deploy: 
10:37:25,748 INFO  ~  Datacenter to deploy: 
10:37:25,748 INFO  ~  Network Built
10:37:25,748 INFO  ~ VDC built  
10:37:27,255 INFO  ~  1. VDC CREATED 
10:37:27,340 INFO  ~  2. VAPP CREATED 
10:37:27,340 DEBUG ~ /* load models.UserPortal */ select userportal0_.id as id636_0_, userportal0_.email as email636_0_, userportal0_.idAbiquo as idAbiquo636_0_ from UserPortal userportal0_ where userportal0_.id=?
10:37:27,342 INFO  ~ --------------------
10:37:27,342 DEBUG ~ /* load models.Offer */ select offer0_.id as id637_0_, offer0_.datacenter as datacenter637_0_, offer0_.defaultLeasePeriod as defaultL3_637_0_, offer0_.defaultNetworkType as defaultN4_637_0_, offer0_.defaultServiceLevel as defaultS5_637_0_, offer0_.hypervisorType as hypervis6_637_0_, offer0_.icon as icon637_0_, offer0_.iconName as iconName637_0_, offer0_.image as image637_0_, offer0_.longDescription as longDes10_637_0_, offer0_.name as name637_0_, offer0_.price as price637_0_, offer0_.serviceType as service13_637_0_, offer0_.shortDescription as shortDe14_637_0_, offer0_.state as state637_0_, offer0_.virtualAppliance as virtual16_637_0_, offer0_.virtualDatacenter as virtual17_637_0_, offer0_.virtualDatacenterName as virtual18_637_0_ from Offer offer0_ where offer0_.id=?
10:37:27,343 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
10:37:27,343 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ where offer0_.id=?
10:37:27,344 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
10:37:27,344 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_637_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_644_0_, nodes1_.cpu as cpu644_0_, nodes1_.description as descript3_644_0_, nodes1_.hd as hd644_0_, nodes1_.icon as icon644_0_, nodes1_.idImage as idImage644_0_, nodes1_.node_name as node7_644_0_, nodes1_.ram as ram644_0_, nodes1_1_.offer_id as offer1_645_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
10:37:27,513 INFO  ~  3. VM CREATED
10:37:27,514 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_644_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_642_0_, nodes_reso1_.resourceType as resource2_642_0_, nodes_reso1_.sequence as sequence642_0_, nodes_reso1_.value as value642_0_, nodes_reso1_1_.id_node as id1_643_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:37:27,625 INFO  ~  4. HARDDISKS ATTACHED 
10:37:27,637 INFO  ~  Handler created :
10:37:28,068 INFO  ~ STARTING MONITORING ......
10:37:28,237 INFO  ~  3. VM CREATED
10:37:28,238 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_644_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_642_0_, nodes_reso1_.resourceType as resource2_642_0_, nodes_reso1_.sequence as sequence642_0_, nodes_reso1_.value as value642_0_, nodes_reso1_1_.id_node as id1_643_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
10:37:28,332 INFO  ~  4. HARDDISKS ATTACHED 
10:37:28,332 INFO  ~  Handler created :
10:37:28,848 INFO  ~ STARTING MONITORING ......
10:37:28,848 INFO  ~ SAVING DEPLOY INFORMATION ......
10:37:28,853 DEBUG ~ /* insert models.OfferPurchased */ insert into offerPurchased (expiration, idVirtualApplianceUser, leasePeriod, offer_id, serviceLevel, start, user_id) values (?, ?, ?, ?, ?, ?, ?)
10:37:28,856 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
10:37:28,859 INFO  ~ DEPLOY INFO SAVED ......
10:37:28,859 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
10:37:58,467 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:37:58,468 INFO  ~  CREATED VM : VirtualMachine [id=237, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_fb4232c5-d303-431c-9ffb-da1a4e988245, password=vmpassword, ram=64, uuid=fb4232c5-d303-431c-9ffb-da1a4e988245, vncAddress=null, vncPort=0]
10:37:58,858 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
10:37:58,858 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:37:58,858 INFO  ~  getVMDetais() params : vdc_id 181 vapp_id : 184 vm-id : 237
10:37:58,869 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_646_, mkt_config0_.deploy_enterprise_id as deploy2_646_, mkt_config0_.enterprise_name as enterprise3_646_, mkt_config0_.mkt_branding_css as mkt4_646_, mkt_config0_.mkt_branding_icon as mkt5_646_, mkt_config0_.mkt_deploy_pw as mkt6_646_, mkt_config0_.mkt_deploy_user as mkt7_646_, mkt_config0_.mkt_theme_css as mkt8_646_, mkt_config0_.mkt_url as mkt9_646_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:37:58,870 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:37:58,870 INFO  ~  AbiquoUtils context set to :null
10:37:58,870 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:37:59,191 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
10:37:59,192 INFO  ~  CREATED VM : VirtualMachine [id=238, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_d9a8aa28-b7bb-48e8-8441-737c2ff9235a, password=vmpassword, ram=128, uuid=d9a8aa28-b7bb-48e8-8441-737c2ff9235a, vncAddress=null, vncPort=0]
10:37:59,227 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
10:37:59,227 INFO  ~ ------------------------- INSIDE getVMDetais()----------
10:37:59,227 INFO  ~  getVMDetais() params : vdc_id 181 vapp_id : 184 vm-id : 238
10:37:59,227 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_646_, mkt_config0_.deploy_enterprise_id as deploy2_646_, mkt_config0_.enterprise_name as enterprise3_646_, mkt_config0_.mkt_branding_css as mkt4_646_, mkt_config0_.mkt_branding_icon as mkt5_646_, mkt_config0_.mkt_deploy_pw as mkt6_646_, mkt_config0_.mkt_deploy_user as mkt7_646_, mkt_config0_.mkt_theme_css as mkt8_646_, mkt_config0_.mkt_url as mkt9_646_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
10:37:59,228 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
10:37:59,228 INFO  ~  AbiquoUtils context set to :null
10:37:59,228 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
10:41:17,697 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:41:17,698 INFO  ~ Enterprie ID for current User 3
10:41:17,698 INFO  ~ CURRENT USER EMAIL ID: userent
10:41:17,742 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:41:18,045 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ group by offer0_.defaultServiceLevel
10:41:18,047 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:41:26,972 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
10:41:26,972 INFO  ~ Enterprie ID for current User 3
10:41:26,972 INFO  ~ CURRENT USER EMAIL ID: userent
10:41:26,972 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:41:26,974 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:41:26,974 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id638_, offerpurch0_.expiration as expiration638_, offerpurch0_.idVirtualApplianceUser as idVirtua3_638_, offerpurch0_.leasePeriod as leasePer4_638_, offerpurch0_.offer_id as offer7_638_, offerpurch0_.serviceLevel as serviceL5_638_, offerpurch0_.start as start638_, offerpurch0_.user_id as user8_638_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
10:41:26,976 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:41:26,976 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:41:27,055 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:41:27,055 INFO  ~  OfferID for icon 1
10:41:27,055 DEBUG ~ /* load models.Offer */ select offer0_.id as id637_0_, offer0_.datacenter as datacenter637_0_, offer0_.defaultLeasePeriod as defaultL3_637_0_, offer0_.defaultNetworkType as defaultN4_637_0_, offer0_.defaultServiceLevel as defaultS5_637_0_, offer0_.hypervisorType as hypervis6_637_0_, offer0_.icon as icon637_0_, offer0_.iconName as iconName637_0_, offer0_.image as image637_0_, offer0_.longDescription as longDes10_637_0_, offer0_.name as name637_0_, offer0_.price as price637_0_, offer0_.serviceType as service13_637_0_, offer0_.shortDescription as shortDe14_637_0_, offer0_.state as state637_0_, offer0_.virtualAppliance as virtual16_637_0_, offer0_.virtualDatacenter as virtual17_637_0_, offer0_.virtualDatacenterName as virtual18_637_0_ from Offer offer0_ where offer0_.id=?
10:41:27,056 INFO  ~ ------------------------- EXITING displayIcon()---------
10:41:28,028 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:41:28,028 INFO  ~ Enterprie ID for current User 3
10:41:28,028 INFO  ~ CURRENT USER EMAIL ID: userent
10:41:28,061 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:41:28,344 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ group by offer0_.defaultServiceLevel
10:41:28,345 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:41:44,942 INFO  ~ -----INSIDE LOGOUT()-----
10:41:50,355 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
10:41:50,398 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:41:50,541 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
10:41:50,570 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
10:41:50,570 INFO  ~ Enterprie ID for current User 3
10:41:50,570 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ group by offer0_.defaultServiceLevel
10:41:50,572 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
10:41:51,167 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
10:41:51,167 INFO  ~ Enterprie ID for current User 3
10:41:51,167 INFO  ~ CURRENT USER EMAIL ID: userent
10:41:51,167 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:41:51,168 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:41:51,168 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id638_, offerpurch0_.expiration as expiration638_, offerpurch0_.idVirtualApplianceUser as idVirtua3_638_, offerpurch0_.leasePeriod as leasePer4_638_, offerpurch0_.offer_id as offer7_638_, offerpurch0_.serviceLevel as serviceL5_638_, offerpurch0_.start as start638_, offerpurch0_.user_id as user8_638_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
10:41:51,169 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:41:51,170 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:41:51,223 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:41:51,223 INFO  ~  OfferID for icon 1
10:41:51,223 DEBUG ~ /* load models.Offer */ select offer0_.id as id637_0_, offer0_.datacenter as datacenter637_0_, offer0_.defaultLeasePeriod as defaultL3_637_0_, offer0_.defaultNetworkType as defaultN4_637_0_, offer0_.defaultServiceLevel as defaultS5_637_0_, offer0_.hypervisorType as hypervis6_637_0_, offer0_.icon as icon637_0_, offer0_.iconName as iconName637_0_, offer0_.image as image637_0_, offer0_.longDescription as longDes10_637_0_, offer0_.name as name637_0_, offer0_.price as price637_0_, offer0_.serviceType as service13_637_0_, offer0_.shortDescription as shortDe14_637_0_, offer0_.state as state637_0_, offer0_.virtualAppliance as virtual16_637_0_, offer0_.virtualDatacenter as virtual17_637_0_, offer0_.virtualDatacenterName as virtual18_637_0_ from Offer offer0_ where offer0_.id=?
10:41:51,224 INFO  ~ ------------------------- EXITING displayIcon()---------
10:42:11,772 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:42:11,772 INFO  ~ Enterprie ID for current User 3
10:42:11,772 INFO  ~ CURRENT USER EMAIL ID: userent
10:42:11,803 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:42:12,153 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ group by offer0_.defaultServiceLevel
10:42:12,154 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:43:38,733 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
10:43:38,733 INFO  ~ Enterprie ID for current User 3
10:43:38,733 INFO  ~ CURRENT USER EMAIL ID: userent
10:43:38,733 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:43:38,734 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:43:38,734 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id638_, offerpurch0_.expiration as expiration638_, offerpurch0_.idVirtualApplianceUser as idVirtua3_638_, offerpurch0_.leasePeriod as leasePer4_638_, offerpurch0_.offer_id as offer7_638_, offerpurch0_.serviceLevel as serviceL5_638_, offerpurch0_.start as start638_, offerpurch0_.user_id as user8_638_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
10:43:38,736 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:43:38,736 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:43:38,797 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:43:38,797 INFO  ~  OfferID for icon 1
10:43:38,797 DEBUG ~ /* load models.Offer */ select offer0_.id as id637_0_, offer0_.datacenter as datacenter637_0_, offer0_.defaultLeasePeriod as defaultL3_637_0_, offer0_.defaultNetworkType as defaultN4_637_0_, offer0_.defaultServiceLevel as defaultS5_637_0_, offer0_.hypervisorType as hypervis6_637_0_, offer0_.icon as icon637_0_, offer0_.iconName as iconName637_0_, offer0_.image as image637_0_, offer0_.longDescription as longDes10_637_0_, offer0_.name as name637_0_, offer0_.price as price637_0_, offer0_.serviceType as service13_637_0_, offer0_.shortDescription as shortDe14_637_0_, offer0_.state as state637_0_, offer0_.virtualAppliance as virtual16_637_0_, offer0_.virtualDatacenter as virtual17_637_0_, offer0_.virtualDatacenterName as virtual18_637_0_ from Offer offer0_ where offer0_.id=?
10:43:38,798 INFO  ~ ------------------------- EXITING displayIcon()---------
10:43:40,304 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:43:40,304 INFO  ~ Enterprie ID for current User 3
10:43:40,304 INFO  ~ CURRENT USER EMAIL ID: userent
10:43:40,336 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
10:43:40,615 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ group by offer0_.defaultServiceLevel
10:43:40,616 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
10:44:19,819 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
10:44:19,819 INFO  ~ Enterprie ID for current User 3
10:44:19,819 INFO  ~ CURRENT USER EMAIL ID: userent
10:44:19,819 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id637_, offer0_.datacenter as datacenter637_, offer0_.defaultLeasePeriod as defaultL3_637_, offer0_.defaultNetworkType as defaultN4_637_, offer0_.defaultServiceLevel as defaultS5_637_, offer0_.hypervisorType as hypervis6_637_, offer0_.icon as icon637_, offer0_.iconName as iconName637_, offer0_.image as image637_, offer0_.longDescription as longDes10_637_, offer0_.name as name637_, offer0_.price as price637_, offer0_.serviceType as service13_637_, offer0_.shortDescription as shortDe14_637_, offer0_.state as state637_, offer0_.virtualAppliance as virtual16_637_, offer0_.virtualDatacenter as virtual17_637_, offer0_.virtualDatacenterName as virtual18_637_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
10:44:19,820 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
10:44:19,820 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id638_, offerpurch0_.expiration as expiration638_, offerpurch0_.idVirtualApplianceUser as idVirtua3_638_, offerpurch0_.leasePeriod as leasePer4_638_, offerpurch0_.offer_id as offer7_638_, offerpurch0_.serviceLevel as serviceL5_638_, offerpurch0_.start as start638_, offerpurch0_.user_id as user8_638_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
10:44:19,821 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevels()------
10:44:19,821 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
10:44:19,882 INFO  ~ ------------------------- INSIDE displayIcon()---------
10:44:19,882 INFO  ~  OfferID for icon 1
10:44:19,882 DEBUG ~ /* load models.Offer */ select offer0_.id as id637_0_, offer0_.datacenter as datacenter637_0_, offer0_.defaultLeasePeriod as defaultL3_637_0_, offer0_.defaultNetworkType as defaultN4_637_0_, offer0_.defaultServiceLevel as defaultS5_637_0_, offer0_.hypervisorType as hypervis6_637_0_, offer0_.icon as icon637_0_, offer0_.iconName as iconName637_0_, offer0_.image as image637_0_, offer0_.longDescription as longDes10_637_0_, offer0_.name as name637_0_, offer0_.price as price637_0_, offer0_.serviceType as service13_637_0_, offer0_.shortDescription as shortDe14_637_0_, offer0_.state as state637_0_, offer0_.virtualAppliance as virtual16_637_0_, offer0_.virtualDatacenter as virtual17_637_0_, offer0_.virtualDatacenterName as virtual18_637_0_ from Offer offer0_ where offer0_.id=?
10:44:19,883 INFO  ~ ------------------------- EXITING displayIcon()---------
10:44:20,512 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
10:44:20,512 INFO  ~ Enterprie ID for current User 3
10:44:33,461 INFO  ~ CURRENT USER EMAIL ID: userent
10:44:37,179 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
11:59:12,465 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
11:59:12,556 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
11:59:13,638 WARN  ~ You're running Play! in DEV mode
11:59:13,844 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
11:59:24,042 INFO  ~ Connected to jdbc:mysql://localhost/portal
11:59:27,782 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:59:27,783 ERROR ~ Table 'Deploy_Bundle' already exists
11:59:28,627 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:59:28,627 ERROR ~ Table 'UserPortal' already exists
11:59:28,628 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, idVirtualDatacenterUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, virtualApplianceState integer, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
11:59:28,628 ERROR ~ Table 'offerPurchased' already exists
11:59:30,523 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
11:59:30,524 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
11:59:30,525 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
11:59:30,525 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
11:59:30,697 ERROR ~ Error in named query: getOffersPurchasedFromUserId
org.hibernate.QueryException: could not resolve property: user_id of: models.OfferPurchased [select p from models.OfferPurchased as p where p.user_id = ?1]
	at org.hibernate.persister.entity.AbstractPropertyMapping.propertyException(AbstractPropertyMapping.java:81)
	at org.hibernate.persister.entity.AbstractPropertyMapping.toType(AbstractPropertyMapping.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.toType(AbstractEntityPersister.java:1465)
	at org.hibernate.hql.ast.tree.FromElementType.getPropertyType(FromElementType.java:315)
	at org.hibernate.hql.ast.tree.FromElement.getPropertyType(FromElement.java:487)
	at org.hibernate.hql.ast.tree.DotNode.getDataType(DotNode.java:611)
	at org.hibernate.hql.ast.tree.DotNode.prepareLhs(DotNode.java:263)
	at org.hibernate.hql.ast.tree.DotNode.resolve(DotNode.java:210)
	at org.hibernate.hql.ast.tree.FromReferenceNode.resolve(FromReferenceNode.java:117)
	at org.hibernate.hql.ast.tree.FromReferenceNode.resolve(FromReferenceNode.java:113)
	at org.hibernate.hql.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:880)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1330)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4471)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:3944)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2047)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:831)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:617)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:301)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:244)
	at org.hibernate.hql.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:254)
	at org.hibernate.hql.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:185)
	at org.hibernate.hql.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:101)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:80)
	at org.hibernate.engine.query.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:124)
	at org.hibernate.impl.SessionFactoryImpl.checkNamedQueries(SessionFactoryImpl.java:549)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:413)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1842)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:618)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at play.server.PlayHandler$NettyInvocation.init(PlayHandler.java:195)
	at play.Invoker$Invocation.run(Invoker.java:276)
	at play.server.PlayHandler$NettyInvocation.run(PlayHandler.java:235)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
11:59:31,692 ERROR ~ 

@6bjm1o3hl
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Errors in named queries: getOffersPurchasedFromUserId

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:618)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.HibernateException: Errors in named queries: getOffersPurchasedFromUserId
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:426)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1842)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:02:43,674 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:02:43,674 ERROR ~ Table 'Deploy_Bundle' already exists
12:02:44,496 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:02:44,496 ERROR ~ Table 'UserPortal' already exists
12:02:44,497 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, idVirtualDatacenterUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, virtualApplianceState integer, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:02:44,497 ERROR ~ Table 'offerPurchased' already exists
12:02:46,290 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
12:02:46,290 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
12:02:46,292 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
12:02:46,292 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
12:02:46,335 ERROR ~ Error in named query: getOffersPurchasedFromUserId
org.hibernate.QueryException: could not resolve property: user_id of: models.OfferPurchased [select p from models.OfferPurchased as p where p.user_id = ?1]
	at org.hibernate.persister.entity.AbstractPropertyMapping.propertyException(AbstractPropertyMapping.java:81)
	at org.hibernate.persister.entity.AbstractPropertyMapping.toType(AbstractPropertyMapping.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.toType(AbstractEntityPersister.java:1465)
	at org.hibernate.hql.ast.tree.FromElementType.getPropertyType(FromElementType.java:315)
	at org.hibernate.hql.ast.tree.FromElement.getPropertyType(FromElement.java:487)
	at org.hibernate.hql.ast.tree.DotNode.getDataType(DotNode.java:611)
	at org.hibernate.hql.ast.tree.DotNode.prepareLhs(DotNode.java:263)
	at org.hibernate.hql.ast.tree.DotNode.resolve(DotNode.java:210)
	at org.hibernate.hql.ast.tree.FromReferenceNode.resolve(FromReferenceNode.java:117)
	at org.hibernate.hql.ast.tree.FromReferenceNode.resolve(FromReferenceNode.java:113)
	at org.hibernate.hql.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:880)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1330)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4471)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:3944)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2047)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:831)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:617)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:301)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:244)
	at org.hibernate.hql.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:254)
	at org.hibernate.hql.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:185)
	at org.hibernate.hql.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:101)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:80)
	at org.hibernate.engine.query.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:124)
	at org.hibernate.impl.SessionFactoryImpl.checkNamedQueries(SessionFactoryImpl.java:549)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:413)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1842)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at play.server.PlayHandler$NettyInvocation.init(PlayHandler.java:195)
	at play.Invoker$Invocation.run(Invoker.java:276)
	at play.server.PlayHandler$NettyInvocation.run(PlayHandler.java:235)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:02:46,365 ERROR ~ 

@6bjm1o3hm
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Errors in named queries: getOffersPurchasedFromUserId

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.HibernateException: Errors in named queries: getOffersPurchasedFromUserId
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:426)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1842)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:02:50,792 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:02:50,792 ERROR ~ Table 'Deploy_Bundle' already exists
12:02:51,980 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:02:51,981 ERROR ~ Table 'UserPortal' already exists
12:02:51,981 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, idVirtualDatacenterUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, virtualApplianceState integer, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:02:51,981 ERROR ~ Table 'offerPurchased' already exists
12:02:53,900 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
12:02:53,900 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
12:02:53,901 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
12:02:53,901 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
12:02:53,936 ERROR ~ Error in named query: getOffersPurchasedFromUserId
org.hibernate.QueryException: could not resolve property: user_id of: models.OfferPurchased [select p from models.OfferPurchased as p where p.user_id = ?1]
	at org.hibernate.persister.entity.AbstractPropertyMapping.propertyException(AbstractPropertyMapping.java:81)
	at org.hibernate.persister.entity.AbstractPropertyMapping.toType(AbstractPropertyMapping.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.toType(AbstractEntityPersister.java:1465)
	at org.hibernate.hql.ast.tree.FromElementType.getPropertyType(FromElementType.java:315)
	at org.hibernate.hql.ast.tree.FromElement.getPropertyType(FromElement.java:487)
	at org.hibernate.hql.ast.tree.DotNode.getDataType(DotNode.java:611)
	at org.hibernate.hql.ast.tree.DotNode.prepareLhs(DotNode.java:263)
	at org.hibernate.hql.ast.tree.DotNode.resolve(DotNode.java:210)
	at org.hibernate.hql.ast.tree.FromReferenceNode.resolve(FromReferenceNode.java:117)
	at org.hibernate.hql.ast.tree.FromReferenceNode.resolve(FromReferenceNode.java:113)
	at org.hibernate.hql.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:880)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1330)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4471)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:3944)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2047)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:831)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:617)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:301)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:244)
	at org.hibernate.hql.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:254)
	at org.hibernate.hql.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:185)
	at org.hibernate.hql.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:101)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:80)
	at org.hibernate.engine.query.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:124)
	at org.hibernate.impl.SessionFactoryImpl.checkNamedQueries(SessionFactoryImpl.java:549)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:413)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1842)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:618)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at play.server.PlayHandler$NettyInvocation.init(PlayHandler.java:195)
	at play.Invoker$Invocation.run(Invoker.java:276)
	at play.server.PlayHandler$NettyInvocation.run(PlayHandler.java:235)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:02:53,954 ERROR ~ 

@6bjm1o3hn
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Errors in named queries: getOffersPurchasedFromUserId

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:618)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.HibernateException: Errors in named queries: getOffersPurchasedFromUserId
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:426)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1842)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:03:04,308 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:03:04,308 ERROR ~ Table 'Deploy_Bundle' already exists
12:03:05,105 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:03:05,105 ERROR ~ Table 'UserPortal' already exists
12:03:05,106 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, idVirtualDatacenterUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, virtualApplianceState integer, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:03:05,106 ERROR ~ Table 'offerPurchased' already exists
12:03:06,957 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
12:03:06,957 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
12:03:06,958 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
12:03:06,958 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
12:03:06,986 ERROR ~ Error in named query: getOffersPurchasedFromUserId
org.hibernate.QueryException: could not resolve property: user_id of: models.OfferPurchased [select p from models.OfferPurchased as p where p.user_id = ?1]
	at org.hibernate.persister.entity.AbstractPropertyMapping.propertyException(AbstractPropertyMapping.java:81)
	at org.hibernate.persister.entity.AbstractPropertyMapping.toType(AbstractPropertyMapping.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.toType(AbstractEntityPersister.java:1465)
	at org.hibernate.hql.ast.tree.FromElementType.getPropertyType(FromElementType.java:315)
	at org.hibernate.hql.ast.tree.FromElement.getPropertyType(FromElement.java:487)
	at org.hibernate.hql.ast.tree.DotNode.getDataType(DotNode.java:611)
	at org.hibernate.hql.ast.tree.DotNode.prepareLhs(DotNode.java:263)
	at org.hibernate.hql.ast.tree.DotNode.resolve(DotNode.java:210)
	at org.hibernate.hql.ast.tree.FromReferenceNode.resolve(FromReferenceNode.java:117)
	at org.hibernate.hql.ast.tree.FromReferenceNode.resolve(FromReferenceNode.java:113)
	at org.hibernate.hql.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:880)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1330)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4471)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:3944)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2047)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:831)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:617)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:301)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:244)
	at org.hibernate.hql.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:254)
	at org.hibernate.hql.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:185)
	at org.hibernate.hql.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:101)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:80)
	at org.hibernate.engine.query.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:124)
	at org.hibernate.impl.SessionFactoryImpl.checkNamedQueries(SessionFactoryImpl.java:549)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:413)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1842)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at play.server.PlayHandler$NettyInvocation.init(PlayHandler.java:195)
	at play.Invoker$Invocation.run(Invoker.java:276)
	at play.server.PlayHandler$NettyInvocation.run(PlayHandler.java:235)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:03:07,005 ERROR ~ 

@6bjm1o3ho
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Errors in named queries: getOffersPurchasedFromUserId

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.HibernateException: Errors in named queries: getOffersPurchasedFromUserId
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:426)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1842)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:04:14,387 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:04:14,387 ERROR ~ Table 'Deploy_Bundle' already exists
12:04:15,960 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:04:15,960 ERROR ~ Table 'UserPortal' already exists
12:04:15,961 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, idVirtualDatacenterUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, virtualApplianceState integer, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:04:15,961 ERROR ~ Table 'offerPurchased' already exists
12:04:17,913 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
12:04:17,913 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
12:04:17,914 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
12:04:17,914 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
12:04:17,943 ERROR ~ Error in named query: getSubscribedOfferDetails 
org.hibernate.QueryException: could not resolve property: user_id of: models.OfferPurchased [select p from models.OfferPurchased as p where p.user_id = ?1]
	at org.hibernate.persister.entity.AbstractPropertyMapping.propertyException(AbstractPropertyMapping.java:81)
	at org.hibernate.persister.entity.AbstractPropertyMapping.toType(AbstractPropertyMapping.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.toType(AbstractEntityPersister.java:1465)
	at org.hibernate.hql.ast.tree.FromElementType.getPropertyType(FromElementType.java:315)
	at org.hibernate.hql.ast.tree.FromElement.getPropertyType(FromElement.java:487)
	at org.hibernate.hql.ast.tree.DotNode.getDataType(DotNode.java:611)
	at org.hibernate.hql.ast.tree.DotNode.prepareLhs(DotNode.java:263)
	at org.hibernate.hql.ast.tree.DotNode.resolve(DotNode.java:210)
	at org.hibernate.hql.ast.tree.FromReferenceNode.resolve(FromReferenceNode.java:117)
	at org.hibernate.hql.ast.tree.FromReferenceNode.resolve(FromReferenceNode.java:113)
	at org.hibernate.hql.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:880)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1330)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4471)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:3944)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2047)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:831)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:617)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:301)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:244)
	at org.hibernate.hql.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:254)
	at org.hibernate.hql.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:185)
	at org.hibernate.hql.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:101)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:80)
	at org.hibernate.engine.query.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:124)
	at org.hibernate.impl.SessionFactoryImpl.checkNamedQueries(SessionFactoryImpl.java:549)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:413)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1842)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at play.server.PlayHandler$NettyInvocation.init(PlayHandler.java:195)
	at play.Invoker$Invocation.run(Invoker.java:276)
	at play.server.PlayHandler$NettyInvocation.run(PlayHandler.java:235)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:04:17,943 ERROR ~ Error in named query: getOffersPurchasedFromUserId
org.hibernate.QueryException: could not resolve property: user_id of: models.OfferPurchased [select p from models.OfferPurchased as p where p.user_id = ?1]
	at org.hibernate.persister.entity.AbstractPropertyMapping.propertyException(AbstractPropertyMapping.java:81)
	at org.hibernate.persister.entity.AbstractPropertyMapping.toType(AbstractPropertyMapping.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.toType(AbstractEntityPersister.java:1465)
	at org.hibernate.hql.ast.tree.FromElementType.getPropertyType(FromElementType.java:315)
	at org.hibernate.hql.ast.tree.FromElement.getPropertyType(FromElement.java:487)
	at org.hibernate.hql.ast.tree.DotNode.getDataType(DotNode.java:611)
	at org.hibernate.hql.ast.tree.DotNode.prepareLhs(DotNode.java:263)
	at org.hibernate.hql.ast.tree.DotNode.resolve(DotNode.java:210)
	at org.hibernate.hql.ast.tree.FromReferenceNode.resolve(FromReferenceNode.java:117)
	at org.hibernate.hql.ast.tree.FromReferenceNode.resolve(FromReferenceNode.java:113)
	at org.hibernate.hql.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:880)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1330)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4471)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:3944)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2047)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:831)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:617)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:301)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:244)
	at org.hibernate.hql.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:254)
	at org.hibernate.hql.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:185)
	at org.hibernate.hql.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:101)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:80)
	at org.hibernate.engine.query.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:124)
	at org.hibernate.impl.SessionFactoryImpl.checkNamedQueries(SessionFactoryImpl.java:549)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:413)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1842)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at play.server.PlayHandler$NettyInvocation.init(PlayHandler.java:195)
	at play.Invoker$Invocation.run(Invoker.java:276)
	at play.server.PlayHandler$NettyInvocation.run(PlayHandler.java:235)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:04:17,964 ERROR ~ 

@6bjm1o3hp
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Errors in named queries: getSubscribedOfferDetails , getOffersPurchasedFromUserId

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.HibernateException: Errors in named queries: getSubscribedOfferDetails , getOffersPurchasedFromUserId
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:426)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1842)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:05:26,181 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:05:26,181 ERROR ~ Table 'Deploy_Bundle' already exists
12:05:27,110 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:05:27,110 ERROR ~ Table 'UserPortal' already exists
12:05:27,111 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, idVirtualDatacenterUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, virtualApplianceState integer, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:05:27,111 ERROR ~ Table 'offerPurchased' already exists
12:05:28,964 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
12:05:28,964 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
12:05:28,965 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
12:05:28,965 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
12:05:28,995 ERROR ~ Error in named query: getOffersPurchasedFromUserId
org.hibernate.QueryException: could not resolve property: user_id of: models.OfferPurchased [select p from models.OfferPurchased as p where p.user_id = ?1]
	at org.hibernate.persister.entity.AbstractPropertyMapping.propertyException(AbstractPropertyMapping.java:81)
	at org.hibernate.persister.entity.AbstractPropertyMapping.toType(AbstractPropertyMapping.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.toType(AbstractEntityPersister.java:1465)
	at org.hibernate.hql.ast.tree.FromElementType.getPropertyType(FromElementType.java:315)
	at org.hibernate.hql.ast.tree.FromElement.getPropertyType(FromElement.java:487)
	at org.hibernate.hql.ast.tree.DotNode.getDataType(DotNode.java:611)
	at org.hibernate.hql.ast.tree.DotNode.prepareLhs(DotNode.java:263)
	at org.hibernate.hql.ast.tree.DotNode.resolve(DotNode.java:210)
	at org.hibernate.hql.ast.tree.FromReferenceNode.resolve(FromReferenceNode.java:117)
	at org.hibernate.hql.ast.tree.FromReferenceNode.resolve(FromReferenceNode.java:113)
	at org.hibernate.hql.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:880)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1330)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4471)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:3944)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2047)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:831)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:617)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:301)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:244)
	at org.hibernate.hql.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:254)
	at org.hibernate.hql.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:185)
	at org.hibernate.hql.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:101)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:80)
	at org.hibernate.engine.query.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:124)
	at org.hibernate.impl.SessionFactoryImpl.checkNamedQueries(SessionFactoryImpl.java:549)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:413)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1842)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at play.server.PlayHandler$NettyInvocation.init(PlayHandler.java:195)
	at play.Invoker$Invocation.run(Invoker.java:276)
	at play.server.PlayHandler$NettyInvocation.run(PlayHandler.java:235)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:05:28,995 ERROR ~ Error in named query: getSubscribedOfferDetails
org.hibernate.QueryException: could not resolve property: user_id of: models.OfferPurchased [select p from models.OfferPurchased as p where p.user_id = ?1]
	at org.hibernate.persister.entity.AbstractPropertyMapping.propertyException(AbstractPropertyMapping.java:81)
	at org.hibernate.persister.entity.AbstractPropertyMapping.toType(AbstractPropertyMapping.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.toType(AbstractEntityPersister.java:1465)
	at org.hibernate.hql.ast.tree.FromElementType.getPropertyType(FromElementType.java:315)
	at org.hibernate.hql.ast.tree.FromElement.getPropertyType(FromElement.java:487)
	at org.hibernate.hql.ast.tree.DotNode.getDataType(DotNode.java:611)
	at org.hibernate.hql.ast.tree.DotNode.prepareLhs(DotNode.java:263)
	at org.hibernate.hql.ast.tree.DotNode.resolve(DotNode.java:210)
	at org.hibernate.hql.ast.tree.FromReferenceNode.resolve(FromReferenceNode.java:117)
	at org.hibernate.hql.ast.tree.FromReferenceNode.resolve(FromReferenceNode.java:113)
	at org.hibernate.hql.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:880)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1330)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4471)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:3944)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2047)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:831)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:617)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:301)
	at org.hibernate.hql.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:244)
	at org.hibernate.hql.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:254)
	at org.hibernate.hql.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:185)
	at org.hibernate.hql.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:101)
	at org.hibernate.engine.query.HQLQueryPlan.<init>(HQLQueryPlan.java:80)
	at org.hibernate.engine.query.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:124)
	at org.hibernate.impl.SessionFactoryImpl.checkNamedQueries(SessionFactoryImpl.java:549)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:413)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1842)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at play.server.PlayHandler$NettyInvocation.init(PlayHandler.java:195)
	at play.Invoker$Invocation.run(Invoker.java:276)
	at play.server.PlayHandler$NettyInvocation.run(PlayHandler.java:235)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:05:29,012 ERROR ~ 

@6bjm1o3i0
Internal Server Error (500) for request GET /

JPA error
A JPA error occurred (Unable to build EntityManagerFactory): Errors in named queries: getOffersPurchasedFromUserId, getSubscribedOfferDetails

play.exceptions.JPAException: Unable to build EntityManagerFactory
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:242)
	at play.plugins.PluginCollection.onApplicationStart(PluginCollection.java:480)
	at play.Play.start(Play.java:515)
	at play.Play.detectChanges(Play.java:629)
	at play.Invoker$Invocation.init(Invoker.java:198)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.HibernateException: Errors in named queries: getOffersPurchasedFromUserId, getSubscribedOfferDetails
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:426)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1842)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:902)
	at play.db.jpa.JPAPlugin.onApplicationStart(JPAPlugin.java:240)
	... 5 more
12:07:27,781 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:07:27,781 ERROR ~ Table 'Deploy_Bundle' already exists
12:07:28,527 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:07:28,527 ERROR ~ Table 'UserPortal' already exists
12:07:28,527 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, idVirtualDatacenterUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, virtualApplianceState integer, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:07:28,527 ERROR ~ Table 'offerPurchased' already exists
12:07:30,389 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
12:07:30,389 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
12:07:30,390 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
12:07:30,390 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
12:07:30,526 INFO  ~ Application 'UserPortal' is now started !
12:07:41,648 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:07:42,326 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:07:42,973 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
12:07:45,120 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:07:45,176 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:07:45,948 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:07:46,271 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.id=?
12:07:46,459 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.id=?
12:07:46,523 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.id=?
12:07:46,628 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:07:46,629 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id134_, offerpurch0_.expiration as expiration134_, offerpurch0_.idVirtualApplianceUser as idVirtua3_134_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_134_, offerpurch0_.leasePeriod as leasePer5_134_, offerpurch0_.offer_id as offer9_134_, offerpurch0_.serviceLevel as serviceL6_134_, offerpurch0_.start as start134_, offerpurch0_.user_id as user10_134_, offerpurch0_.virtualApplianceState as virtualA8_134_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:07:46,631 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:08:13,352 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:08:13,397 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:08:13,563 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
12:08:15,097 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:08:15,142 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:08:15,538 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:08:15,774 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.id=?
12:08:15,854 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.id=?
12:08:15,914 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.id=?
12:08:15,975 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:08:15,976 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id134_, offerpurch0_.expiration as expiration134_, offerpurch0_.idVirtualApplianceUser as idVirtua3_134_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_134_, offerpurch0_.leasePeriod as leasePer5_134_, offerpurch0_.offer_id as offer9_134_, offerpurch0_.serviceLevel as serviceL6_134_, offerpurch0_.start as start134_, offerpurch0_.user_id as user10_134_, offerpurch0_.virtualApplianceState as virtualA8_134_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:08:15,977 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:08:18,930 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:08:19,118 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.id=?
12:08:19,170 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:08:19,170 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id134_, offerpurch0_.expiration as expiration134_, offerpurch0_.idVirtualApplianceUser as idVirtua3_134_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_134_, offerpurch0_.leasePeriod as leasePer5_134_, offerpurch0_.offer_id as offer9_134_, offerpurch0_.serviceLevel as serviceL6_134_, offerpurch0_.start as start134_, offerpurch0_.user_id as user10_134_, offerpurch0_.virtualApplianceState as virtualA8_134_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:08:19,171 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:08:26,778 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:08:26,824 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:08:27,241 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:08:27,450 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.id=?
12:08:27,526 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.id=?
12:08:27,584 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.id=?
12:08:27,643 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:08:27,643 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id134_, offerpurch0_.expiration as expiration134_, offerpurch0_.idVirtualApplianceUser as idVirtua3_134_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_134_, offerpurch0_.leasePeriod as leasePer5_134_, offerpurch0_.offer_id as offer9_134_, offerpurch0_.serviceLevel as serviceL6_134_, offerpurch0_.start as start134_, offerpurch0_.user_id as user10_134_, offerpurch0_.virtualApplianceState as virtualA8_134_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:08:27,645 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:08:34,330 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:08:34,371 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:08:34,836 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:08:35,078 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.id=?
12:08:35,162 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.id=?
12:08:35,223 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.id=?
12:08:35,274 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:08:35,274 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id134_, offerpurch0_.expiration as expiration134_, offerpurch0_.idVirtualApplianceUser as idVirtua3_134_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_134_, offerpurch0_.leasePeriod as leasePer5_134_, offerpurch0_.offer_id as offer9_134_, offerpurch0_.serviceLevel as serviceL6_134_, offerpurch0_.start as start134_, offerpurch0_.user_id as user10_134_, offerpurch0_.virtualApplianceState as virtualA8_134_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:08:35,275 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:09:40,431 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:09:51,305 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id133_, offer0_.datacenter as datacenter133_, offer0_.defaultLeasePeriod as defaultL3_133_, offer0_.defaultNetworkType as defaultN4_133_, offer0_.defaultServiceLevel as defaultS5_133_, offer0_.hypervisorType as hypervis6_133_, offer0_.icon as icon133_, offer0_.iconName as iconName133_, offer0_.image as image133_, offer0_.longDescription as longDes10_133_, offer0_.name as name133_, offer0_.price as price133_, offer0_.serviceType as service13_133_, offer0_.shortDescription as shortDe14_133_, offer0_.state as state133_, offer0_.virtualAppliance as virtual16_133_, offer0_.virtualDatacenter as virtual17_133_, offer0_.virtualDatacenterName as virtual18_133_ from Offer offer0_ where offer0_.id=?
12:10:01,260 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:10:01,261 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id134_, offerpurch0_.expiration as expiration134_, offerpurch0_.idVirtualApplianceUser as idVirtua3_134_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_134_, offerpurch0_.leasePeriod as leasePer5_134_, offerpurch0_.offer_id as offer9_134_, offerpurch0_.serviceLevel as serviceL6_134_, offerpurch0_.start as start134_, offerpurch0_.user_id as user10_134_, offerpurch0_.virtualApplianceState as virtualA8_134_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:10:01,274 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:15:16,739 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:15:16,739 ERROR ~ Table 'Deploy_Bundle' already exists
12:15:17,644 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:15:17,644 ERROR ~ Table 'UserPortal' already exists
12:15:17,645 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, idVirtualDatacenterUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, virtualApplianceState integer, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:15:17,645 ERROR ~ Table 'offerPurchased' already exists
12:15:19,407 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
12:15:19,407 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
12:15:19,407 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
12:15:19,407 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
12:15:22,527 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:15:22,574 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:15:23,027 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:15:23,257 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.id=?
12:15:23,341 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.id=?
12:15:23,394 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.id=?
12:15:23,445 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:15:23,445 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id156_, offerpurch0_.expiration as expiration156_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_, offerpurch0_.leasePeriod as leasePer5_156_, offerpurch0_.offer_id as offer9_156_, offerpurch0_.serviceLevel as serviceL6_156_, offerpurch0_.start as start156_, offerpurch0_.user_id as user10_156_, offerpurch0_.virtualApplianceState as virtualA8_156_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:15:23,446 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:15:47,065 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:15:47,425 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id155_, offer0_.datacenter as datacenter155_, offer0_.defaultLeasePeriod as defaultL3_155_, offer0_.defaultNetworkType as defaultN4_155_, offer0_.defaultServiceLevel as defaultS5_155_, offer0_.hypervisorType as hypervis6_155_, offer0_.icon as icon155_, offer0_.iconName as iconName155_, offer0_.image as image155_, offer0_.longDescription as longDes10_155_, offer0_.name as name155_, offer0_.price as price155_, offer0_.serviceType as service13_155_, offer0_.shortDescription as shortDe14_155_, offer0_.state as state155_, offer0_.virtualAppliance as virtual16_155_, offer0_.virtualDatacenter as virtual17_155_, offer0_.virtualDatacenterName as virtual18_155_ from Offer offer0_ where offer0_.id=?
12:16:06,049 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:16:06,050 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id156_, offerpurch0_.expiration as expiration156_, offerpurch0_.idVirtualApplianceUser as idVirtua3_156_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_156_, offerpurch0_.leasePeriod as leasePer5_156_, offerpurch0_.offer_id as offer9_156_, offerpurch0_.serviceLevel as serviceL6_156_, offerpurch0_.start as start156_, offerpurch0_.user_id as user10_156_, offerpurch0_.virtualApplianceState as virtualA8_156_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:16:06,066 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:21:42,552 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:21:42,552 ERROR ~ Table 'Deploy_Bundle' already exists
12:21:43,316 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:21:43,316 ERROR ~ Table 'UserPortal' already exists
12:21:43,316 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, idVirtualDatacenterUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, virtualApplianceState integer, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:21:43,316 ERROR ~ Table 'offerPurchased' already exists
12:21:46,768 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
12:21:46,768 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
12:21:46,769 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
12:21:46,769 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
12:21:52,068 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:21:52,127 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:21:59,201 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:21:59,532 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.id=?
12:21:59,637 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.id=?
12:21:59,714 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.id=?
12:22:01,359 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:22:01,359 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:22:01,370 INFO  ~ resultSet1 size :0
12:22:01,370 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:22:16,576 INFO  ~  resultSet1 size []
12:22:16,846 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:22:36,323 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:22:36,364 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:22:37,008 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:22:37,433 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.id=?
12:22:37,554 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.id=?
12:22:37,659 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.id=?
12:22:37,766 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:22:37,767 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:22:37,767 INFO  ~ resultSet1 size :0
12:22:37,767 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:22:37,767 INFO  ~  resultSet1 size []
12:22:37,767 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:22:39,047 INFO  ~  -----INSIDE PRODUCER LISTVM()------
12:22:39,088 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:22:39,631 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
12:22:39,632 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.id=?
12:22:39,633 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
12:22:39,939 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
12:22:39,940 INFO  ~ Session user in vmDetails(): admin
12:22:45,236 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
12:22:45,272 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:22:45,382 INFO  ~  virtualDC  : Bronze
12:22:45,571 INFO  ~  va  : Bronze
12:22:45,828 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
12:22:50,510 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.id=? limit ?
12:22:50,522 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
12:22:50,522 INFO  ~ Session user in addToServiceCatalog(): admin
12:22:50,522 INFO  ~  and  vdc 3  & va_id : 3
12:22:50,522 INFO  ~  lease period 100 years
12:22:50,557 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:22:51,524 INFO  ~  description : asdfsadf
12:22:51,589 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
12:22:51,602 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:22:51,603 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
12:22:51,604 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:22:51,606 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
12:22:51,766 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:22:52,110 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.id=?
12:22:52,118 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.id=?
12:22:52,206 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.id=?
12:22:52,306 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:22:52,307 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:22:52,308 INFO  ~ resultSet1 size :1
12:22:52,308 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:22:52,310 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver3, Icon: play.db.jpa.Blob@1396a464 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
12:22:52,310 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:22:52,355 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:22:52,355 INFO  ~  OfferID for icon 1
12:22:52,356 DEBUG ~ /* load models.Offer */ select offer0_.id as id177_0_, offer0_.datacenter as datacenter177_0_, offer0_.defaultLeasePeriod as defaultL3_177_0_, offer0_.defaultNetworkType as defaultN4_177_0_, offer0_.defaultServiceLevel as defaultS5_177_0_, offer0_.hypervisorType as hypervis6_177_0_, offer0_.icon as icon177_0_, offer0_.iconName as iconName177_0_, offer0_.image as image177_0_, offer0_.longDescription as longDes10_177_0_, offer0_.name as name177_0_, offer0_.price as price177_0_, offer0_.serviceType as service13_177_0_, offer0_.shortDescription as shortDe14_177_0_, offer0_.state as state177_0_, offer0_.virtualAppliance as virtual16_177_0_, offer0_.virtualDatacenter as virtual17_177_0_, offer0_.virtualDatacenterName as virtual18_177_0_ from Offer offer0_ where offer0_.id=?
12:22:52,357 INFO  ~ ------------------------- EXITING displayIcon()---------
12:23:02,529 INFO  ~ -----INSIDE LOGOUT()-----
12:23:08,004 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:23:08,050 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:23:08,350 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:23:08,403 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:23:08,403 INFO  ~ Enterprie ID for current User 3
12:23:08,403 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:23:08,404 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:23:08,557 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:23:08,557 INFO  ~ Enterprie ID for current User 3
12:23:08,558 INFO  ~ CURRENT USER EMAIL ID: userent
12:23:08,558 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:23:08,559 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:23:08,559 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id178_, offerpurch0_.expiration as expiration178_, offerpurch0_.idVirtualApplianceUser as idVirtua3_178_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_178_, offerpurch0_.leasePeriod as leasePer5_178_, offerpurch0_.offer_id as offer9_178_, offerpurch0_.serviceLevel as serviceL6_178_, offerpurch0_.start as start178_, offerpurch0_.user_id as user10_178_, offerpurch0_.virtualApplianceState as virtualA8_178_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:23:08,560 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:23:08,632 ERROR ~ 

@6bjm1o3i2
Internal Server Error (500) for request GET /consumer/availableoffersAll?enterpriseID=3

Execution exception (In /app/controllers/ProducerDAO.java around line 49)
PersistenceException occured : org.hibernate.exception.SQLGrammarException: could not execute query

play.exceptions.JavaExecutionException: org.hibernate.exception.SQLGrammarException: could not execute query
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:255)
	at controllers.ProducerDAO.getSubscribedOffersGroupByServiceLevels(ProducerDAO.java:49)
	at controllers.Consumer.availableOffersAll(Consumer.java:151)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.loader.Loader.doList(Loader.java:2536)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)
	at org.hibernate.loader.Loader.list(Loader.java:2271)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:452)
	at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:363)
	at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)
	at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1268)
	at org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:246)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2273)
	at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)
	at org.hibernate.loader.Loader.doQuery(Loader.java:802)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)
	at org.hibernate.loader.Loader.doList(Loader.java:2533)
	... 16 more
12:23:34,539 INFO  ~ -----INSIDE LOGOUT()-----
12:23:38,782 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:23:38,820 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:23:44,102 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:23:44,139 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:23:44,335 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:23:44,364 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:23:44,364 INFO  ~ Enterprie ID for current User 3
12:23:44,365 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:23:44,367 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:23:44,918 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:23:44,918 INFO  ~ Enterprie ID for current User 3
12:23:44,918 INFO  ~ CURRENT USER EMAIL ID: userent
12:23:44,918 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:23:44,919 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:23:44,919 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id178_, offerpurch0_.expiration as expiration178_, offerpurch0_.idVirtualApplianceUser as idVirtua3_178_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_178_, offerpurch0_.leasePeriod as leasePer5_178_, offerpurch0_.offer_id as offer9_178_, offerpurch0_.serviceLevel as serviceL6_178_, offerpurch0_.start as start178_, offerpurch0_.user_id as user10_178_, offerpurch0_.virtualApplianceState as virtualA8_178_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:23:44,920 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:23:44,929 ERROR ~ 

@6bjm1o3i3
Internal Server Error (500) for request GET /consumer/availableoffersAll?enterpriseID=3

Execution exception (In /app/controllers/ProducerDAO.java around line 49)
PersistenceException occured : org.hibernate.exception.SQLGrammarException: could not execute query

play.exceptions.JavaExecutionException: org.hibernate.exception.SQLGrammarException: could not execute query
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:255)
	at controllers.ProducerDAO.getSubscribedOffersGroupByServiceLevels(ProducerDAO.java:49)
	at controllers.Consumer.availableOffersAll(Consumer.java:151)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.loader.Loader.doList(Loader.java:2536)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)
	at org.hibernate.loader.Loader.list(Loader.java:2271)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:452)
	at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:363)
	at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)
	at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1268)
	at org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:246)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2273)
	at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)
	at org.hibernate.loader.Loader.doQuery(Loader.java:802)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)
	at org.hibernate.loader.Loader.doList(Loader.java:2533)
	... 16 more
12:27:38,834 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:27:38,834 INFO  ~ Enterprie ID for current User 3
12:27:41,460 INFO  ~ CURRENT USER EMAIL ID: userent
12:27:41,504 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:27:41,504 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromUserId()------
12:27:41,505 DEBUG ~ /* named HQL query getOffersPurchasedFromUserId */ select offerpurch0_.id as id178_, offerpurch0_.expiration as expiration178_, offerpurch0_.idVirtualApplianceUser as idVirtua3_178_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_178_, offerpurch0_.leasePeriod as leasePer5_178_, offerpurch0_.offer_id as offer9_178_, offerpurch0_.serviceLevel as serviceL6_178_, offerpurch0_.start as start178_, offerpurch0_.user_id as user10_178_, offerpurch0_.virtualApplianceState as virtualA8_178_ from offerPurchased offerpurch0_ where offerpurch0_.user_id=?
12:27:41,505 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:27:41,515 ERROR ~ 

@6bjm1o3i4
Internal Server Error (500) for request GET /consumer/purchasedOffers?enterpriseID=3

Execution exception (In /app/controllers/ProducerDAO.java around line 39)
PersistenceException occured : org.hibernate.exception.SQLGrammarException: could not execute query

play.exceptions.JavaExecutionException: org.hibernate.exception.SQLGrammarException: could not execute query
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:255)
	at controllers.ProducerDAO.getOffersPurchasedFromUserId(ProducerDAO.java:39)
	at controllers.Consumer.purchasedOffers(Consumer.java:182)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.loader.Loader.doList(Loader.java:2536)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)
	at org.hibernate.loader.Loader.list(Loader.java:2271)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:452)
	at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:363)
	at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)
	at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1268)
	at org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:246)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2273)
	at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)
	at org.hibernate.loader.Loader.doQuery(Loader.java:802)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)
	at org.hibernate.loader.Loader.doList(Loader.java:2533)
	... 16 more
12:27:44,385 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:27:44,385 INFO  ~ Enterprie ID for current User 3
12:27:44,386 INFO  ~ CURRENT USER EMAIL ID: userent
12:28:11,221 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:29:29,612 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:29:29,612 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id178_, offerpurch0_.expiration as expiration178_, offerpurch0_.idVirtualApplianceUser as idVirtua3_178_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_178_, offerpurch0_.leasePeriod as leasePer5_178_, offerpurch0_.offer_id as offer9_178_, offerpurch0_.serviceLevel as serviceL6_178_, offerpurch0_.start as start178_, offerpurch0_.user_id as user10_178_, offerpurch0_.virtualApplianceState as virtualA8_178_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:29:29,625 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:29:33,533 ERROR ~ 

@6bjm1o3i5
Internal Server Error (500) for request GET /consumer/availableoffersAll?enterpriseID=3

Execution exception (In /app/controllers/ProducerDAO.java around line 49)
PersistenceException occured : org.hibernate.exception.SQLGrammarException: could not execute query

play.exceptions.JavaExecutionException: org.hibernate.exception.SQLGrammarException: could not execute query
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:255)
	at controllers.ProducerDAO.getSubscribedOffersGroupByServiceLevels(ProducerDAO.java:49)
	at controllers.Consumer.availableOffersAll(Consumer.java:151)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.loader.Loader.doList(Loader.java:2536)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)
	at org.hibernate.loader.Loader.list(Loader.java:2271)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:452)
	at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:363)
	at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)
	at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1268)
	at org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:246)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2273)
	at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)
	at org.hibernate.loader.Loader.doQuery(Loader.java:802)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)
	at org.hibernate.loader.Loader.doList(Loader.java:2533)
	... 16 more
12:29:45,213 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:29:45,214 INFO  ~ Enterprie ID for current User 3
12:29:45,214 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:29:45,216 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:29:45,401 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:29:45,401 INFO  ~ Enterprie ID for current User 3
12:29:45,401 INFO  ~ CURRENT USER EMAIL ID: userent
12:29:52,053 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:32:07,746 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:32:07,746 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id178_, offerpurch0_.expiration as expiration178_, offerpurch0_.idVirtualApplianceUser as idVirtua3_178_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_178_, offerpurch0_.leasePeriod as leasePer5_178_, offerpurch0_.offer_id as offer9_178_, offerpurch0_.serviceLevel as serviceL6_178_, offerpurch0_.start as start178_, offerpurch0_.user_id as user10_178_, offerpurch0_.virtualApplianceState as virtualA8_178_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:32:07,748 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:32:07,766 ERROR ~ 

@6bjm1o3i6
Internal Server Error (500) for request GET /consumer/availableoffersAll?enterpriseID=3

Execution exception (In /app/controllers/ProducerDAO.java around line 49)
PersistenceException occured : org.hibernate.exception.SQLGrammarException: could not execute query

play.exceptions.JavaExecutionException: org.hibernate.exception.SQLGrammarException: could not execute query
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:255)
	at controllers.ProducerDAO.getSubscribedOffersGroupByServiceLevels(ProducerDAO.java:49)
	at controllers.Consumer.availableOffersAll(Consumer.java:151)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.loader.Loader.doList(Loader.java:2536)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)
	at org.hibernate.loader.Loader.list(Loader.java:2271)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:452)
	at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:363)
	at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)
	at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1268)
	at org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:246)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2273)
	at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)
	at org.hibernate.loader.Loader.doQuery(Loader.java:802)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)
	at org.hibernate.loader.Loader.doList(Loader.java:2533)
	... 16 more
12:32:07,772 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:32:07,772 INFO  ~ Enterprie ID for current User 3
12:32:07,772 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:32:07,773 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:32:07,842 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:32:07,842 INFO  ~ Enterprie ID for current User 3
12:32:07,842 INFO  ~ CURRENT USER EMAIL ID: userent
12:32:09,242 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:32:09,244 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:32:09,244 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id178_, offerpurch0_.expiration as expiration178_, offerpurch0_.idVirtualApplianceUser as idVirtua3_178_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_178_, offerpurch0_.leasePeriod as leasePer5_178_, offerpurch0_.offer_id as offer9_178_, offerpurch0_.serviceLevel as serviceL6_178_, offerpurch0_.start as start178_, offerpurch0_.user_id as user10_178_, offerpurch0_.virtualApplianceState as virtualA8_178_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:32:09,246 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:32:09,261 ERROR ~ 

@6bjm1o3i7
Internal Server Error (500) for request GET /consumer/availableoffersAll?enterpriseID=3

Execution exception (In /app/controllers/ProducerDAO.java around line 49)
PersistenceException occured : org.hibernate.exception.SQLGrammarException: could not execute query

play.exceptions.JavaExecutionException: org.hibernate.exception.SQLGrammarException: could not execute query
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:255)
	at controllers.ProducerDAO.getSubscribedOffersGroupByServiceLevels(ProducerDAO.java:49)
	at controllers.Consumer.availableOffersAll(Consumer.java:151)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.loader.Loader.doList(Loader.java:2536)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)
	at org.hibernate.loader.Loader.list(Loader.java:2271)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:452)
	at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:363)
	at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)
	at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1268)
	at org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:246)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2273)
	at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)
	at org.hibernate.loader.Loader.doQuery(Loader.java:802)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)
	at org.hibernate.loader.Loader.doList(Loader.java:2533)
	... 16 more
12:32:13,247 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:32:13,247 INFO  ~ Enterprie ID for current User 3
12:32:13,247 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:32:13,249 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:32:13,438 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:32:13,439 INFO  ~ Enterprie ID for current User 3
12:32:13,439 INFO  ~ CURRENT USER EMAIL ID: userent
12:32:13,439 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:32:13,440 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:32:13,440 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id178_, offerpurch0_.expiration as expiration178_, offerpurch0_.idVirtualApplianceUser as idVirtua3_178_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_178_, offerpurch0_.leasePeriod as leasePer5_178_, offerpurch0_.offer_id as offer9_178_, offerpurch0_.serviceLevel as serviceL6_178_, offerpurch0_.start as start178_, offerpurch0_.user_id as user10_178_, offerpurch0_.virtualApplianceState as virtualA8_178_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:32:13,441 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:32:13,450 ERROR ~ 

@6bjm1o3i8
Internal Server Error (500) for request GET /consumer/availableoffersAll?enterpriseID=3

Execution exception (In /app/controllers/ProducerDAO.java around line 49)
PersistenceException occured : org.hibernate.exception.SQLGrammarException: could not execute query

play.exceptions.JavaExecutionException: org.hibernate.exception.SQLGrammarException: could not execute query
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:255)
	at controllers.ProducerDAO.getSubscribedOffersGroupByServiceLevels(ProducerDAO.java:49)
	at controllers.Consumer.availableOffersAll(Consumer.java:151)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.loader.Loader.doList(Loader.java:2536)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)
	at org.hibernate.loader.Loader.list(Loader.java:2271)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:452)
	at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:363)
	at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)
	at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1268)
	at org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:246)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2273)
	at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)
	at org.hibernate.loader.Loader.doQuery(Loader.java:802)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)
	at org.hibernate.loader.Loader.doList(Loader.java:2533)
	... 16 more
12:32:14,111 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:32:14,111 INFO  ~ Enterprie ID for current User 3
12:32:14,112 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:32:14,114 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:32:14,199 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:32:14,199 INFO  ~ Enterprie ID for current User 3
12:32:14,199 INFO  ~ CURRENT USER EMAIL ID: userent
12:32:14,199 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:32:14,200 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:32:14,200 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id178_, offerpurch0_.expiration as expiration178_, offerpurch0_.idVirtualApplianceUser as idVirtua3_178_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_178_, offerpurch0_.leasePeriod as leasePer5_178_, offerpurch0_.offer_id as offer9_178_, offerpurch0_.serviceLevel as serviceL6_178_, offerpurch0_.start as start178_, offerpurch0_.user_id as user10_178_, offerpurch0_.virtualApplianceState as virtualA8_178_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:32:14,201 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:32:14,212 ERROR ~ 

@6bjm1o3i9
Internal Server Error (500) for request GET /consumer/availableoffersAll?enterpriseID=3

Execution exception (In /app/controllers/ProducerDAO.java around line 49)
PersistenceException occured : org.hibernate.exception.SQLGrammarException: could not execute query

play.exceptions.JavaExecutionException: org.hibernate.exception.SQLGrammarException: could not execute query
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:255)
	at controllers.ProducerDAO.getSubscribedOffersGroupByServiceLevels(ProducerDAO.java:49)
	at controllers.Consumer.availableOffersAll(Consumer.java:151)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.loader.Loader.doList(Loader.java:2536)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)
	at org.hibernate.loader.Loader.list(Loader.java:2271)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:452)
	at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:363)
	at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)
	at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1268)
	at org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:246)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2273)
	at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)
	at org.hibernate.loader.Loader.doQuery(Loader.java:802)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)
	at org.hibernate.loader.Loader.doList(Loader.java:2533)
	... 16 more
12:32:15,231 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:32:15,231 INFO  ~ Enterprie ID for current User 3
12:32:15,231 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:32:15,233 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:32:15,420 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:32:15,420 INFO  ~ Enterprie ID for current User 3
12:32:15,420 INFO  ~ CURRENT USER EMAIL ID: userent
12:32:15,420 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:32:15,422 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:32:15,422 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id178_, offerpurch0_.expiration as expiration178_, offerpurch0_.idVirtualApplianceUser as idVirtua3_178_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_178_, offerpurch0_.leasePeriod as leasePer5_178_, offerpurch0_.offer_id as offer9_178_, offerpurch0_.serviceLevel as serviceL6_178_, offerpurch0_.start as start178_, offerpurch0_.user_id as user10_178_, offerpurch0_.virtualApplianceState as virtualA8_178_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:32:15,423 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:32:15,432 ERROR ~ 

@6bjm1o3ia
Internal Server Error (500) for request GET /consumer/availableoffersAll?enterpriseID=3

Execution exception (In /app/controllers/ProducerDAO.java around line 49)
PersistenceException occured : org.hibernate.exception.SQLGrammarException: could not execute query

play.exceptions.JavaExecutionException: org.hibernate.exception.SQLGrammarException: could not execute query
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:255)
	at controllers.ProducerDAO.getSubscribedOffersGroupByServiceLevels(ProducerDAO.java:49)
	at controllers.Consumer.availableOffersAll(Consumer.java:151)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.loader.Loader.doList(Loader.java:2536)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)
	at org.hibernate.loader.Loader.list(Loader.java:2271)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:452)
	at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:363)
	at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)
	at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1268)
	at org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:246)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2273)
	at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)
	at org.hibernate.loader.Loader.doQuery(Loader.java:802)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)
	at org.hibernate.loader.Loader.doList(Loader.java:2533)
	... 16 more
12:32:17,862 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:32:17,862 INFO  ~ Enterprie ID for current User 3
12:32:17,862 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:32:17,864 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:32:18,419 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:32:18,419 INFO  ~ Enterprie ID for current User 3
12:32:18,419 INFO  ~ CURRENT USER EMAIL ID: userent
12:32:18,419 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:32:18,421 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:32:18,421 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id178_, offerpurch0_.expiration as expiration178_, offerpurch0_.idVirtualApplianceUser as idVirtua3_178_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_178_, offerpurch0_.leasePeriod as leasePer5_178_, offerpurch0_.offer_id as offer9_178_, offerpurch0_.serviceLevel as serviceL6_178_, offerpurch0_.start as start178_, offerpurch0_.user_id as user10_178_, offerpurch0_.virtualApplianceState as virtualA8_178_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:32:18,422 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:32:18,433 ERROR ~ 

@6bjm1o3ib
Internal Server Error (500) for request GET /consumer/availableoffersAll?enterpriseID=3

Execution exception (In /app/controllers/ProducerDAO.java around line 49)
PersistenceException occured : org.hibernate.exception.SQLGrammarException: could not execute query

play.exceptions.JavaExecutionException: org.hibernate.exception.SQLGrammarException: could not execute query
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:255)
	at controllers.ProducerDAO.getSubscribedOffersGroupByServiceLevels(ProducerDAO.java:49)
	at controllers.Consumer.availableOffersAll(Consumer.java:151)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.loader.Loader.doList(Loader.java:2536)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)
	at org.hibernate.loader.Loader.list(Loader.java:2271)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:452)
	at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:363)
	at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)
	at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1268)
	at org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:246)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2273)
	at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)
	at org.hibernate.loader.Loader.doQuery(Loader.java:802)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)
	at org.hibernate.loader.Loader.doList(Loader.java:2533)
	... 16 more
12:32:18,596 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:32:18,596 INFO  ~ Enterprie ID for current User 3
12:32:18,596 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:32:18,598 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:32:19,083 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:32:19,083 INFO  ~ Enterprie ID for current User 3
12:32:19,083 INFO  ~ CURRENT USER EMAIL ID: userent
12:32:19,084 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:32:19,085 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:32:19,085 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id178_, offerpurch0_.expiration as expiration178_, offerpurch0_.idVirtualApplianceUser as idVirtua3_178_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_178_, offerpurch0_.leasePeriod as leasePer5_178_, offerpurch0_.offer_id as offer9_178_, offerpurch0_.serviceLevel as serviceL6_178_, offerpurch0_.start as start178_, offerpurch0_.user_id as user10_178_, offerpurch0_.virtualApplianceState as virtualA8_178_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:32:19,085 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:32:19,094 ERROR ~ 

@6bjm1o3ic
Internal Server Error (500) for request GET /consumer/availableoffersAll?enterpriseID=3

Execution exception (In /app/controllers/ProducerDAO.java around line 49)
PersistenceException occured : org.hibernate.exception.SQLGrammarException: could not execute query

play.exceptions.JavaExecutionException: org.hibernate.exception.SQLGrammarException: could not execute query
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:255)
	at controllers.ProducerDAO.getSubscribedOffersGroupByServiceLevels(ProducerDAO.java:49)
	at controllers.Consumer.availableOffersAll(Consumer.java:151)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.loader.Loader.doList(Loader.java:2536)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)
	at org.hibernate.loader.Loader.list(Loader.java:2271)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:452)
	at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:363)
	at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)
	at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1268)
	at org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:246)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2273)
	at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)
	at org.hibernate.loader.Loader.doQuery(Loader.java:802)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)
	at org.hibernate.loader.Loader.doList(Loader.java:2533)
	... 16 more
12:33:11,122 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:33:11,122 INFO  ~ Enterprie ID for current User 3
12:33:11,122 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:33:11,124 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:33:11,659 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:33:11,659 INFO  ~ Enterprie ID for current User 3
12:33:11,659 INFO  ~ CURRENT USER EMAIL ID: userent
12:33:16,883 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:33:34,778 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:33:40,705 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id178_, offerpurch0_.expiration as expiration178_, offerpurch0_.idVirtualApplianceUser as idVirtua3_178_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_178_, offerpurch0_.leasePeriod as leasePer5_178_, offerpurch0_.offer_id as offer9_178_, offerpurch0_.serviceLevel as serviceL6_178_, offerpurch0_.start as start178_, offerpurch0_.user_id as user10_178_, offerpurch0_.virtualApplianceState as virtualA8_178_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:33:40,707 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:34:54,145 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id178_, offerpurch0_.expiration as expiration178_, offerpurch0_.idVirtualApplianceUser as idVirtua3_178_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_178_, offerpurch0_.leasePeriod as leasePer5_178_, offerpurch0_.offer_id as offer9_178_, offerpurch0_.serviceLevel as serviceL6_178_, offerpurch0_.start as start178_, offerpurch0_.user_id as user10_178_, offerpurch0_.virtualApplianceState as virtualA8_178_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:34:54,147 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:34:54,160 ERROR ~ 

@6bjm1o3id
Internal Server Error (500) for request GET /consumer/availableoffersAll?enterpriseID=3

Execution exception (In /app/controllers/ProducerDAO.java around line 49)
PersistenceException occured : org.hibernate.exception.SQLGrammarException: could not execute query

play.exceptions.JavaExecutionException: org.hibernate.exception.SQLGrammarException: could not execute query
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:255)
	at controllers.ProducerDAO.getSubscribedOffersGroupByServiceLevels(ProducerDAO.java:49)
	at controllers.Consumer.availableOffersAll(Consumer.java:151)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.loader.Loader.doList(Loader.java:2536)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)
	at org.hibernate.loader.Loader.list(Loader.java:2271)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:452)
	at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:363)
	at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)
	at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1268)
	at org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:246)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2273)
	at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)
	at org.hibernate.loader.Loader.doQuery(Loader.java:802)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)
	at org.hibernate.loader.Loader.doList(Loader.java:2533)
	... 16 more
12:34:57,302 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
12:34:57,302 INFO  ~ Enterprie ID for current User 3
12:34:59,517 INFO  ~ CURRENT USER EMAIL ID: userent
12:34:59,552 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:34:59,552 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromUserId()------
12:34:59,552 DEBUG ~ /* named HQL query getOffersPurchasedFromUserId */ select offerpurch0_.id as id178_, offerpurch0_.expiration as expiration178_, offerpurch0_.idVirtualApplianceUser as idVirtua3_178_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_178_, offerpurch0_.leasePeriod as leasePer5_178_, offerpurch0_.offer_id as offer9_178_, offerpurch0_.serviceLevel as serviceL6_178_, offerpurch0_.start as start178_, offerpurch0_.user_id as user10_178_, offerpurch0_.virtualApplianceState as virtualA8_178_ from offerPurchased offerpurch0_ where offerpurch0_.user_id=?
12:34:59,553 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:34:59,561 ERROR ~ 

@6bjm1o3ie
Internal Server Error (500) for request GET /consumer/purchasedOffers?enterpriseID=3

Execution exception (In /app/controllers/ProducerDAO.java around line 39)
PersistenceException occured : org.hibernate.exception.SQLGrammarException: could not execute query

play.exceptions.JavaExecutionException: org.hibernate.exception.SQLGrammarException: could not execute query
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:255)
	at controllers.ProducerDAO.getOffersPurchasedFromUserId(ProducerDAO.java:39)
	at controllers.Consumer.purchasedOffers(Consumer.java:182)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.loader.Loader.doList(Loader.java:2536)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)
	at org.hibernate.loader.Loader.list(Loader.java:2271)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:452)
	at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:363)
	at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)
	at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1268)
	at org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:246)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2273)
	at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)
	at org.hibernate.loader.Loader.doQuery(Loader.java:802)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)
	at org.hibernate.loader.Loader.doList(Loader.java:2533)
	... 16 more
12:35:01,970 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:35:01,970 INFO  ~ Enterprie ID for current User 3
12:35:01,970 INFO  ~ CURRENT USER EMAIL ID: userent
12:36:01,833 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id177_, offer0_.datacenter as datacenter177_, offer0_.defaultLeasePeriod as defaultL3_177_, offer0_.defaultNetworkType as defaultN4_177_, offer0_.defaultServiceLevel as defaultS5_177_, offer0_.hypervisorType as hypervis6_177_, offer0_.icon as icon177_, offer0_.iconName as iconName177_, offer0_.image as image177_, offer0_.longDescription as longDes10_177_, offer0_.name as name177_, offer0_.price as price177_, offer0_.serviceType as service13_177_, offer0_.shortDescription as shortDe14_177_, offer0_.state as state177_, offer0_.virtualAppliance as virtual16_177_, offer0_.virtualDatacenter as virtual17_177_, offer0_.virtualDatacenterName as virtual18_177_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:36:01,835 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevels()------
12:36:03,273 DEBUG ~ /* named HQL query getSubscribedOffersGroupByServiceLevels */ select offerpurch0_.id as id178_, offerpurch0_.expiration as expiration178_, offerpurch0_.idVirtualApplianceUser as idVirtua3_178_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_178_, offerpurch0_.leasePeriod as leasePer5_178_, offerpurch0_.offer_id as offer9_178_, offerpurch0_.serviceLevel as serviceL6_178_, offerpurch0_.start as start178_, offerpurch0_.user_id as user10_178_, offerpurch0_.virtualApplianceState as virtualA8_178_ from offerPurchased offerpurch0_ order by offerpurch0_.serviceLevel ASC
12:36:03,274 ERROR ~ Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
12:36:03,290 ERROR ~ 

@6bjm1o3if
Internal Server Error (500) for request GET /consumer/availableoffersAll?enterpriseID=3

Execution exception (In /app/controllers/ProducerDAO.java around line 49)
PersistenceException occured : org.hibernate.exception.SQLGrammarException: could not execute query

play.exceptions.JavaExecutionException: org.hibernate.exception.SQLGrammarException: could not execute query
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:231)
	at Invocation.HTTP Request(Play!)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:255)
	at controllers.ProducerDAO.getSubscribedOffersGroupByServiceLevels(ProducerDAO.java:49)
	at controllers.Consumer.availableOffersAll(Consumer.java:151)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.exception.SQLGrammarException: could not execute query
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.loader.Loader.doList(Loader.java:2536)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)
	at org.hibernate.loader.Loader.list(Loader.java:2271)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:452)
	at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:363)
	at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)
	at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1268)
	at org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:246)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'offerpurch0_.idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2273)
	at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)
	at org.hibernate.loader.Loader.doQuery(Loader.java:802)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)
	at org.hibernate.loader.Loader.doList(Loader.java:2533)
	... 16 more
12:36:19,108 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:36:19,108 ERROR ~ Table 'Deploy_Bundle' already exists
12:36:20,165 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:36:20,165 ERROR ~ Table 'UserPortal' already exists
12:36:20,166 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, idVirtualDatacenterUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, virtualApplianceState integer, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:36:20,166 ERROR ~ Table 'offerPurchased' already exists
12:36:22,002 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
12:36:22,002 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
12:36:22,003 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
12:36:22,003 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
12:36:22,067 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:36:22,067 INFO  ~ Enterprie ID for current User 3
12:36:22,073 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:36:22,075 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:36:22,612 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:36:22,612 INFO  ~ Enterprie ID for current User 3
12:36:22,612 INFO  ~ CURRENT USER EMAIL ID: userent
12:36:35,484 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:36:46,409 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:36:51,841 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:38:22,871 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:38:22,871 INFO  ~ Enterprie ID for current User 3
12:38:22,871 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:38:22,873 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:38:22,966 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:38:22,966 INFO  ~ Enterprie ID for current User 3
12:38:22,966 INFO  ~ CURRENT USER EMAIL ID: userent
12:38:25,080 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:38:25,081 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:38:32,881 INFO  ~ -----INSIDE LOGOUT()-----
12:38:37,178 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:38:37,213 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:38:37,413 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
12:38:39,725 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:38:39,760 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:38:40,463 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:38:40,756 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:38:40,843 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:38:40,910 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:38:40,980 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:38:40,980 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:38:40,982 INFO  ~ resultSet1 size :0
12:38:40,982 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:38:40,982 INFO  ~  resultSet1 size []
12:38:40,982 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:38:41,039 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:38:41,783 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:38:41,860 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:38:41,860 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:38:41,861 INFO  ~ resultSet1 size :0
12:38:41,862 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:38:41,862 INFO  ~  resultSet1 size []
12:38:41,862 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:38:42,061 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:38:42,402 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:38:42,510 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:38:42,607 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:38:42,681 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:38:42,681 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:38:42,682 INFO  ~ resultSet1 size :0
12:38:42,682 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:38:42,682 INFO  ~  resultSet1 size []
12:38:42,682 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:38:44,427 INFO  ~  -----INSIDE PRODUCER LISTVM()------
12:38:44,463 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:38:44,832 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
12:38:44,833 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:38:44,833 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
12:38:45,041 INFO  ~  -----INSIDE PRODUCER VMDETAILS()------
12:38:45,041 INFO  ~ Session user in vmDetails(): admin
12:38:47,158 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
12:38:47,194 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:38:47,313 INFO  ~  virtualDC  : Bronze
12:38:47,502 INFO  ~  va  : Bronze
12:38:47,764 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
12:38:53,032 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:38:53,298 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:38:53,382 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:38:53,443 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:38:53,513 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:38:53,513 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:38:53,514 INFO  ~ resultSet1 size :0
12:38:53,514 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:38:53,514 INFO  ~  resultSet1 size []
12:38:53,514 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:38:53,525 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=? limit ?
12:38:53,533 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
12:38:53,533 INFO  ~ Session user in addToServiceCatalog(): admin
12:38:53,533 INFO  ~  and  vdc 3  & va_id : 3
12:38:53,533 INFO  ~  lease period 100 years
12:38:53,581 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:38:54,174 INFO  ~  description : asdfsdf
12:38:54,207 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
12:38:54,210 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:38:54,211 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
12:38:54,212 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:38:54,214 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
12:39:10,391 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:39:10,719 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:39:10,802 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:39:10,802 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:39:10,803 INFO  ~ resultSet1 size :0
12:39:10,803 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:39:10,804 INFO  ~  resultSet1 size []
12:39:10,804 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:39:11,847 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:39:12,217 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:39:12,219 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:39:12,301 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:39:12,383 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:39:12,383 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:39:12,385 INFO  ~ resultSet1 size :1
12:39:12,385 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:39:12,385 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver3, Icon: play.db.jpa.Blob@204ad33f , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
12:39:12,385 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:39:12,412 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:39:12,412 INFO  ~  OfferID for icon 1
12:39:12,412 DEBUG ~ /* load models.Offer */ select offer0_.id as id199_0_, offer0_.datacenter as datacenter199_0_, offer0_.defaultLeasePeriod as defaultL3_199_0_, offer0_.defaultNetworkType as defaultN4_199_0_, offer0_.defaultServiceLevel as defaultS5_199_0_, offer0_.hypervisorType as hypervis6_199_0_, offer0_.icon as icon199_0_, offer0_.iconName as iconName199_0_, offer0_.image as image199_0_, offer0_.longDescription as longDes10_199_0_, offer0_.name as name199_0_, offer0_.price as price199_0_, offer0_.serviceType as service13_199_0_, offer0_.shortDescription as shortDe14_199_0_, offer0_.state as state199_0_, offer0_.virtualAppliance as virtual16_199_0_, offer0_.virtualDatacenter as virtual17_199_0_, offer0_.virtualDatacenterName as virtual18_199_0_ from Offer offer0_ where offer0_.id=?
12:39:12,413 INFO  ~ ------------------------- EXITING displayIcon()---------
12:39:26,375 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:39:26,375 INFO  ~ Enterprie ID for current User 3
12:39:26,375 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:39:26,377 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:39:26,896 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:39:26,896 INFO  ~ Enterprie ID for current User 3
12:39:26,896 INFO  ~ CURRENT USER EMAIL ID: userent
12:39:26,897 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:39:26,898 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:39:26,950 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:39:26,950 INFO  ~  OfferID for icon 1
12:39:26,950 DEBUG ~ /* load models.Offer */ select offer0_.id as id199_0_, offer0_.datacenter as datacenter199_0_, offer0_.defaultLeasePeriod as defaultL3_199_0_, offer0_.defaultNetworkType as defaultN4_199_0_, offer0_.defaultServiceLevel as defaultS5_199_0_, offer0_.hypervisorType as hypervis6_199_0_, offer0_.icon as icon199_0_, offer0_.iconName as iconName199_0_, offer0_.image as image199_0_, offer0_.longDescription as longDes10_199_0_, offer0_.name as name199_0_, offer0_.price as price199_0_, offer0_.serviceType as service13_199_0_, offer0_.shortDescription as shortDe14_199_0_, offer0_.state as state199_0_, offer0_.virtualAppliance as virtual16_199_0_, offer0_.virtualDatacenter as virtual17_199_0_, offer0_.virtualDatacenterName as virtual18_199_0_ from Offer offer0_ where offer0_.id=?
12:39:26,952 INFO  ~ ------------------------- EXITING displayIcon()---------
12:39:28,817 INFO  ~ ---------INSIDE CONSUMER OFFERDETAILS()---------------
12:39:28,817 DEBUG ~ /* load models.Offer */ select offer0_.id as id199_0_, offer0_.datacenter as datacenter199_0_, offer0_.defaultLeasePeriod as defaultL3_199_0_, offer0_.defaultNetworkType as defaultN4_199_0_, offer0_.defaultServiceLevel as defaultS5_199_0_, offer0_.hypervisorType as hypervis6_199_0_, offer0_.icon as icon199_0_, offer0_.iconName as iconName199_0_, offer0_.image as image199_0_, offer0_.longDescription as longDes10_199_0_, offer0_.name as name199_0_, offer0_.price as price199_0_, offer0_.serviceType as service13_199_0_, offer0_.shortDescription as shortDe14_199_0_, offer0_.state as state199_0_, offer0_.virtualAppliance as virtual16_199_0_, offer0_.virtualDatacenter as virtual17_199_0_, offer0_.virtualDatacenterName as virtual18_199_0_ from Offer offer0_ where offer0_.id=?
12:39:28,820 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_199_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_206_0_, nodes1_.cpu as cpu206_0_, nodes1_.description as descript3_206_0_, nodes1_.hd as hd206_0_, nodes1_.icon as icon206_0_, nodes1_.idImage as idImage206_0_, nodes1_.node_name as node7_206_0_, nodes1_.ram as ram206_0_, nodes1_1_.offer_id as offer1_207_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:39:28,824 INFO  ~ ------------EXITING CONSUMER OFFERDETAILS()--------------
12:39:28,850 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_206_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_204_0_, nodes_reso1_.resourceType as resource2_204_0_, nodes_reso1_.sequence as sequence204_0_, nodes_reso1_.value as value204_0_, nodes_reso1_1_.id_node as id1_205_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:39:28,929 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:39:28,929 INFO  ~  OfferID for icon 1
12:39:28,929 DEBUG ~ /* load models.Offer */ select offer0_.id as id199_0_, offer0_.datacenter as datacenter199_0_, offer0_.defaultLeasePeriod as defaultL3_199_0_, offer0_.defaultNetworkType as defaultN4_199_0_, offer0_.defaultServiceLevel as defaultS5_199_0_, offer0_.hypervisorType as hypervis6_199_0_, offer0_.icon as icon199_0_, offer0_.iconName as iconName199_0_, offer0_.image as image199_0_, offer0_.longDescription as longDes10_199_0_, offer0_.name as name199_0_, offer0_.price as price199_0_, offer0_.serviceType as service13_199_0_, offer0_.shortDescription as shortDe14_199_0_, offer0_.state as state199_0_, offer0_.virtualAppliance as virtual16_199_0_, offer0_.virtualDatacenter as virtual17_199_0_, offer0_.virtualDatacenterName as virtual18_199_0_ from Offer offer0_ where offer0_.id=?
12:39:28,931 INFO  ~ ------------------------- EXITING displayIcon()---------
12:39:35,499 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
12:39:35,500 INFO  ~ CURRENT USER EMAIL ID: userent
12:39:35,500 DEBUG ~ /* load models.Offer */ select offer0_.id as id199_0_, offer0_.datacenter as datacenter199_0_, offer0_.defaultLeasePeriod as defaultL3_199_0_, offer0_.defaultNetworkType as defaultN4_199_0_, offer0_.defaultServiceLevel as defaultS5_199_0_, offer0_.hypervisorType as hypervis6_199_0_, offer0_.icon as icon199_0_, offer0_.iconName as iconName199_0_, offer0_.image as image199_0_, offer0_.longDescription as longDes10_199_0_, offer0_.name as name199_0_, offer0_.price as price199_0_, offer0_.serviceType as service13_199_0_, offer0_.shortDescription as shortDe14_199_0_, offer0_.state as state199_0_, offer0_.virtualAppliance as virtual16_199_0_, offer0_.virtualDatacenter as virtual17_199_0_, offer0_.virtualDatacenterName as virtual18_199_0_ from Offer offer0_ where offer0_.id=?
12:39:35,501 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
12:39:35,523 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_199_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_206_0_, nodes1_.cpu as cpu206_0_, nodes1_.description as descript3_206_0_, nodes1_.hd as hd206_0_, nodes1_.icon as icon206_0_, nodes1_.idImage as idImage206_0_, nodes1_.node_name as node7_206_0_, nodes1_.ram as ram206_0_, nodes1_1_.offer_id as offer1_207_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:39:36,687 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
12:39:36,687 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver3)
12:39:36,723 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:39:36,831 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
12:39:36,927 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:39:36,927 INFO  ~  vdcname : POR-userent-2012-09-12 12:39:36.926
12:39:37,018 INFO  ~  VDC to deploy: 
12:39:37,018 INFO  ~  Hypervisor to deploy: 
12:39:37,106 INFO  ~  Datacenter to deploy: 
12:39:37,106 INFO  ~  Network Built
12:39:37,106 INFO  ~ VDC built  
12:39:38,891 INFO  ~  1. VDC CREATED 
12:39:39,116 INFO  ~  2. VAPP CREATED 
12:39:39,116 DEBUG ~ /* load models.UserPortal */ select userportal0_.id as id198_0_, userportal0_.email as email198_0_, userportal0_.idAbiquo as idAbiquo198_0_ from UserPortal userportal0_ where userportal0_.id=?
12:39:39,118 INFO  ~ --------------------
12:39:39,118 DEBUG ~ /* load models.Offer */ select offer0_.id as id199_0_, offer0_.datacenter as datacenter199_0_, offer0_.defaultLeasePeriod as defaultL3_199_0_, offer0_.defaultNetworkType as defaultN4_199_0_, offer0_.defaultServiceLevel as defaultS5_199_0_, offer0_.hypervisorType as hypervis6_199_0_, offer0_.icon as icon199_0_, offer0_.iconName as iconName199_0_, offer0_.image as image199_0_, offer0_.longDescription as longDes10_199_0_, offer0_.name as name199_0_, offer0_.price as price199_0_, offer0_.serviceType as service13_199_0_, offer0_.shortDescription as shortDe14_199_0_, offer0_.state as state199_0_, offer0_.virtualAppliance as virtual16_199_0_, offer0_.virtualDatacenter as virtual17_199_0_, offer0_.virtualDatacenterName as virtual18_199_0_ from Offer offer0_ where offer0_.id=?
12:39:39,120 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
12:39:39,120 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:39:39,121 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
12:39:39,121 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_199_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_206_0_, nodes1_.cpu as cpu206_0_, nodes1_.description as descript3_206_0_, nodes1_.hd as hd206_0_, nodes1_.icon as icon206_0_, nodes1_.idImage as idImage206_0_, nodes1_.node_name as node7_206_0_, nodes1_.ram as ram206_0_, nodes1_1_.offer_id as offer1_207_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:39:39,374 INFO  ~  3. VM CREATED
12:39:39,375 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_206_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_204_0_, nodes_reso1_.resourceType as resource2_204_0_, nodes_reso1_.sequence as sequence204_0_, nodes_reso1_.value as value204_0_, nodes_reso1_1_.id_node as id1_205_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:39:39,477 INFO  ~  4. HARDDISKS ATTACHED 
12:39:39,479 INFO  ~  Handler created :
12:39:40,160 INFO  ~ STARTING MONITORING ......
12:39:40,162 INFO  ~ SAVING DEPLOY INFORMATION ......
12:39:40,165 DEBUG ~ /* insert models.OfferPurchased */ insert into offerPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_id, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
12:39:40,176 ERROR ~ Unknown column 'idVirtualDatacenterUser' in 'field list'
12:39:40,177 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not insert: [models.OfferPurchased]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:476)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert: [models.OfferPurchased]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:64)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2345)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2852)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:94)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
	... 24 more
12:39:58,933 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
12:39:58,933 INFO  ~ CURRENT USER EMAIL ID: userent
12:39:58,933 DEBUG ~ /* load models.Offer */ select offer0_.id as id199_0_, offer0_.datacenter as datacenter199_0_, offer0_.defaultLeasePeriod as defaultL3_199_0_, offer0_.defaultNetworkType as defaultN4_199_0_, offer0_.defaultServiceLevel as defaultS5_199_0_, offer0_.hypervisorType as hypervis6_199_0_, offer0_.icon as icon199_0_, offer0_.iconName as iconName199_0_, offer0_.image as image199_0_, offer0_.longDescription as longDes10_199_0_, offer0_.name as name199_0_, offer0_.price as price199_0_, offer0_.serviceType as service13_199_0_, offer0_.shortDescription as shortDe14_199_0_, offer0_.state as state199_0_, offer0_.virtualAppliance as virtual16_199_0_, offer0_.virtualDatacenter as virtual17_199_0_, offer0_.virtualDatacenterName as virtual18_199_0_ from Offer offer0_ where offer0_.id=?
12:39:58,934 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
12:39:58,936 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_199_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_206_0_, nodes1_.cpu as cpu206_0_, nodes1_.description as descript3_206_0_, nodes1_.hd as hd206_0_, nodes1_.icon as icon206_0_, nodes1_.idImage as idImage206_0_, nodes1_.node_name as node7_206_0_, nodes1_.ram as ram206_0_, nodes1_1_.offer_id as offer1_207_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:40:00,521 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
12:40:00,521 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver3)
12:40:00,564 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:40:00,729 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
12:40:00,730 INFO  ~  CREATED VM : VirtualMachine [id=239, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_adc7b8a6-10a1-4759-91c1-942962b653be, password=vmpassword, ram=64, uuid=adc7b8a6-10a1-4759-91c1-942962b653be, vncAddress=null, vncPort=0]
12:40:00,746 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
12:40:00,784 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
12:40:00,785 INFO  ~ ------------------------- INSIDE getVMDetais()----------
12:40:00,785 INFO  ~  getVMDetais() params : vdc_id 182 vapp_id : 185 vm-id : 239
12:40:00,785 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_208_, mkt_config0_.deploy_enterprise_id as deploy2_208_, mkt_config0_.enterprise_name as enterprise3_208_, mkt_config0_.mkt_branding_css as mkt4_208_, mkt_config0_.mkt_branding_icon as mkt5_208_, mkt_config0_.mkt_deploy_pw as mkt6_208_, mkt_config0_.mkt_deploy_user as mkt7_208_, mkt_config0_.mkt_theme_css as mkt8_208_, mkt_config0_.mkt_url as mkt9_208_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
12:40:00,786 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
12:40:00,786 INFO  ~  AbiquoUtils context set to :null
12:40:00,786 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:40:00,789 WARN  ~  Unable to create context in AbiquoUtils.
12:40:00,790 WARN  ~  Unable to get AdminService in AbiquoUtils.
12:40:00,790 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:40:00,790 INFO  ~  vdcname : POR-userent-2012-09-12 12:40:00.79
12:40:00,790 INFO  ~  VDC to deploy: 
12:40:00,790 WARN  ~ EXCEPTION OCCURED  IN deploy()
java.lang.NullPointerException
	at controllers.Consumer.Deploy(Consumer.java:321)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:40:18,338 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
12:40:18,338 INFO  ~ CURRENT USER EMAIL ID: userent
12:40:18,338 DEBUG ~ /* load models.Offer */ select offer0_.id as id199_0_, offer0_.datacenter as datacenter199_0_, offer0_.defaultLeasePeriod as defaultL3_199_0_, offer0_.defaultNetworkType as defaultN4_199_0_, offer0_.defaultServiceLevel as defaultS5_199_0_, offer0_.hypervisorType as hypervis6_199_0_, offer0_.icon as icon199_0_, offer0_.iconName as iconName199_0_, offer0_.image as image199_0_, offer0_.longDescription as longDes10_199_0_, offer0_.name as name199_0_, offer0_.price as price199_0_, offer0_.serviceType as service13_199_0_, offer0_.shortDescription as shortDe14_199_0_, offer0_.state as state199_0_, offer0_.virtualAppliance as virtual16_199_0_, offer0_.virtualDatacenter as virtual17_199_0_, offer0_.virtualDatacenterName as virtual18_199_0_ from Offer offer0_ where offer0_.id=?
12:40:18,340 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
12:40:18,341 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_199_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_206_0_, nodes1_.cpu as cpu206_0_, nodes1_.description as descript3_206_0_, nodes1_.hd as hd206_0_, nodes1_.icon as icon206_0_, nodes1_.idImage as idImage206_0_, nodes1_.node_name as node7_206_0_, nodes1_.ram as ram206_0_, nodes1_1_.offer_id as offer1_207_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:40:47,454 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
12:40:47,454 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver3)
12:40:47,495 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:40:50,501 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
12:40:50,608 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:40:50,608 INFO  ~  vdcname : POR-userent-2012-09-12 12:40:50.608
12:40:50,689 INFO  ~  VDC to deploy: 
12:40:50,689 INFO  ~  Hypervisor to deploy: 
12:40:50,755 INFO  ~  Datacenter to deploy: 
12:40:50,755 INFO  ~  Network Built
12:40:50,755 INFO  ~ VDC built  
12:40:52,663 INFO  ~  1. VDC CREATED 
12:40:52,828 INFO  ~  2. VAPP CREATED 
12:40:52,828 DEBUG ~ /* load models.UserPortal */ select userportal0_.id as id198_0_, userportal0_.email as email198_0_, userportal0_.idAbiquo as idAbiquo198_0_ from UserPortal userportal0_ where userportal0_.id=?
12:40:52,829 INFO  ~ --------------------
12:40:52,830 DEBUG ~ /* load models.Offer */ select offer0_.id as id199_0_, offer0_.datacenter as datacenter199_0_, offer0_.defaultLeasePeriod as defaultL3_199_0_, offer0_.defaultNetworkType as defaultN4_199_0_, offer0_.defaultServiceLevel as defaultS5_199_0_, offer0_.hypervisorType as hypervis6_199_0_, offer0_.icon as icon199_0_, offer0_.iconName as iconName199_0_, offer0_.image as image199_0_, offer0_.longDescription as longDes10_199_0_, offer0_.name as name199_0_, offer0_.price as price199_0_, offer0_.serviceType as service13_199_0_, offer0_.shortDescription as shortDe14_199_0_, offer0_.state as state199_0_, offer0_.virtualAppliance as virtual16_199_0_, offer0_.virtualDatacenter as virtual17_199_0_, offer0_.virtualDatacenterName as virtual18_199_0_ from Offer offer0_ where offer0_.id=?
12:40:52,831 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
12:40:52,831 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:40:52,832 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
12:40:52,832 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_199_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_206_0_, nodes1_.cpu as cpu206_0_, nodes1_.description as descript3_206_0_, nodes1_.hd as hd206_0_, nodes1_.icon as icon206_0_, nodes1_.idImage as idImage206_0_, nodes1_.node_name as node7_206_0_, nodes1_.ram as ram206_0_, nodes1_1_.offer_id as offer1_207_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:40:53,055 INFO  ~  3. VM CREATED
12:40:53,056 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_206_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_204_0_, nodes_reso1_.resourceType as resource2_204_0_, nodes_reso1_.sequence as sequence204_0_, nodes_reso1_.value as value204_0_, nodes_reso1_1_.id_node as id1_205_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:40:53,134 INFO  ~  4. HARDDISKS ATTACHED 
12:40:53,134 INFO  ~  Handler created :
12:40:56,921 INFO  ~ STARTING MONITORING ......
12:40:59,903 INFO  ~ SAVING DEPLOY INFORMATION ......
12:41:06,583 DEBUG ~ /* insert models.OfferPurchased */ insert into offerPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_id, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
12:41:06,590 ERROR ~ Unknown column 'idVirtualDatacenterUser' in 'field list'
12:41:13,538 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
12:41:13,538 INFO  ~  CREATED VM : VirtualMachine [id=240, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_2644a89a-a65f-4b60-af9c-0ba2f9df0282, password=vmpassword, ram=64, uuid=2644a89a-a65f-4b60-af9c-0ba2f9df0282, vncAddress=null, vncPort=0]
12:41:13,587 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
12:41:13,587 INFO  ~ ------------------------- INSIDE getVMDetais()----------
12:41:13,587 INFO  ~  getVMDetais() params : vdc_id 183 vapp_id : 186 vm-id : 240
12:41:13,587 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_208_, mkt_config0_.deploy_enterprise_id as deploy2_208_, mkt_config0_.enterprise_name as enterprise3_208_, mkt_config0_.mkt_branding_css as mkt4_208_, mkt_config0_.mkt_branding_icon as mkt5_208_, mkt_config0_.mkt_deploy_pw as mkt6_208_, mkt_config0_.mkt_deploy_user as mkt7_208_, mkt_config0_.mkt_theme_css as mkt8_208_, mkt_config0_.mkt_url as mkt9_208_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
12:41:13,587 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
12:41:13,587 INFO  ~  AbiquoUtils context set to :null
12:41:13,587 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:42:57,143 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not insert: [models.OfferPurchased]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:476)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert: [models.OfferPurchased]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:64)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2345)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2852)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:94)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
	... 24 more
12:43:10,661 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:43:10,661 INFO  ~ Enterprie ID for current User 3
12:43:10,661 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:43:10,664 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:43:11,213 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:43:11,213 INFO  ~ Enterprie ID for current User 3
12:43:11,213 INFO  ~ CURRENT USER EMAIL ID: userent
12:43:15,070 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:43:15,072 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:43:15,142 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:43:15,142 INFO  ~  OfferID for icon 1
12:43:15,142 DEBUG ~ /* load models.Offer */ select offer0_.id as id199_0_, offer0_.datacenter as datacenter199_0_, offer0_.defaultLeasePeriod as defaultL3_199_0_, offer0_.defaultNetworkType as defaultN4_199_0_, offer0_.defaultServiceLevel as defaultS5_199_0_, offer0_.hypervisorType as hypervis6_199_0_, offer0_.icon as icon199_0_, offer0_.iconName as iconName199_0_, offer0_.image as image199_0_, offer0_.longDescription as longDes10_199_0_, offer0_.name as name199_0_, offer0_.price as price199_0_, offer0_.serviceType as service13_199_0_, offer0_.shortDescription as shortDe14_199_0_, offer0_.state as state199_0_, offer0_.virtualAppliance as virtual16_199_0_, offer0_.virtualDatacenter as virtual17_199_0_, offer0_.virtualDatacenterName as virtual18_199_0_ from Offer offer0_ where offer0_.id=?
12:43:15,144 INFO  ~ ------------------------- EXITING displayIcon()---------
12:43:18,660 INFO  ~ -----INSIDE LOGOUT()-----
12:43:22,334 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:43:22,374 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:43:22,549 INFO  ~ Role of userRole [id=1, name=CLOUD_ADMIN, blocked=true]
12:43:24,690 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:43:24,728 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:43:25,341 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:43:25,667 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:43:25,669 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:43:25,746 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:43:25,826 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:43:25,827 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:43:25,828 INFO  ~ resultSet1 size :1
12:43:25,828 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:43:25,828 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver3, Icon: play.db.jpa.Blob@78c66962 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
12:43:25,828 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:43:25,901 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:43:25,902 INFO  ~  OfferID for icon 1
12:43:25,902 DEBUG ~ /* load models.Offer */ select offer0_.id as id199_0_, offer0_.datacenter as datacenter199_0_, offer0_.defaultLeasePeriod as defaultL3_199_0_, offer0_.defaultNetworkType as defaultN4_199_0_, offer0_.defaultServiceLevel as defaultS5_199_0_, offer0_.hypervisorType as hypervis6_199_0_, offer0_.icon as icon199_0_, offer0_.iconName as iconName199_0_, offer0_.image as image199_0_, offer0_.longDescription as longDes10_199_0_, offer0_.name as name199_0_, offer0_.price as price199_0_, offer0_.serviceType as service13_199_0_, offer0_.shortDescription as shortDe14_199_0_, offer0_.state as state199_0_, offer0_.virtualAppliance as virtual16_199_0_, offer0_.virtualDatacenter as virtual17_199_0_, offer0_.virtualDatacenterName as virtual18_199_0_ from Offer offer0_ where offer0_.id=?
12:43:25,903 INFO  ~ ------------------------- EXITING displayIcon()---------
12:43:27,225 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
12:43:27,259 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:43:27,382 INFO  ~  virtualDC  : Bronze
12:43:27,536 INFO  ~  va  : Bronze
12:43:27,797 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
12:43:32,740 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=? limit ?
12:43:32,758 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
12:43:32,758 INFO  ~ Session user in addToServiceCatalog(): admin
12:43:32,758 INFO  ~  and  vdc 3  & va_id : 2
12:43:32,758 INFO  ~  lease period 100 years
12:43:32,789 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:43:33,553 INFO  ~  description : asdfsdaf
12:43:33,588 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
12:43:33,593 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:43:33,594 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
12:43:33,594 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:43:33,598 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
12:43:33,736 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:43:34,103 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:43:34,104 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:43:34,105 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.id=?
12:43:34,166 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:43:34,166 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id199_, offer0_.datacenter as datacenter199_, offer0_.defaultLeasePeriod as defaultL3_199_, offer0_.defaultNetworkType as defaultN4_199_, offer0_.defaultServiceLevel as defaultS5_199_, offer0_.hypervisorType as hypervis6_199_, offer0_.icon as icon199_, offer0_.iconName as iconName199_, offer0_.image as image199_, offer0_.longDescription as longDes10_199_, offer0_.name as name199_, offer0_.price as price199_, offer0_.serviceType as service13_199_, offer0_.shortDescription as shortDe14_199_, offer0_.state as state199_, offer0_.virtualAppliance as virtual16_199_, offer0_.virtualDatacenter as virtual17_199_, offer0_.virtualDatacenterName as virtual18_199_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:43:34,167 INFO  ~ resultSet1 size :2
12:43:34,167 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:43:34,167 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver3, Icon: play.db.jpa.Blob@2eae85ab , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite], sc_offer [ID :2, Name : webserver2, Icon: play.db.jpa.Blob@43c9b57e , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
12:43:34,167 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:43:34,204 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:43:34,204 INFO  ~  OfferID for icon 1
12:43:34,204 DEBUG ~ /* load models.Offer */ select offer0_.id as id199_0_, offer0_.datacenter as datacenter199_0_, offer0_.defaultLeasePeriod as defaultL3_199_0_, offer0_.defaultNetworkType as defaultN4_199_0_, offer0_.defaultServiceLevel as defaultS5_199_0_, offer0_.hypervisorType as hypervis6_199_0_, offer0_.icon as icon199_0_, offer0_.iconName as iconName199_0_, offer0_.image as image199_0_, offer0_.longDescription as longDes10_199_0_, offer0_.name as name199_0_, offer0_.price as price199_0_, offer0_.serviceType as service13_199_0_, offer0_.shortDescription as shortDe14_199_0_, offer0_.state as state199_0_, offer0_.virtualAppliance as virtual16_199_0_, offer0_.virtualDatacenter as virtual17_199_0_, offer0_.virtualDatacenterName as virtual18_199_0_ from Offer offer0_ where offer0_.id=?
12:43:34,205 INFO  ~ ------------------------- EXITING displayIcon()---------
12:43:34,240 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:43:34,241 INFO  ~  OfferID for icon 2
12:43:34,241 DEBUG ~ /* load models.Offer */ select offer0_.id as id199_0_, offer0_.datacenter as datacenter199_0_, offer0_.defaultLeasePeriod as defaultL3_199_0_, offer0_.defaultNetworkType as defaultN4_199_0_, offer0_.defaultServiceLevel as defaultS5_199_0_, offer0_.hypervisorType as hypervis6_199_0_, offer0_.icon as icon199_0_, offer0_.iconName as iconName199_0_, offer0_.image as image199_0_, offer0_.longDescription as longDes10_199_0_, offer0_.name as name199_0_, offer0_.price as price199_0_, offer0_.serviceType as service13_199_0_, offer0_.shortDescription as shortDe14_199_0_, offer0_.state as state199_0_, offer0_.virtualAppliance as virtual16_199_0_, offer0_.virtualDatacenter as virtual17_199_0_, offer0_.virtualDatacenterName as virtual18_199_0_ from Offer offer0_ where offer0_.id=?
12:43:34,242 INFO  ~ ------------------------- EXITING displayIcon()---------
12:45:01,723 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:45:01,723 ERROR ~ Table 'Deploy_Bundle' already exists
12:45:02,553 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:45:02,553 ERROR ~ Table 'UserPortal' already exists
12:45:02,554 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, idVirtualDatacenterUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, virtualApplianceState integer, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:45:02,554 ERROR ~ Table 'offerPurchased' already exists
12:45:05,208 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
12:45:05,209 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
12:45:05,209 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
12:45:05,209 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
12:45:22,445 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:45:22,487 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:45:23,144 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:45:23,465 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ where offer0_.id=?
12:45:23,552 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ where offer0_.id=?
12:45:23,622 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ where offer0_.id=?
12:45:23,686 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:45:23,686 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:45:23,686 INFO  ~ resultSet1 size :0
12:45:23,686 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:45:23,686 INFO  ~  resultSet1 size []
12:45:23,686 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:45:23,746 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:45:24,036 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ where offer0_.id=?
12:45:24,135 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:45:24,135 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:45:24,136 INFO  ~ resultSet1 size :0
12:45:24,136 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:45:24,136 INFO  ~  resultSet1 size []
12:45:24,136 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:45:24,703 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:45:24,981 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ where offer0_.id=?
12:45:25,075 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ where offer0_.id=?
12:45:25,176 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ where offer0_.id=?
12:45:25,240 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:45:25,240 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:45:25,240 INFO  ~ resultSet1 size :0
12:45:25,240 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:45:25,240 INFO  ~  resultSet1 size []
12:45:25,240 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:45:26,207 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
12:45:26,244 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:45:26,365 INFO  ~  virtualDC  : Bronze
12:45:26,504 INFO  ~  va  : Bronze
12:45:26,766 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
12:45:44,374 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ where offer0_.id=? limit ?
12:45:44,381 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
12:45:44,382 INFO  ~ Session user in addToServiceCatalog(): admin
12:45:44,382 INFO  ~  and  vdc 3  & va_id : 1
12:45:44,382 INFO  ~  lease period 100 years
12:45:44,412 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:45:45,228 INFO  ~  description : sadfsdfsd
12:45:45,318 INFO  ~  description : sadfsdfsd
12:45:45,352 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
12:45:45,356 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:45:45,356 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:45:45,357 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
12:45:45,357 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:45:45,357 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:45:45,360 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
12:45:45,474 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:45:45,801 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ where offer0_.id=?
12:45:45,802 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ where offer0_.id=?
12:45:45,875 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ where offer0_.id=?
12:45:45,948 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:45:45,948 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:45:45,949 INFO  ~ resultSet1 size :1
12:45:45,949 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:45:45,950 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@69a3d2cc , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
12:45:45,950 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:45:46,035 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:45:46,035 INFO  ~  OfferID for icon 1
12:45:46,036 DEBUG ~ /* load models.Offer */ select offer0_.id as id221_0_, offer0_.datacenter as datacenter221_0_, offer0_.defaultLeasePeriod as defaultL3_221_0_, offer0_.defaultNetworkType as defaultN4_221_0_, offer0_.defaultServiceLevel as defaultS5_221_0_, offer0_.hypervisorType as hypervis6_221_0_, offer0_.icon as icon221_0_, offer0_.iconName as iconName221_0_, offer0_.image as image221_0_, offer0_.longDescription as longDes10_221_0_, offer0_.name as name221_0_, offer0_.price as price221_0_, offer0_.serviceType as service13_221_0_, offer0_.shortDescription as shortDe14_221_0_, offer0_.state as state221_0_, offer0_.virtualAppliance as virtual16_221_0_, offer0_.virtualDatacenter as virtual17_221_0_, offer0_.virtualDatacenterName as virtual18_221_0_ from Offer offer0_ where offer0_.id=?
12:45:46,037 INFO  ~ ------------------------- EXITING displayIcon()---------
12:46:12,773 INFO  ~ -----INSIDE LOGOUT()-----
12:46:18,046 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
12:46:18,083 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:46:18,261 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
12:46:18,298 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:46:18,298 INFO  ~ Enterprie ID for current User 3
12:46:18,298 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:46:18,301 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:46:18,849 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:46:18,849 INFO  ~ Enterprie ID for current User 3
12:46:18,849 INFO  ~ CURRENT USER EMAIL ID: userent
12:47:04,189 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:47:56,572 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:47:56,671 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:47:56,671 INFO  ~  OfferID for icon 1
12:47:56,671 DEBUG ~ /* load models.Offer */ select offer0_.id as id221_0_, offer0_.datacenter as datacenter221_0_, offer0_.defaultLeasePeriod as defaultL3_221_0_, offer0_.defaultNetworkType as defaultN4_221_0_, offer0_.defaultServiceLevel as defaultS5_221_0_, offer0_.hypervisorType as hypervis6_221_0_, offer0_.icon as icon221_0_, offer0_.iconName as iconName221_0_, offer0_.image as image221_0_, offer0_.longDescription as longDes10_221_0_, offer0_.name as name221_0_, offer0_.price as price221_0_, offer0_.serviceType as service13_221_0_, offer0_.shortDescription as shortDe14_221_0_, offer0_.state as state221_0_, offer0_.virtualAppliance as virtual16_221_0_, offer0_.virtualDatacenter as virtual17_221_0_, offer0_.virtualDatacenterName as virtual18_221_0_ from Offer offer0_ where offer0_.id=?
12:47:56,673 INFO  ~ ------------------------- EXITING displayIcon()---------
12:48:05,837 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
12:48:05,837 INFO  ~ CURRENT USER EMAIL ID: userent
12:48:05,837 DEBUG ~ /* load models.Offer */ select offer0_.id as id221_0_, offer0_.datacenter as datacenter221_0_, offer0_.defaultLeasePeriod as defaultL3_221_0_, offer0_.defaultNetworkType as defaultN4_221_0_, offer0_.defaultServiceLevel as defaultS5_221_0_, offer0_.hypervisorType as hypervis6_221_0_, offer0_.icon as icon221_0_, offer0_.iconName as iconName221_0_, offer0_.image as image221_0_, offer0_.longDescription as longDes10_221_0_, offer0_.name as name221_0_, offer0_.price as price221_0_, offer0_.serviceType as service13_221_0_, offer0_.shortDescription as shortDe14_221_0_, offer0_.state as state221_0_, offer0_.virtualAppliance as virtual16_221_0_, offer0_.virtualDatacenter as virtual17_221_0_, offer0_.virtualDatacenterName as virtual18_221_0_ from Offer offer0_ where offer0_.id=?
12:48:05,839 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
12:48:05,853 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_221_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_228_0_, nodes1_.cpu as cpu228_0_, nodes1_.description as descript3_228_0_, nodes1_.hd as hd228_0_, nodes1_.icon as icon228_0_, nodes1_.idImage as idImage228_0_, nodes1_.node_name as node7_228_0_, nodes1_.ram as ram228_0_, nodes1_1_.offer_id as offer1_229_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:48:43,912 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
12:48:43,912 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
12:48:43,974 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:48:44,103 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
12:48:44,203 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:48:44,203 INFO  ~  vdcname : POR-userent-2012-09-12 12:48:44.202
12:48:44,336 INFO  ~  VDC to deploy: 
12:48:44,336 INFO  ~  Hypervisor to deploy: 
12:48:44,418 INFO  ~  Datacenter to deploy: 
12:48:44,418 INFO  ~  Network Built
12:48:44,418 INFO  ~ VDC built  
12:48:46,919 INFO  ~  1. VDC CREATED 
12:48:47,095 INFO  ~  2. VAPP CREATED 
12:48:52,733 DEBUG ~ /* load models.UserPortal */ select userportal0_.id as id220_0_, userportal0_.email as email220_0_, userportal0_.idAbiquo as idAbiquo220_0_ from UserPortal userportal0_ where userportal0_.id=?
12:49:01,419 INFO  ~ --------------------
12:50:38,307 DEBUG ~ /* load models.Offer */ select offer0_.id as id221_0_, offer0_.datacenter as datacenter221_0_, offer0_.defaultLeasePeriod as defaultL3_221_0_, offer0_.defaultNetworkType as defaultN4_221_0_, offer0_.defaultServiceLevel as defaultS5_221_0_, offer0_.hypervisorType as hypervis6_221_0_, offer0_.icon as icon221_0_, offer0_.iconName as iconName221_0_, offer0_.image as image221_0_, offer0_.longDescription as longDes10_221_0_, offer0_.name as name221_0_, offer0_.price as price221_0_, offer0_.serviceType as service13_221_0_, offer0_.shortDescription as shortDe14_221_0_, offer0_.state as state221_0_, offer0_.virtualAppliance as virtual16_221_0_, offer0_.virtualDatacenter as virtual17_221_0_, offer0_.virtualDatacenterName as virtual18_221_0_ from Offer offer0_ where offer0_.id=?
12:50:47,930 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
12:50:47,931 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id221_, offer0_.datacenter as datacenter221_, offer0_.defaultLeasePeriod as defaultL3_221_, offer0_.defaultNetworkType as defaultN4_221_, offer0_.defaultServiceLevel as defaultS5_221_, offer0_.hypervisorType as hypervis6_221_, offer0_.icon as icon221_, offer0_.iconName as iconName221_, offer0_.image as image221_, offer0_.longDescription as longDes10_221_, offer0_.name as name221_, offer0_.price as price221_, offer0_.serviceType as service13_221_, offer0_.shortDescription as shortDe14_221_, offer0_.state as state221_, offer0_.virtualAppliance as virtual16_221_, offer0_.virtualDatacenter as virtual17_221_, offer0_.virtualDatacenterName as virtual18_221_ from Offer offer0_ where offer0_.id=?
12:50:47,945 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
12:50:49,339 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_221_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_228_0_, nodes1_.cpu as cpu228_0_, nodes1_.description as descript3_228_0_, nodes1_.hd as hd228_0_, nodes1_.icon as icon228_0_, nodes1_.idImage as idImage228_0_, nodes1_.node_name as node7_228_0_, nodes1_.ram as ram228_0_, nodes1_1_.offer_id as offer1_229_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:50:53,338 INFO  ~  3. VM CREATED
12:51:01,555 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_228_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_226_0_, nodes_reso1_.resourceType as resource2_226_0_, nodes_reso1_.sequence as sequence226_0_, nodes_reso1_.value as value226_0_, nodes_reso1_1_.id_node as id1_227_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:51:01,641 INFO  ~  4. HARDDISKS ATTACHED 
12:51:01,642 INFO  ~  Handler created :
12:51:06,192 INFO  ~ STARTING MONITORING ......
12:51:06,412 INFO  ~  3. VM CREATED
12:51:06,413 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_228_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_226_0_, nodes_reso1_.resourceType as resource2_226_0_, nodes_reso1_.sequence as sequence226_0_, nodes_reso1_.value as value226_0_, nodes_reso1_1_.id_node as id1_227_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:51:06,493 INFO  ~  4. HARDDISKS ATTACHED 
12:51:06,493 INFO  ~  Handler created :
12:51:09,982 INFO  ~ STARTING MONITORING ......
12:51:09,982 INFO  ~ SAVING DEPLOY INFORMATION ......
12:51:31,728 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
12:51:31,728 INFO  ~  CREATED VM : VirtualMachine [id=241, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_244711ed-19d3-4768-8b6e-701d39aea0f3, password=vmpassword, ram=64, uuid=244711ed-19d3-4768-8b6e-701d39aea0f3, vncAddress=null, vncPort=0]
12:51:31,791 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
12:51:31,791 INFO  ~ ------------------------- INSIDE getVMDetais()----------
12:51:31,791 INFO  ~  getVMDetais() params : vdc_id 184 vapp_id : 187 vm-id : 241
12:51:31,792 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_230_, mkt_config0_.deploy_enterprise_id as deploy2_230_, mkt_config0_.enterprise_name as enterprise3_230_, mkt_config0_.mkt_branding_css as mkt4_230_, mkt_config0_.mkt_branding_icon as mkt5_230_, mkt_config0_.mkt_deploy_pw as mkt6_230_, mkt_config0_.mkt_deploy_user as mkt7_230_, mkt_config0_.mkt_theme_css as mkt8_230_, mkt_config0_.mkt_url as mkt9_230_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
12:51:31,793 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
12:51:31,793 INFO  ~  AbiquoUtils context set to :null
12:51:31,793 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:51:35,483 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
12:51:35,483 INFO  ~  CREATED VM : VirtualMachine [id=242, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_805e066e-a587-4600-a18b-6b36118d3747, password=vmpassword, ram=128, uuid=805e066e-a587-4600-a18b-6b36118d3747, vncAddress=null, vncPort=0]
12:51:35,536 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
12:51:35,536 INFO  ~ ------------------------- INSIDE getVMDetais()----------
12:51:35,536 INFO  ~  getVMDetais() params : vdc_id 184 vapp_id : 187 vm-id : 242
12:51:35,537 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_230_, mkt_config0_.deploy_enterprise_id as deploy2_230_, mkt_config0_.enterprise_name as enterprise3_230_, mkt_config0_.mkt_branding_css as mkt4_230_, mkt_config0_.mkt_branding_icon as mkt5_230_, mkt_config0_.mkt_deploy_pw as mkt6_230_, mkt_config0_.mkt_deploy_user as mkt7_230_, mkt_config0_.mkt_theme_css as mkt8_230_, mkt_config0_.mkt_url as mkt9_230_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
12:51:35,537 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
12:51:35,537 INFO  ~  AbiquoUtils context set to :null
12:51:35,538 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:51:46,885 DEBUG ~ /* insert models.OfferPurchased */ insert into offerPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_id, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
12:51:46,887 ERROR ~ Unknown column 'idVirtualDatacenterUser' in 'field list'
12:54:20,583 ERROR ~ an assertion failure occured (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session)
org.hibernate.AssertionFailure: null id in models.OfferPurchased entry (don't flush the Session after an exception occurs)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:82)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:190)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:147)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:240)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:99)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:476)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at play.server.PlayHandler$NettyInvocation.execute(PlayHandler.java:257)
	at play.Invoker$Invocation.run(Invoker.java:278)
	at play.server.PlayHandler$NettyInvocation.run(PlayHandler.java:235)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:54:20,584 WARN  ~ EXCEPTION OCCURED  IN deploy()
org.hibernate.AssertionFailure: null id in models.OfferPurchased entry (don't flush the Session after an exception occurs)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:82)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:190)
	at org.hibernate.event.def.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:147)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:240)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:99)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:795)
	at play.db.jpa.JPABase._save(JPABase.java:35)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:476)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
12:54:35,066 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:54:35,066 ERROR ~ Table 'Deploy_Bundle' already exists
12:54:35,812 ERROR ~ Unsuccessful: create table OfferPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, idVirtualDatacenterUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, virtualApplianceState integer, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:54:35,813 ERROR ~ Table 'OfferPurchased' already exists
12:54:35,921 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
12:54:35,921 ERROR ~ Table 'UserPortal' already exists
12:54:37,272 ERROR ~ Unsuccessful: alter table OfferPurchased add index FK600654A77D217396 (offer_id), add constraint FK600654A77D217396 foreign key (offer_id) references Offer (id)
12:54:37,272 ERROR ~ Key column 'offer_id' doesn't exist in table
12:54:37,273 ERROR ~ Unsuccessful: alter table OfferPurchased add index FK600654A7F982D44A (user_id), add constraint FK600654A7F982D44A foreign key (user_id) references UserPortal (id)
12:54:37,273 ERROR ~ Key column 'user_id' doesn't exist in table
12:54:38,676 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
12:54:38,709 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:54:39,228 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:54:39,446 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ where offer0_.id=?
12:54:39,522 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ where offer0_.id=?
12:54:39,579 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ where offer0_.id=?
12:54:39,646 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:54:39,647 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:54:39,648 INFO  ~ resultSet1 size :0
12:54:39,648 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:54:39,648 INFO  ~  resultSet1 size []
12:54:39,648 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:54:41,366 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
12:54:41,412 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:54:41,484 INFO  ~  virtualDC  : Bronze
12:54:41,586 INFO  ~  va  : Bronze
12:54:41,752 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
12:54:47,273 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ where offer0_.id=? limit ?
12:54:47,280 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
12:54:47,280 INFO  ~ Session user in addToServiceCatalog(): admin
12:54:47,280 INFO  ~  and  vdc 3  & va_id : 1
12:54:47,280 INFO  ~  lease period 100 years
12:54:47,317 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:54:47,789 INFO  ~  description : fsdfsdf
12:54:47,841 INFO  ~  description : fsdfsdf
12:54:47,867 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
12:54:47,870 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:54:47,871 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
12:54:47,871 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
12:54:47,872 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:54:47,872 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
12:54:47,874 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
12:54:48,013 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
12:54:48,216 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ where offer0_.id=?
12:54:48,218 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ where offer0_.id=?
12:54:48,277 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ where offer0_.id=?
12:54:48,343 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
12:54:48,343 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ where offer0_.defaultServiceLevel=?
12:54:48,344 INFO  ~ resultSet1 size :1
12:54:48,344 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
12:54:48,345 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@7ba6b660 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
12:54:48,345 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
12:54:48,372 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:54:48,372 INFO  ~  OfferID for icon 1
12:54:48,372 DEBUG ~ /* load models.Offer */ select offer0_.id as id243_0_, offer0_.datacenter as datacenter243_0_, offer0_.defaultLeasePeriod as defaultL3_243_0_, offer0_.defaultNetworkType as defaultN4_243_0_, offer0_.defaultServiceLevel as defaultS5_243_0_, offer0_.hypervisorType as hypervis6_243_0_, offer0_.icon as icon243_0_, offer0_.iconName as iconName243_0_, offer0_.image as image243_0_, offer0_.longDescription as longDes10_243_0_, offer0_.name as name243_0_, offer0_.price as price243_0_, offer0_.serviceType as service13_243_0_, offer0_.shortDescription as shortDe14_243_0_, offer0_.state as state243_0_, offer0_.virtualAppliance as virtual16_243_0_, offer0_.virtualDatacenter as virtual17_243_0_, offer0_.virtualDatacenterName as virtual18_243_0_ from Offer offer0_ where offer0_.id=?
12:54:48,373 INFO  ~ ------------------------- EXITING displayIcon()---------
12:55:16,700 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
12:55:16,700 INFO  ~ Enterprie ID for current User 3
12:55:16,701 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ group by offer0_.defaultServiceLevel
12:55:16,703 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
12:55:17,293 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
12:55:17,293 INFO  ~ Enterprie ID for current User 3
12:55:17,293 INFO  ~ CURRENT USER EMAIL ID: userent
12:55:17,293 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
12:55:17,294 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
12:55:17,352 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:55:17,353 INFO  ~  OfferID for icon 1
12:55:17,353 DEBUG ~ /* load models.Offer */ select offer0_.id as id243_0_, offer0_.datacenter as datacenter243_0_, offer0_.defaultLeasePeriod as defaultL3_243_0_, offer0_.defaultNetworkType as defaultN4_243_0_, offer0_.defaultServiceLevel as defaultS5_243_0_, offer0_.hypervisorType as hypervis6_243_0_, offer0_.icon as icon243_0_, offer0_.iconName as iconName243_0_, offer0_.image as image243_0_, offer0_.longDescription as longDes10_243_0_, offer0_.name as name243_0_, offer0_.price as price243_0_, offer0_.serviceType as service13_243_0_, offer0_.shortDescription as shortDe14_243_0_, offer0_.state as state243_0_, offer0_.virtualAppliance as virtual16_243_0_, offer0_.virtualDatacenter as virtual17_243_0_, offer0_.virtualDatacenterName as virtual18_243_0_ from Offer offer0_ where offer0_.id=?
12:55:17,354 INFO  ~ ------------------------- EXITING displayIcon()---------
12:55:21,414 INFO  ~ ---------INSIDE CONSUMER OFFERDETAILS()---------------
12:55:21,415 DEBUG ~ /* load models.Offer */ select offer0_.id as id243_0_, offer0_.datacenter as datacenter243_0_, offer0_.defaultLeasePeriod as defaultL3_243_0_, offer0_.defaultNetworkType as defaultN4_243_0_, offer0_.defaultServiceLevel as defaultS5_243_0_, offer0_.hypervisorType as hypervis6_243_0_, offer0_.icon as icon243_0_, offer0_.iconName as iconName243_0_, offer0_.image as image243_0_, offer0_.longDescription as longDes10_243_0_, offer0_.name as name243_0_, offer0_.price as price243_0_, offer0_.serviceType as service13_243_0_, offer0_.shortDescription as shortDe14_243_0_, offer0_.state as state243_0_, offer0_.virtualAppliance as virtual16_243_0_, offer0_.virtualDatacenter as virtual17_243_0_, offer0_.virtualDatacenterName as virtual18_243_0_ from Offer offer0_ where offer0_.id=?
12:55:21,416 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_243_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_250_0_, nodes1_.cpu as cpu250_0_, nodes1_.description as descript3_250_0_, nodes1_.hd as hd250_0_, nodes1_.icon as icon250_0_, nodes1_.idImage as idImage250_0_, nodes1_.node_name as node7_250_0_, nodes1_.ram as ram250_0_, nodes1_1_.offer_id as offer1_251_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:55:21,419 INFO  ~ ------------EXITING CONSUMER OFFERDETAILS()--------------
12:55:21,433 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_250_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_248_0_, nodes_reso1_.resourceType as resource2_248_0_, nodes_reso1_.sequence as sequence248_0_, nodes_reso1_.value as value248_0_, nodes_reso1_1_.id_node as id1_249_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:55:21,510 INFO  ~ ------------------------- INSIDE displayIcon()---------
12:55:21,510 INFO  ~  OfferID for icon 1
12:55:21,510 DEBUG ~ /* load models.Offer */ select offer0_.id as id243_0_, offer0_.datacenter as datacenter243_0_, offer0_.defaultLeasePeriod as defaultL3_243_0_, offer0_.defaultNetworkType as defaultN4_243_0_, offer0_.defaultServiceLevel as defaultS5_243_0_, offer0_.hypervisorType as hypervis6_243_0_, offer0_.icon as icon243_0_, offer0_.iconName as iconName243_0_, offer0_.image as image243_0_, offer0_.longDescription as longDes10_243_0_, offer0_.name as name243_0_, offer0_.price as price243_0_, offer0_.serviceType as service13_243_0_, offer0_.shortDescription as shortDe14_243_0_, offer0_.state as state243_0_, offer0_.virtualAppliance as virtual16_243_0_, offer0_.virtualDatacenter as virtual17_243_0_, offer0_.virtualDatacenterName as virtual18_243_0_ from Offer offer0_ where offer0_.id=?
12:55:21,512 INFO  ~ ------------------------- EXITING displayIcon()---------
12:55:28,442 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
12:55:28,442 INFO  ~ CURRENT USER EMAIL ID: userent
12:55:28,442 DEBUG ~ /* load models.Offer */ select offer0_.id as id243_0_, offer0_.datacenter as datacenter243_0_, offer0_.defaultLeasePeriod as defaultL3_243_0_, offer0_.defaultNetworkType as defaultN4_243_0_, offer0_.defaultServiceLevel as defaultS5_243_0_, offer0_.hypervisorType as hypervis6_243_0_, offer0_.icon as icon243_0_, offer0_.iconName as iconName243_0_, offer0_.image as image243_0_, offer0_.longDescription as longDes10_243_0_, offer0_.name as name243_0_, offer0_.price as price243_0_, offer0_.serviceType as service13_243_0_, offer0_.shortDescription as shortDe14_243_0_, offer0_.state as state243_0_, offer0_.virtualAppliance as virtual16_243_0_, offer0_.virtualDatacenter as virtual17_243_0_, offer0_.virtualDatacenterName as virtual18_243_0_ from Offer offer0_ where offer0_.id=?
12:55:28,444 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
12:55:28,457 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_243_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_250_0_, nodes1_.cpu as cpu250_0_, nodes1_.description as descript3_250_0_, nodes1_.hd as hd250_0_, nodes1_.icon as icon250_0_, nodes1_.idImage as idImage250_0_, nodes1_.node_name as node7_250_0_, nodes1_.ram as ram250_0_, nodes1_1_.offer_id as offer1_251_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:55:29,728 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
12:55:29,728 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
12:55:29,759 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:55:29,850 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
12:55:29,931 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:55:29,931 INFO  ~  vdcname : POR-userent-2012-09-12 12:55:29.931
12:55:29,997 INFO  ~  VDC to deploy: 
12:55:29,997 INFO  ~  Hypervisor to deploy: 
12:55:30,085 INFO  ~  Datacenter to deploy: 
12:55:30,085 INFO  ~  Network Built
12:55:30,086 INFO  ~ VDC built  
12:55:32,030 INFO  ~  1. VDC CREATED 
12:55:32,119 INFO  ~  2. VAPP CREATED 
12:55:32,120 DEBUG ~ /* load models.UserPortal */ select userportal0_.id as id242_0_, userportal0_.email as email242_0_, userportal0_.idAbiquo as idAbiquo242_0_ from UserPortal userportal0_ where userportal0_.id=?
12:55:32,121 INFO  ~ --------------------
12:55:32,121 DEBUG ~ /* load models.Offer */ select offer0_.id as id243_0_, offer0_.datacenter as datacenter243_0_, offer0_.defaultLeasePeriod as defaultL3_243_0_, offer0_.defaultNetworkType as defaultN4_243_0_, offer0_.defaultServiceLevel as defaultS5_243_0_, offer0_.hypervisorType as hypervis6_243_0_, offer0_.icon as icon243_0_, offer0_.iconName as iconName243_0_, offer0_.image as image243_0_, offer0_.longDescription as longDes10_243_0_, offer0_.name as name243_0_, offer0_.price as price243_0_, offer0_.serviceType as service13_243_0_, offer0_.shortDescription as shortDe14_243_0_, offer0_.state as state243_0_, offer0_.virtualAppliance as virtual16_243_0_, offer0_.virtualDatacenter as virtual17_243_0_, offer0_.virtualDatacenterName as virtual18_243_0_ from Offer offer0_ where offer0_.id=?
12:55:32,122 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
12:55:32,122 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ where offer0_.id=?
12:55:32,123 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
12:55:32,123 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_243_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_250_0_, nodes1_.cpu as cpu250_0_, nodes1_.description as descript3_250_0_, nodes1_.hd as hd250_0_, nodes1_.icon as icon250_0_, nodes1_.idImage as idImage250_0_, nodes1_.node_name as node7_250_0_, nodes1_.ram as ram250_0_, nodes1_1_.offer_id as offer1_251_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:55:32,300 INFO  ~  3. VM CREATED
12:55:32,300 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_250_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_248_0_, nodes_reso1_.resourceType as resource2_248_0_, nodes_reso1_.sequence as sequence248_0_, nodes_reso1_.value as value248_0_, nodes_reso1_1_.id_node as id1_249_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:55:32,408 INFO  ~  4. HARDDISKS ATTACHED 
12:55:32,415 INFO  ~  Handler created :
12:55:33,305 INFO  ~ STARTING MONITORING ......
12:55:33,469 INFO  ~  3. VM CREATED
12:55:33,469 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_250_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_248_0_, nodes_reso1_.resourceType as resource2_248_0_, nodes_reso1_.sequence as sequence248_0_, nodes_reso1_.value as value248_0_, nodes_reso1_1_.id_node as id1_249_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:55:33,554 INFO  ~  4. HARDDISKS ATTACHED 
12:55:33,554 INFO  ~  Handler created :
12:55:34,296 INFO  ~ STARTING MONITORING ......
12:55:34,296 INFO  ~ SAVING DEPLOY INFORMATION ......
12:55:34,300 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_id, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
12:55:34,301 ERROR ~ Unknown column 'idVirtualDatacenterUser' in 'field list'
12:55:34,302 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not insert: [models.OfferPurchased]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:476)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert: [models.OfferPurchased]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:64)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2345)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2852)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:94)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
	... 24 more
12:56:08,903 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
12:56:08,903 INFO  ~  CREATED VM : VirtualMachine [id=243, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_753294de-8520-4a3c-85bb-2e1c108b0def, password=vmpassword, ram=64, uuid=753294de-8520-4a3c-85bb-2e1c108b0def, vncAddress=null, vncPort=0]
12:56:08,956 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
12:56:08,956 INFO  ~ ------------------------- INSIDE getVMDetais()----------
12:56:08,956 INFO  ~  getVMDetais() params : vdc_id 185 vapp_id : 188 vm-id : 243
12:56:08,956 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_252_, mkt_config0_.deploy_enterprise_id as deploy2_252_, mkt_config0_.enterprise_name as enterprise3_252_, mkt_config0_.mkt_branding_css as mkt4_252_, mkt_config0_.mkt_branding_icon as mkt5_252_, mkt_config0_.mkt_deploy_pw as mkt6_252_, mkt_config0_.mkt_deploy_user as mkt7_252_, mkt_config0_.mkt_theme_css as mkt8_252_, mkt_config0_.mkt_url as mkt9_252_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
12:56:08,957 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
12:56:08,957 INFO  ~  AbiquoUtils context set to :null
12:56:08,957 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:56:09,795 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
12:56:09,796 INFO  ~  CREATED VM : VirtualMachine [id=244, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_1a2c2de8-a1f5-46ff-98aa-d97d55bb0ab2, password=vmpassword, ram=128, uuid=1a2c2de8-a1f5-46ff-98aa-d97d55bb0ab2, vncAddress=null, vncPort=0]
12:56:09,846 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
12:56:09,846 INFO  ~ ------------------------- INSIDE getVMDetais()----------
12:56:09,846 INFO  ~  getVMDetais() params : vdc_id 185 vapp_id : 188 vm-id : 244
12:56:09,846 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_252_, mkt_config0_.deploy_enterprise_id as deploy2_252_, mkt_config0_.enterprise_name as enterprise3_252_, mkt_config0_.mkt_branding_css as mkt4_252_, mkt_config0_.mkt_branding_icon as mkt5_252_, mkt_config0_.mkt_deploy_pw as mkt6_252_, mkt_config0_.mkt_deploy_user as mkt7_252_, mkt_config0_.mkt_theme_css as mkt8_252_, mkt_config0_.mkt_url as mkt9_252_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
12:56:09,847 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
12:56:09,847 INFO  ~  AbiquoUtils context set to :null
12:56:09,848 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:56:21,527 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
12:56:21,527 INFO  ~ CURRENT USER EMAIL ID: userent
12:56:21,527 DEBUG ~ /* load models.Offer */ select offer0_.id as id243_0_, offer0_.datacenter as datacenter243_0_, offer0_.defaultLeasePeriod as defaultL3_243_0_, offer0_.defaultNetworkType as defaultN4_243_0_, offer0_.defaultServiceLevel as defaultS5_243_0_, offer0_.hypervisorType as hypervis6_243_0_, offer0_.icon as icon243_0_, offer0_.iconName as iconName243_0_, offer0_.image as image243_0_, offer0_.longDescription as longDes10_243_0_, offer0_.name as name243_0_, offer0_.price as price243_0_, offer0_.serviceType as service13_243_0_, offer0_.shortDescription as shortDe14_243_0_, offer0_.state as state243_0_, offer0_.virtualAppliance as virtual16_243_0_, offer0_.virtualDatacenter as virtual17_243_0_, offer0_.virtualDatacenterName as virtual18_243_0_ from Offer offer0_ where offer0_.id=?
12:56:21,529 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
12:56:21,530 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_243_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_250_0_, nodes1_.cpu as cpu250_0_, nodes1_.description as descript3_250_0_, nodes1_.hd as hd250_0_, nodes1_.icon as icon250_0_, nodes1_.idImage as idImage250_0_, nodes1_.node_name as node7_250_0_, nodes1_.ram as ram250_0_, nodes1_1_.offer_id as offer1_251_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:56:22,602 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
12:56:22,602 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
12:56:22,639 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
12:56:22,770 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
12:56:22,862 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
12:56:22,862 INFO  ~  vdcname : POR-userent-2012-09-12 12:56:22.862
12:56:22,958 INFO  ~  VDC to deploy: 
12:56:22,958 INFO  ~  Hypervisor to deploy: 
12:56:23,012 INFO  ~  Datacenter to deploy: 
12:56:23,012 INFO  ~  Network Built
12:56:23,012 INFO  ~ VDC built  
12:56:25,296 INFO  ~  1. VDC CREATED 
12:56:25,446 INFO  ~  2. VAPP CREATED 
12:56:25,447 DEBUG ~ /* load models.UserPortal */ select userportal0_.id as id242_0_, userportal0_.email as email242_0_, userportal0_.idAbiquo as idAbiquo242_0_ from UserPortal userportal0_ where userportal0_.id=?
12:56:25,448 INFO  ~ --------------------
12:56:25,448 DEBUG ~ /* load models.Offer */ select offer0_.id as id243_0_, offer0_.datacenter as datacenter243_0_, offer0_.defaultLeasePeriod as defaultL3_243_0_, offer0_.defaultNetworkType as defaultN4_243_0_, offer0_.defaultServiceLevel as defaultS5_243_0_, offer0_.hypervisorType as hypervis6_243_0_, offer0_.icon as icon243_0_, offer0_.iconName as iconName243_0_, offer0_.image as image243_0_, offer0_.longDescription as longDes10_243_0_, offer0_.name as name243_0_, offer0_.price as price243_0_, offer0_.serviceType as service13_243_0_, offer0_.shortDescription as shortDe14_243_0_, offer0_.state as state243_0_, offer0_.virtualAppliance as virtual16_243_0_, offer0_.virtualDatacenter as virtual17_243_0_, offer0_.virtualDatacenterName as virtual18_243_0_ from Offer offer0_ where offer0_.id=?
12:56:25,449 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
12:56:25,450 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ where offer0_.id=?
12:56:25,450 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
12:56:25,451 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_243_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_250_0_, nodes1_.cpu as cpu250_0_, nodes1_.description as descript3_250_0_, nodes1_.hd as hd250_0_, nodes1_.icon as icon250_0_, nodes1_.idImage as idImage250_0_, nodes1_.node_name as node7_250_0_, nodes1_.ram as ram250_0_, nodes1_1_.offer_id as offer1_251_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
12:56:25,687 INFO  ~  3. VM CREATED
12:56:25,688 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_250_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_248_0_, nodes_reso1_.resourceType as resource2_248_0_, nodes_reso1_.sequence as sequence248_0_, nodes_reso1_.value as value248_0_, nodes_reso1_1_.id_node as id1_249_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:56:25,776 INFO  ~  4. HARDDISKS ATTACHED 
12:56:25,777 INFO  ~  Handler created :
12:56:26,489 INFO  ~ STARTING MONITORING ......
12:56:26,703 INFO  ~  3. VM CREATED
12:56:26,704 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_250_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_248_0_, nodes_reso1_.resourceType as resource2_248_0_, nodes_reso1_.sequence as sequence248_0_, nodes_reso1_.value as value248_0_, nodes_reso1_1_.id_node as id1_249_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
12:56:26,796 INFO  ~  4. HARDDISKS ATTACHED 
12:56:26,796 INFO  ~  Handler created :
12:56:27,512 INFO  ~ STARTING MONITORING ......
12:56:27,512 INFO  ~ SAVING DEPLOY INFORMATION ......
12:56:27,513 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_id, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
12:56:27,515 ERROR ~ Unknown column 'idVirtualDatacenterUser' in 'field list'
12:56:27,516 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not insert: [models.OfferPurchased]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:476)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert: [models.OfferPurchased]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:64)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2345)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2852)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:94)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
	... 24 more
12:57:04,917 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
12:57:04,917 INFO  ~  CREATED VM : VirtualMachine [id=245, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_b519a1c7-5c07-442d-b45c-99b6e1d5ad63, password=vmpassword, ram=64, uuid=b519a1c7-5c07-442d-b45c-99b6e1d5ad63, vncAddress=null, vncPort=0]
12:57:04,970 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
12:57:04,970 INFO  ~ ------------------------- INSIDE getVMDetais()----------
12:57:04,970 INFO  ~  getVMDetais() params : vdc_id 186 vapp_id : 189 vm-id : 245
12:57:04,970 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_252_, mkt_config0_.deploy_enterprise_id as deploy2_252_, mkt_config0_.enterprise_name as enterprise3_252_, mkt_config0_.mkt_branding_css as mkt4_252_, mkt_config0_.mkt_branding_icon as mkt5_252_, mkt_config0_.mkt_deploy_pw as mkt6_252_, mkt_config0_.mkt_deploy_user as mkt7_252_, mkt_config0_.mkt_theme_css as mkt8_252_, mkt_config0_.mkt_url as mkt9_252_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
12:57:04,970 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
12:57:04,970 INFO  ~  AbiquoUtils context set to :null
12:57:04,971 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
12:57:05,094 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
12:57:05,094 INFO  ~  CREATED VM : VirtualMachine [id=246, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_9b1564fa-224b-4b12-ad1b-6cfd2fa4152c, password=vmpassword, ram=128, uuid=9b1564fa-224b-4b12-ad1b-6cfd2fa4152c, vncAddress=null, vncPort=0]
12:57:05,132 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
12:57:05,132 INFO  ~ ------------------------- INSIDE getVMDetais()----------
12:57:05,132 INFO  ~  getVMDetais() params : vdc_id 186 vapp_id : 189 vm-id : 246
12:57:05,132 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_252_, mkt_config0_.deploy_enterprise_id as deploy2_252_, mkt_config0_.enterprise_name as enterprise3_252_, mkt_config0_.mkt_branding_css as mkt4_252_, mkt_config0_.mkt_branding_icon as mkt5_252_, mkt_config0_.mkt_deploy_pw as mkt6_252_, mkt_config0_.mkt_deploy_user as mkt7_252_, mkt_config0_.mkt_theme_css as mkt8_252_, mkt_config0_.mkt_url as mkt9_252_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
12:57:05,132 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
12:57:05,132 INFO  ~  AbiquoUtils context set to :null
12:57:05,133 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:01:30,070 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
13:01:30,070 INFO  ~ CURRENT USER EMAIL ID: userent
13:01:30,070 DEBUG ~ /* load models.Offer */ select offer0_.id as id243_0_, offer0_.datacenter as datacenter243_0_, offer0_.defaultLeasePeriod as defaultL3_243_0_, offer0_.defaultNetworkType as defaultN4_243_0_, offer0_.defaultServiceLevel as defaultS5_243_0_, offer0_.hypervisorType as hypervis6_243_0_, offer0_.icon as icon243_0_, offer0_.iconName as iconName243_0_, offer0_.image as image243_0_, offer0_.longDescription as longDes10_243_0_, offer0_.name as name243_0_, offer0_.price as price243_0_, offer0_.serviceType as service13_243_0_, offer0_.shortDescription as shortDe14_243_0_, offer0_.state as state243_0_, offer0_.virtualAppliance as virtual16_243_0_, offer0_.virtualDatacenter as virtual17_243_0_, offer0_.virtualDatacenterName as virtual18_243_0_ from Offer offer0_ where offer0_.id=?
13:01:30,071 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
13:01:30,085 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_243_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_250_0_, nodes1_.cpu as cpu250_0_, nodes1_.description as descript3_250_0_, nodes1_.hd as hd250_0_, nodes1_.icon as icon250_0_, nodes1_.idImage as idImage250_0_, nodes1_.node_name as node7_250_0_, nodes1_.ram as ram250_0_, nodes1_1_.offer_id as offer1_251_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:01:31,341 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
13:01:31,341 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
13:01:31,382 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
13:01:31,495 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
13:01:31,602 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:01:31,602 INFO  ~  vdcname : POR-userent-2012-09-12 13:01:31.601
13:01:31,704 INFO  ~  VDC to deploy: 
13:01:31,704 INFO  ~  Hypervisor to deploy: 
13:01:31,760 INFO  ~  Datacenter to deploy: 
13:01:31,760 INFO  ~  Network Built
13:01:31,760 INFO  ~ VDC built  
13:01:42,910 INFO  ~  1. VDC CREATED 
13:01:46,702 INFO  ~  2. VAPP CREATED 
13:01:46,703 DEBUG ~ /* load models.UserPortal */ select userportal0_.id as id242_0_, userportal0_.email as email242_0_, userportal0_.idAbiquo as idAbiquo242_0_ from UserPortal userportal0_ where userportal0_.id=?
13:01:46,704 INFO  ~ --------------------
13:01:46,704 DEBUG ~ /* load models.Offer */ select offer0_.id as id243_0_, offer0_.datacenter as datacenter243_0_, offer0_.defaultLeasePeriod as defaultL3_243_0_, offer0_.defaultNetworkType as defaultN4_243_0_, offer0_.defaultServiceLevel as defaultS5_243_0_, offer0_.hypervisorType as hypervis6_243_0_, offer0_.icon as icon243_0_, offer0_.iconName as iconName243_0_, offer0_.image as image243_0_, offer0_.longDescription as longDes10_243_0_, offer0_.name as name243_0_, offer0_.price as price243_0_, offer0_.serviceType as service13_243_0_, offer0_.shortDescription as shortDe14_243_0_, offer0_.state as state243_0_, offer0_.virtualAppliance as virtual16_243_0_, offer0_.virtualDatacenter as virtual17_243_0_, offer0_.virtualDatacenterName as virtual18_243_0_ from Offer offer0_ where offer0_.id=?
13:01:46,706 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
13:01:46,706 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ where offer0_.id=?
13:01:46,707 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
13:01:46,707 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_243_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_250_0_, nodes1_.cpu as cpu250_0_, nodes1_.description as descript3_250_0_, nodes1_.hd as hd250_0_, nodes1_.icon as icon250_0_, nodes1_.idImage as idImage250_0_, nodes1_.node_name as node7_250_0_, nodes1_.ram as ram250_0_, nodes1_1_.offer_id as offer1_251_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:01:52,122 INFO  ~  3. VM CREATED
13:01:52,122 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_250_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_248_0_, nodes_reso1_.resourceType as resource2_248_0_, nodes_reso1_.sequence as sequence248_0_, nodes_reso1_.value as value248_0_, nodes_reso1_1_.id_node as id1_249_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:01:52,231 INFO  ~  4. HARDDISKS ATTACHED 
13:01:52,231 INFO  ~  Handler created :
13:01:53,317 INFO  ~ STARTING MONITORING ......
13:01:53,516 INFO  ~  3. VM CREATED
13:01:53,517 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_250_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_248_0_, nodes_reso1_.resourceType as resource2_248_0_, nodes_reso1_.sequence as sequence248_0_, nodes_reso1_.value as value248_0_, nodes_reso1_1_.id_node as id1_249_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:01:53,633 INFO  ~  4. HARDDISKS ATTACHED 
13:01:53,633 INFO  ~  Handler created :
13:01:54,425 INFO  ~ STARTING MONITORING ......
13:01:54,426 INFO  ~ SAVING DEPLOY INFORMATION ......
13:01:54,426 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_id, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:01:54,429 ERROR ~ Unknown column 'idVirtualDatacenterUser' in 'field list'
13:01:54,429 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not insert: [models.OfferPurchased]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:476)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert: [models.OfferPurchased]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:64)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2345)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2852)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:94)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
	... 24 more
13:01:59,131 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:01:59,131 INFO  ~ Enterprie ID for current User 3
13:01:59,131 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:01:59,134 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:01:59,718 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:01:59,718 INFO  ~ Enterprie ID for current User 3
13:01:59,718 INFO  ~ CURRENT USER EMAIL ID: userent
13:01:59,718 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:01:59,720 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:01:59,787 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:01:59,787 INFO  ~  OfferID for icon 1
13:01:59,787 DEBUG ~ /* load models.Offer */ select offer0_.id as id243_0_, offer0_.datacenter as datacenter243_0_, offer0_.defaultLeasePeriod as defaultL3_243_0_, offer0_.defaultNetworkType as defaultN4_243_0_, offer0_.defaultServiceLevel as defaultS5_243_0_, offer0_.hypervisorType as hypervis6_243_0_, offer0_.icon as icon243_0_, offer0_.iconName as iconName243_0_, offer0_.image as image243_0_, offer0_.longDescription as longDes10_243_0_, offer0_.name as name243_0_, offer0_.price as price243_0_, offer0_.serviceType as service13_243_0_, offer0_.shortDescription as shortDe14_243_0_, offer0_.state as state243_0_, offer0_.virtualAppliance as virtual16_243_0_, offer0_.virtualDatacenter as virtual17_243_0_, offer0_.virtualDatacenterName as virtual18_243_0_ from Offer offer0_ where offer0_.id=?
13:01:59,788 INFO  ~ ------------------------- EXITING displayIcon()---------
13:02:05,230 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
13:02:05,230 INFO  ~ CURRENT USER EMAIL ID: userent
13:02:05,230 DEBUG ~ /* load models.Offer */ select offer0_.id as id243_0_, offer0_.datacenter as datacenter243_0_, offer0_.defaultLeasePeriod as defaultL3_243_0_, offer0_.defaultNetworkType as defaultN4_243_0_, offer0_.defaultServiceLevel as defaultS5_243_0_, offer0_.hypervisorType as hypervis6_243_0_, offer0_.icon as icon243_0_, offer0_.iconName as iconName243_0_, offer0_.image as image243_0_, offer0_.longDescription as longDes10_243_0_, offer0_.name as name243_0_, offer0_.price as price243_0_, offer0_.serviceType as service13_243_0_, offer0_.shortDescription as shortDe14_243_0_, offer0_.state as state243_0_, offer0_.virtualAppliance as virtual16_243_0_, offer0_.virtualDatacenter as virtual17_243_0_, offer0_.virtualDatacenterName as virtual18_243_0_ from Offer offer0_ where offer0_.id=?
13:02:05,231 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
13:02:05,232 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_243_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_250_0_, nodes1_.cpu as cpu250_0_, nodes1_.description as descript3_250_0_, nodes1_.hd as hd250_0_, nodes1_.icon as icon250_0_, nodes1_.idImage as idImage250_0_, nodes1_.node_name as node7_250_0_, nodes1_.ram as ram250_0_, nodes1_1_.offer_id as offer1_251_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:02:05,910 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
13:02:05,910 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
13:02:05,961 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
13:02:06,071 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
13:02:06,153 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:02:06,153 INFO  ~  vdcname : POR-userent-2012-09-12 13:02:06.153
13:02:06,272 INFO  ~  VDC to deploy: 
13:02:06,272 INFO  ~  Hypervisor to deploy: 
13:02:06,344 INFO  ~  Datacenter to deploy: 
13:02:06,344 INFO  ~  Network Built
13:02:06,344 INFO  ~ VDC built  
13:02:13,318 INFO  ~  1. VDC CREATED 
13:02:16,014 INFO  ~  2. VAPP CREATED 
13:02:16,015 DEBUG ~ /* load models.UserPortal */ select userportal0_.id as id242_0_, userportal0_.email as email242_0_, userportal0_.idAbiquo as idAbiquo242_0_ from UserPortal userportal0_ where userportal0_.id=?
13:02:16,016 INFO  ~ --------------------
13:02:16,016 DEBUG ~ /* load models.Offer */ select offer0_.id as id243_0_, offer0_.datacenter as datacenter243_0_, offer0_.defaultLeasePeriod as defaultL3_243_0_, offer0_.defaultNetworkType as defaultN4_243_0_, offer0_.defaultServiceLevel as defaultS5_243_0_, offer0_.hypervisorType as hypervis6_243_0_, offer0_.icon as icon243_0_, offer0_.iconName as iconName243_0_, offer0_.image as image243_0_, offer0_.longDescription as longDes10_243_0_, offer0_.name as name243_0_, offer0_.price as price243_0_, offer0_.serviceType as service13_243_0_, offer0_.shortDescription as shortDe14_243_0_, offer0_.state as state243_0_, offer0_.virtualAppliance as virtual16_243_0_, offer0_.virtualDatacenter as virtual17_243_0_, offer0_.virtualDatacenterName as virtual18_243_0_ from Offer offer0_ where offer0_.id=?
13:02:16,018 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
13:02:16,018 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ where offer0_.id=?
13:02:16,019 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
13:02:16,019 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_243_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_250_0_, nodes1_.cpu as cpu250_0_, nodes1_.description as descript3_250_0_, nodes1_.hd as hd250_0_, nodes1_.icon as icon250_0_, nodes1_.idImage as idImage250_0_, nodes1_.node_name as node7_250_0_, nodes1_.ram as ram250_0_, nodes1_1_.offer_id as offer1_251_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:02:33,474 INFO  ~  3. VM CREATED
13:02:33,474 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_250_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_248_0_, nodes_reso1_.resourceType as resource2_248_0_, nodes_reso1_.sequence as sequence248_0_, nodes_reso1_.value as value248_0_, nodes_reso1_1_.id_node as id1_249_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:02:33,559 INFO  ~  4. HARDDISKS ATTACHED 
13:02:33,559 INFO  ~  Handler created :
13:02:33,948 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:02:33,948 INFO  ~  CREATED VM : VirtualMachine [id=247, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_b1050168-2d37-448d-8f10-fa45c94577b6, password=vmpassword, ram=64, uuid=b1050168-2d37-448d-8f10-fa45c94577b6, vncAddress=null, vncPort=0]
13:02:34,011 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
13:02:34,011 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:02:34,011 INFO  ~  getVMDetais() params : vdc_id 187 vapp_id : 190 vm-id : 247
13:02:34,011 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_252_, mkt_config0_.deploy_enterprise_id as deploy2_252_, mkt_config0_.enterprise_name as enterprise3_252_, mkt_config0_.mkt_branding_css as mkt4_252_, mkt_config0_.mkt_branding_icon as mkt5_252_, mkt_config0_.mkt_deploy_pw as mkt6_252_, mkt_config0_.mkt_deploy_user as mkt7_252_, mkt_config0_.mkt_theme_css as mkt8_252_, mkt_config0_.mkt_url as mkt9_252_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:02:34,012 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:02:34,012 INFO  ~  AbiquoUtils context set to :null
13:02:34,012 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:02:34,239 INFO  ~ STARTING MONITORING ......
13:02:34,485 INFO  ~  3. VM CREATED
13:02:34,486 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_250_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_248_0_, nodes_reso1_.resourceType as resource2_248_0_, nodes_reso1_.sequence as sequence248_0_, nodes_reso1_.value as value248_0_, nodes_reso1_1_.id_node as id1_249_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:02:34,585 INFO  ~  4. HARDDISKS ATTACHED 
13:02:34,585 INFO  ~  Handler created :
13:02:35,041 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:02:35,042 INFO  ~  CREATED VM : VirtualMachine [id=248, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_09ff2296-12b5-411d-ab90-1320590aed0f, password=vmpassword, ram=128, uuid=09ff2296-12b5-411d-ab90-1320590aed0f, vncAddress=null, vncPort=0]
13:02:35,098 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
13:02:35,098 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:02:35,098 INFO  ~  getVMDetais() params : vdc_id 187 vapp_id : 190 vm-id : 248
13:02:35,098 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_252_, mkt_config0_.deploy_enterprise_id as deploy2_252_, mkt_config0_.enterprise_name as enterprise3_252_, mkt_config0_.mkt_branding_css as mkt4_252_, mkt_config0_.mkt_branding_icon as mkt5_252_, mkt_config0_.mkt_deploy_pw as mkt6_252_, mkt_config0_.mkt_deploy_user as mkt7_252_, mkt_config0_.mkt_theme_css as mkt8_252_, mkt_config0_.mkt_url as mkt9_252_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:02:35,099 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:02:35,099 INFO  ~  AbiquoUtils context set to :null
13:02:35,100 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:02:35,271 INFO  ~ STARTING MONITORING ......
13:02:35,271 INFO  ~ SAVING DEPLOY INFORMATION ......
13:02:35,272 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_id, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:02:35,273 ERROR ~ Unknown column 'idVirtualDatacenterUser' in 'field list'
13:02:35,273 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not insert: [models.OfferPurchased]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:476)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert: [models.OfferPurchased]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:64)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2345)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2852)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:94)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
	... 24 more
13:03:10,786 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:03:10,786 INFO  ~  CREATED VM : VirtualMachine [id=250, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_e9a7b4eb-482b-43b6-b7f1-c2820211cfe9, password=vmpassword, ram=128, uuid=e9a7b4eb-482b-43b6-b7f1-c2820211cfe9, vncAddress=null, vncPort=0]
13:03:10,833 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
13:03:10,833 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:03:10,834 INFO  ~  getVMDetais() params : vdc_id 188 vapp_id : 191 vm-id : 250
13:03:10,834 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_252_, mkt_config0_.deploy_enterprise_id as deploy2_252_, mkt_config0_.enterprise_name as enterprise3_252_, mkt_config0_.mkt_branding_css as mkt4_252_, mkt_config0_.mkt_branding_icon as mkt5_252_, mkt_config0_.mkt_deploy_pw as mkt6_252_, mkt_config0_.mkt_deploy_user as mkt7_252_, mkt_config0_.mkt_theme_css as mkt8_252_, mkt_config0_.mkt_url as mkt9_252_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:03:10,834 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:03:10,834 INFO  ~  AbiquoUtils context set to :null
13:03:10,834 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:03:14,054 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
13:03:14,055 INFO  ~ CURRENT USER EMAIL ID: userent
13:03:14,055 DEBUG ~ /* load models.Offer */ select offer0_.id as id243_0_, offer0_.datacenter as datacenter243_0_, offer0_.defaultLeasePeriod as defaultL3_243_0_, offer0_.defaultNetworkType as defaultN4_243_0_, offer0_.defaultServiceLevel as defaultS5_243_0_, offer0_.hypervisorType as hypervis6_243_0_, offer0_.icon as icon243_0_, offer0_.iconName as iconName243_0_, offer0_.image as image243_0_, offer0_.longDescription as longDes10_243_0_, offer0_.name as name243_0_, offer0_.price as price243_0_, offer0_.serviceType as service13_243_0_, offer0_.shortDescription as shortDe14_243_0_, offer0_.state as state243_0_, offer0_.virtualAppliance as virtual16_243_0_, offer0_.virtualDatacenter as virtual17_243_0_, offer0_.virtualDatacenterName as virtual18_243_0_ from Offer offer0_ where offer0_.id=?
13:03:14,056 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
13:03:14,058 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_243_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_250_0_, nodes1_.cpu as cpu250_0_, nodes1_.description as descript3_250_0_, nodes1_.hd as hd250_0_, nodes1_.icon as icon250_0_, nodes1_.idImage as idImage250_0_, nodes1_.node_name as node7_250_0_, nodes1_.ram as ram250_0_, nodes1_1_.offer_id as offer1_251_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:03:14,898 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:03:14,898 INFO  ~  CREATED VM : VirtualMachine [id=249, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_bbc6f0ab-c542-48f2-9fe2-e177a4ff4b76, password=vmpassword, ram=64, uuid=bbc6f0ab-c542-48f2-9fe2-e177a4ff4b76, vncAddress=null, vncPort=0]
13:03:14,956 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
13:03:14,956 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:03:14,956 INFO  ~  getVMDetais() params : vdc_id 188 vapp_id : 191 vm-id : 249
13:03:14,956 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_252_, mkt_config0_.deploy_enterprise_id as deploy2_252_, mkt_config0_.enterprise_name as enterprise3_252_, mkt_config0_.mkt_branding_css as mkt4_252_, mkt_config0_.mkt_branding_icon as mkt5_252_, mkt_config0_.mkt_deploy_pw as mkt6_252_, mkt_config0_.mkt_deploy_user as mkt7_252_, mkt_config0_.mkt_theme_css as mkt8_252_, mkt_config0_.mkt_url as mkt9_252_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:03:14,957 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:03:14,957 INFO  ~  AbiquoUtils context set to :null
13:03:14,957 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:03:15,327 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
13:03:15,327 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
13:03:15,375 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
13:03:15,495 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
13:03:15,578 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:03:15,578 INFO  ~  vdcname : POR-userent-2012-09-12 13:03:15.578
13:03:15,670 INFO  ~  VDC to deploy: 
13:03:15,670 INFO  ~  Hypervisor to deploy: 
13:03:15,725 INFO  ~  Datacenter to deploy: 
13:03:15,725 INFO  ~  Network Built
13:03:15,725 INFO  ~ VDC built  
13:03:30,191 INFO  ~  1. VDC CREATED 
13:03:32,712 INFO  ~  2. VAPP CREATED 
13:03:32,712 DEBUG ~ /* load models.UserPortal */ select userportal0_.id as id242_0_, userportal0_.email as email242_0_, userportal0_.idAbiquo as idAbiquo242_0_ from UserPortal userportal0_ where userportal0_.id=?
13:03:32,713 INFO  ~ --------------------
13:03:32,713 DEBUG ~ /* load models.Offer */ select offer0_.id as id243_0_, offer0_.datacenter as datacenter243_0_, offer0_.defaultLeasePeriod as defaultL3_243_0_, offer0_.defaultNetworkType as defaultN4_243_0_, offer0_.defaultServiceLevel as defaultS5_243_0_, offer0_.hypervisorType as hypervis6_243_0_, offer0_.icon as icon243_0_, offer0_.iconName as iconName243_0_, offer0_.image as image243_0_, offer0_.longDescription as longDes10_243_0_, offer0_.name as name243_0_, offer0_.price as price243_0_, offer0_.serviceType as service13_243_0_, offer0_.shortDescription as shortDe14_243_0_, offer0_.state as state243_0_, offer0_.virtualAppliance as virtual16_243_0_, offer0_.virtualDatacenter as virtual17_243_0_, offer0_.virtualDatacenterName as virtual18_243_0_ from Offer offer0_ where offer0_.id=?
13:03:32,714 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
13:03:32,714 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id243_, offer0_.datacenter as datacenter243_, offer0_.defaultLeasePeriod as defaultL3_243_, offer0_.defaultNetworkType as defaultN4_243_, offer0_.defaultServiceLevel as defaultS5_243_, offer0_.hypervisorType as hypervis6_243_, offer0_.icon as icon243_, offer0_.iconName as iconName243_, offer0_.image as image243_, offer0_.longDescription as longDes10_243_, offer0_.name as name243_, offer0_.price as price243_, offer0_.serviceType as service13_243_, offer0_.shortDescription as shortDe14_243_, offer0_.state as state243_, offer0_.virtualAppliance as virtual16_243_, offer0_.virtualDatacenter as virtual17_243_, offer0_.virtualDatacenterName as virtual18_243_ from Offer offer0_ where offer0_.id=?
13:03:32,715 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
13:03:32,715 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_243_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_250_0_, nodes1_.cpu as cpu250_0_, nodes1_.description as descript3_250_0_, nodes1_.hd as hd250_0_, nodes1_.icon as icon250_0_, nodes1_.idImage as idImage250_0_, nodes1_.node_name as node7_250_0_, nodes1_.ram as ram250_0_, nodes1_1_.offer_id as offer1_251_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:03:49,549 INFO  ~  3. VM CREATED
13:03:49,549 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_250_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_248_0_, nodes_reso1_.resourceType as resource2_248_0_, nodes_reso1_.sequence as sequence248_0_, nodes_reso1_.value as value248_0_, nodes_reso1_1_.id_node as id1_249_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:03:49,632 INFO  ~  4. HARDDISKS ATTACHED 
13:03:49,632 INFO  ~  Handler created :
13:03:50,165 INFO  ~ STARTING MONITORING ......
13:03:50,384 INFO  ~  3. VM CREATED
13:03:50,385 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_250_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_248_0_, nodes_reso1_.resourceType as resource2_248_0_, nodes_reso1_.sequence as sequence248_0_, nodes_reso1_.value as value248_0_, nodes_reso1_1_.id_node as id1_249_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:03:50,497 INFO  ~  4. HARDDISKS ATTACHED 
13:03:50,497 INFO  ~  Handler created :
13:03:51,067 INFO  ~ STARTING MONITORING ......
13:03:51,068 INFO  ~ SAVING DEPLOY INFORMATION ......
13:03:51,068 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_id, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:03:51,069 ERROR ~ Unknown column 'idVirtualDatacenterUser' in 'field list'
13:03:51,070 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not insert: [models.OfferPurchased]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:476)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert: [models.OfferPurchased]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:64)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2345)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2852)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:94)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
	... 24 more
13:04:25,215 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:04:25,215 ERROR ~ Table 'Deploy_Bundle' already exists
13:04:26,104 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:04:26,104 ERROR ~ Table 'UserPortal' already exists
13:04:26,105 ERROR ~ Unsuccessful: create table offerPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, idVirtualDatacenterUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, virtualApplianceState integer, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:04:26,105 ERROR ~ Table 'offerPurchased' already exists
13:04:28,141 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF88877D217396 (offer_id), add constraint FK9BBF88877D217396 foreign key (offer_id) references Offer (id)
13:04:28,141 ERROR ~ Duplicate key name 'FK9BBF88877D217396'
13:04:28,142 ERROR ~ Unsuccessful: alter table offerPurchased add index FK9BBF8887F982D44A (user_id), add constraint FK9BBF8887F982D44A foreign key (user_id) references UserPortal (id)
13:04:28,142 ERROR ~ Duplicate key name 'FK9BBF8887F982D44A'
13:04:29,287 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:04:29,321 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:04:29,995 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:04:30,313 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id265_, offer0_.datacenter as datacenter265_, offer0_.defaultLeasePeriod as defaultL3_265_, offer0_.defaultNetworkType as defaultN4_265_, offer0_.defaultServiceLevel as defaultS5_265_, offer0_.hypervisorType as hypervis6_265_, offer0_.icon as icon265_, offer0_.iconName as iconName265_, offer0_.image as image265_, offer0_.longDescription as longDes10_265_, offer0_.name as name265_, offer0_.price as price265_, offer0_.serviceType as service13_265_, offer0_.shortDescription as shortDe14_265_, offer0_.state as state265_, offer0_.virtualAppliance as virtual16_265_, offer0_.virtualDatacenter as virtual17_265_, offer0_.virtualDatacenterName as virtual18_265_ from Offer offer0_ where offer0_.id=?
13:04:30,404 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id265_, offer0_.datacenter as datacenter265_, offer0_.defaultLeasePeriod as defaultL3_265_, offer0_.defaultNetworkType as defaultN4_265_, offer0_.defaultServiceLevel as defaultS5_265_, offer0_.hypervisorType as hypervis6_265_, offer0_.icon as icon265_, offer0_.iconName as iconName265_, offer0_.image as image265_, offer0_.longDescription as longDes10_265_, offer0_.name as name265_, offer0_.price as price265_, offer0_.serviceType as service13_265_, offer0_.shortDescription as shortDe14_265_, offer0_.state as state265_, offer0_.virtualAppliance as virtual16_265_, offer0_.virtualDatacenter as virtual17_265_, offer0_.virtualDatacenterName as virtual18_265_ from Offer offer0_ where offer0_.id=?
13:04:30,484 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id265_, offer0_.datacenter as datacenter265_, offer0_.defaultLeasePeriod as defaultL3_265_, offer0_.defaultNetworkType as defaultN4_265_, offer0_.defaultServiceLevel as defaultS5_265_, offer0_.hypervisorType as hypervis6_265_, offer0_.icon as icon265_, offer0_.iconName as iconName265_, offer0_.image as image265_, offer0_.longDescription as longDes10_265_, offer0_.name as name265_, offer0_.price as price265_, offer0_.serviceType as service13_265_, offer0_.shortDescription as shortDe14_265_, offer0_.state as state265_, offer0_.virtualAppliance as virtual16_265_, offer0_.virtualDatacenter as virtual17_265_, offer0_.virtualDatacenterName as virtual18_265_ from Offer offer0_ where offer0_.id=?
13:04:30,560 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:04:30,560 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id265_, offer0_.datacenter as datacenter265_, offer0_.defaultLeasePeriod as defaultL3_265_, offer0_.defaultNetworkType as defaultN4_265_, offer0_.defaultServiceLevel as defaultS5_265_, offer0_.hypervisorType as hypervis6_265_, offer0_.icon as icon265_, offer0_.iconName as iconName265_, offer0_.image as image265_, offer0_.longDescription as longDes10_265_, offer0_.name as name265_, offer0_.price as price265_, offer0_.serviceType as service13_265_, offer0_.shortDescription as shortDe14_265_, offer0_.state as state265_, offer0_.virtualAppliance as virtual16_265_, offer0_.virtualDatacenter as virtual17_265_, offer0_.virtualDatacenterName as virtual18_265_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:04:30,561 INFO  ~ resultSet1 size :0
13:04:30,561 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:04:30,561 INFO  ~  resultSet1 size []
13:04:30,561 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:04:31,874 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
13:04:31,922 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:04:32,007 INFO  ~  virtualDC  : Bronze
13:04:32,162 INFO  ~  va  : Bronze
13:04:32,411 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
13:04:35,794 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:04:35,795 INFO  ~  CREATED VM : VirtualMachine [id=251, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_3a2a851d-c4a9-449f-a760-df186afc0c4c, password=vmpassword, ram=64, uuid=3a2a851d-c4a9-449f-a760-df186afc0c4c, vncAddress=null, vncPort=0]
13:04:35,851 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
13:04:35,851 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:04:35,851 INFO  ~  getVMDetais() params : vdc_id 189 vapp_id : 192 vm-id : 251
13:04:35,851 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_274_, mkt_config0_.deploy_enterprise_id as deploy2_274_, mkt_config0_.enterprise_name as enterprise3_274_, mkt_config0_.mkt_branding_css as mkt4_274_, mkt_config0_.mkt_branding_icon as mkt5_274_, mkt_config0_.mkt_deploy_pw as mkt6_274_, mkt_config0_.mkt_deploy_user as mkt7_274_, mkt_config0_.mkt_theme_css as mkt8_274_, mkt_config0_.mkt_url as mkt9_274_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:04:35,852 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:04:35,852 INFO  ~  AbiquoUtils context set to :null
13:04:35,853 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:04:36,627 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:04:36,627 INFO  ~  CREATED VM : VirtualMachine [id=252, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_7a546748-7815-42e3-a1b2-8308a7697567, password=vmpassword, ram=128, uuid=7a546748-7815-42e3-a1b2-8308a7697567, vncAddress=null, vncPort=0]
13:04:36,677 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
13:04:36,677 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:04:36,677 INFO  ~  getVMDetais() params : vdc_id 189 vapp_id : 192 vm-id : 252
13:04:36,678 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_274_, mkt_config0_.deploy_enterprise_id as deploy2_274_, mkt_config0_.enterprise_name as enterprise3_274_, mkt_config0_.mkt_branding_css as mkt4_274_, mkt_config0_.mkt_branding_icon as mkt5_274_, mkt_config0_.mkt_deploy_pw as mkt6_274_, mkt_config0_.mkt_deploy_user as mkt7_274_, mkt_config0_.mkt_theme_css as mkt8_274_, mkt_config0_.mkt_url as mkt9_274_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:04:36,678 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:04:36,678 INFO  ~  AbiquoUtils context set to :null
13:04:36,679 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:04:41,182 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id265_, offer0_.datacenter as datacenter265_, offer0_.defaultLeasePeriod as defaultL3_265_, offer0_.defaultNetworkType as defaultN4_265_, offer0_.defaultServiceLevel as defaultS5_265_, offer0_.hypervisorType as hypervis6_265_, offer0_.icon as icon265_, offer0_.iconName as iconName265_, offer0_.image as image265_, offer0_.longDescription as longDes10_265_, offer0_.name as name265_, offer0_.price as price265_, offer0_.serviceType as service13_265_, offer0_.shortDescription as shortDe14_265_, offer0_.state as state265_, offer0_.virtualAppliance as virtual16_265_, offer0_.virtualDatacenter as virtual17_265_, offer0_.virtualDatacenterName as virtual18_265_ from Offer offer0_ where offer0_.id=? limit ?
13:04:41,190 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
13:04:41,190 INFO  ~ Session user in addToServiceCatalog(): admin
13:04:41,190 INFO  ~  and  vdc 3  & va_id : 1
13:04:41,190 INFO  ~  lease period 100 years
13:04:41,238 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:04:41,754 INFO  ~  description : fsadfa
13:04:41,815 INFO  ~  description : fsadfa
13:04:41,842 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
13:04:41,846 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
13:04:41,846 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
13:04:41,846 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
13:04:41,847 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
13:04:41,847 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
13:04:41,859 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
13:04:42,014 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:04:42,301 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id265_, offer0_.datacenter as datacenter265_, offer0_.defaultLeasePeriod as defaultL3_265_, offer0_.defaultNetworkType as defaultN4_265_, offer0_.defaultServiceLevel as defaultS5_265_, offer0_.hypervisorType as hypervis6_265_, offer0_.icon as icon265_, offer0_.iconName as iconName265_, offer0_.image as image265_, offer0_.longDescription as longDes10_265_, offer0_.name as name265_, offer0_.price as price265_, offer0_.serviceType as service13_265_, offer0_.shortDescription as shortDe14_265_, offer0_.state as state265_, offer0_.virtualAppliance as virtual16_265_, offer0_.virtualDatacenter as virtual17_265_, offer0_.virtualDatacenterName as virtual18_265_ from Offer offer0_ where offer0_.id=?
13:04:42,302 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id265_, offer0_.datacenter as datacenter265_, offer0_.defaultLeasePeriod as defaultL3_265_, offer0_.defaultNetworkType as defaultN4_265_, offer0_.defaultServiceLevel as defaultS5_265_, offer0_.hypervisorType as hypervis6_265_, offer0_.icon as icon265_, offer0_.iconName as iconName265_, offer0_.image as image265_, offer0_.longDescription as longDes10_265_, offer0_.name as name265_, offer0_.price as price265_, offer0_.serviceType as service13_265_, offer0_.shortDescription as shortDe14_265_, offer0_.state as state265_, offer0_.virtualAppliance as virtual16_265_, offer0_.virtualDatacenter as virtual17_265_, offer0_.virtualDatacenterName as virtual18_265_ from Offer offer0_ where offer0_.id=?
13:04:42,374 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id265_, offer0_.datacenter as datacenter265_, offer0_.defaultLeasePeriod as defaultL3_265_, offer0_.defaultNetworkType as defaultN4_265_, offer0_.defaultServiceLevel as defaultS5_265_, offer0_.hypervisorType as hypervis6_265_, offer0_.icon as icon265_, offer0_.iconName as iconName265_, offer0_.image as image265_, offer0_.longDescription as longDes10_265_, offer0_.name as name265_, offer0_.price as price265_, offer0_.serviceType as service13_265_, offer0_.shortDescription as shortDe14_265_, offer0_.state as state265_, offer0_.virtualAppliance as virtual16_265_, offer0_.virtualDatacenter as virtual17_265_, offer0_.virtualDatacenterName as virtual18_265_ from Offer offer0_ where offer0_.id=?
13:04:42,451 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:04:42,451 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id265_, offer0_.datacenter as datacenter265_, offer0_.defaultLeasePeriod as defaultL3_265_, offer0_.defaultNetworkType as defaultN4_265_, offer0_.defaultServiceLevel as defaultS5_265_, offer0_.hypervisorType as hypervis6_265_, offer0_.icon as icon265_, offer0_.iconName as iconName265_, offer0_.image as image265_, offer0_.longDescription as longDes10_265_, offer0_.name as name265_, offer0_.price as price265_, offer0_.serviceType as service13_265_, offer0_.shortDescription as shortDe14_265_, offer0_.state as state265_, offer0_.virtualAppliance as virtual16_265_, offer0_.virtualDatacenter as virtual17_265_, offer0_.virtualDatacenterName as virtual18_265_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:04:42,452 INFO  ~ resultSet1 size :1
13:04:42,452 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:04:42,453 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@519a9cd0 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
13:04:42,453 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:04:42,477 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:04:42,477 INFO  ~  OfferID for icon 1
13:04:42,477 DEBUG ~ /* load models.Offer */ select offer0_.id as id265_0_, offer0_.datacenter as datacenter265_0_, offer0_.defaultLeasePeriod as defaultL3_265_0_, offer0_.defaultNetworkType as defaultN4_265_0_, offer0_.defaultServiceLevel as defaultS5_265_0_, offer0_.hypervisorType as hypervis6_265_0_, offer0_.icon as icon265_0_, offer0_.iconName as iconName265_0_, offer0_.image as image265_0_, offer0_.longDescription as longDes10_265_0_, offer0_.name as name265_0_, offer0_.price as price265_0_, offer0_.serviceType as service13_265_0_, offer0_.shortDescription as shortDe14_265_0_, offer0_.state as state265_0_, offer0_.virtualAppliance as virtual16_265_0_, offer0_.virtualDatacenter as virtual17_265_0_, offer0_.virtualDatacenterName as virtual18_265_0_ from Offer offer0_ where offer0_.id=?
13:04:42,479 INFO  ~ ------------------------- EXITING displayIcon()---------
13:04:45,961 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:04:45,961 INFO  ~ Enterprie ID for current User 3
13:04:45,961 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id265_, offer0_.datacenter as datacenter265_, offer0_.defaultLeasePeriod as defaultL3_265_, offer0_.defaultNetworkType as defaultN4_265_, offer0_.defaultServiceLevel as defaultS5_265_, offer0_.hypervisorType as hypervis6_265_, offer0_.icon as icon265_, offer0_.iconName as iconName265_, offer0_.image as image265_, offer0_.longDescription as longDes10_265_, offer0_.name as name265_, offer0_.price as price265_, offer0_.serviceType as service13_265_, offer0_.shortDescription as shortDe14_265_, offer0_.state as state265_, offer0_.virtualAppliance as virtual16_265_, offer0_.virtualDatacenter as virtual17_265_, offer0_.virtualDatacenterName as virtual18_265_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:04:45,962 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:04:46,607 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:04:46,607 INFO  ~ Enterprie ID for current User 3
13:04:46,607 INFO  ~ CURRENT USER EMAIL ID: userent
13:04:49,142 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id265_, offer0_.datacenter as datacenter265_, offer0_.defaultLeasePeriod as defaultL3_265_, offer0_.defaultNetworkType as defaultN4_265_, offer0_.defaultServiceLevel as defaultS5_265_, offer0_.hypervisorType as hypervis6_265_, offer0_.icon as icon265_, offer0_.iconName as iconName265_, offer0_.image as image265_, offer0_.longDescription as longDes10_265_, offer0_.name as name265_, offer0_.price as price265_, offer0_.serviceType as service13_265_, offer0_.shortDescription as shortDe14_265_, offer0_.state as state265_, offer0_.virtualAppliance as virtual16_265_, offer0_.virtualDatacenter as virtual17_265_, offer0_.virtualDatacenterName as virtual18_265_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:04:49,144 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:04:49,215 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:04:49,215 INFO  ~  OfferID for icon 1
13:04:49,215 DEBUG ~ /* load models.Offer */ select offer0_.id as id265_0_, offer0_.datacenter as datacenter265_0_, offer0_.defaultLeasePeriod as defaultL3_265_0_, offer0_.defaultNetworkType as defaultN4_265_0_, offer0_.defaultServiceLevel as defaultS5_265_0_, offer0_.hypervisorType as hypervis6_265_0_, offer0_.icon as icon265_0_, offer0_.iconName as iconName265_0_, offer0_.image as image265_0_, offer0_.longDescription as longDes10_265_0_, offer0_.name as name265_0_, offer0_.price as price265_0_, offer0_.serviceType as service13_265_0_, offer0_.shortDescription as shortDe14_265_0_, offer0_.state as state265_0_, offer0_.virtualAppliance as virtual16_265_0_, offer0_.virtualDatacenter as virtual17_265_0_, offer0_.virtualDatacenterName as virtual18_265_0_ from Offer offer0_ where offer0_.id=?
13:04:49,216 INFO  ~ ------------------------- EXITING displayIcon()---------
13:05:00,407 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
13:05:00,407 INFO  ~ CURRENT USER EMAIL ID: userent
13:05:00,407 DEBUG ~ /* load models.Offer */ select offer0_.id as id265_0_, offer0_.datacenter as datacenter265_0_, offer0_.defaultLeasePeriod as defaultL3_265_0_, offer0_.defaultNetworkType as defaultN4_265_0_, offer0_.defaultServiceLevel as defaultS5_265_0_, offer0_.hypervisorType as hypervis6_265_0_, offer0_.icon as icon265_0_, offer0_.iconName as iconName265_0_, offer0_.image as image265_0_, offer0_.longDescription as longDes10_265_0_, offer0_.name as name265_0_, offer0_.price as price265_0_, offer0_.serviceType as service13_265_0_, offer0_.shortDescription as shortDe14_265_0_, offer0_.state as state265_0_, offer0_.virtualAppliance as virtual16_265_0_, offer0_.virtualDatacenter as virtual17_265_0_, offer0_.virtualDatacenterName as virtual18_265_0_ from Offer offer0_ where offer0_.id=?
13:05:00,408 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
13:05:00,420 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_265_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_272_0_, nodes1_.cpu as cpu272_0_, nodes1_.description as descript3_272_0_, nodes1_.hd as hd272_0_, nodes1_.icon as icon272_0_, nodes1_.idImage as idImage272_0_, nodes1_.node_name as node7_272_0_, nodes1_.ram as ram272_0_, nodes1_1_.offer_id as offer1_273_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:05:01,409 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
13:05:01,409 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
13:05:01,443 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
13:05:01,531 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
13:05:01,624 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:05:01,625 INFO  ~  vdcname : POR-userent-2012-09-12 13:05:01.624
13:05:01,729 INFO  ~  VDC to deploy: 
13:05:01,729 INFO  ~  Hypervisor to deploy: 
13:05:01,798 INFO  ~  Datacenter to deploy: 
13:05:01,798 INFO  ~  Network Built
13:05:01,798 INFO  ~ VDC built  
13:05:15,714 INFO  ~  1. VDC CREATED 
13:05:22,310 INFO  ~  2. VAPP CREATED 
13:05:27,022 DEBUG ~ /* load models.UserPortal */ select userportal0_.id as id264_0_, userportal0_.email as email264_0_, userportal0_.idAbiquo as idAbiquo264_0_ from UserPortal userportal0_ where userportal0_.id=?
13:05:32,228 INFO  ~ --------------------
13:05:35,781 DEBUG ~ /* load models.Offer */ select offer0_.id as id265_0_, offer0_.datacenter as datacenter265_0_, offer0_.defaultLeasePeriod as defaultL3_265_0_, offer0_.defaultNetworkType as defaultN4_265_0_, offer0_.defaultServiceLevel as defaultS5_265_0_, offer0_.hypervisorType as hypervis6_265_0_, offer0_.icon as icon265_0_, offer0_.iconName as iconName265_0_, offer0_.image as image265_0_, offer0_.longDescription as longDes10_265_0_, offer0_.name as name265_0_, offer0_.price as price265_0_, offer0_.serviceType as service13_265_0_, offer0_.shortDescription as shortDe14_265_0_, offer0_.state as state265_0_, offer0_.virtualAppliance as virtual16_265_0_, offer0_.virtualDatacenter as virtual17_265_0_, offer0_.virtualDatacenterName as virtual18_265_0_ from Offer offer0_ where offer0_.id=?
13:05:58,085 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
13:05:58,085 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id265_, offer0_.datacenter as datacenter265_, offer0_.defaultLeasePeriod as defaultL3_265_, offer0_.defaultNetworkType as defaultN4_265_, offer0_.defaultServiceLevel as defaultS5_265_, offer0_.hypervisorType as hypervis6_265_, offer0_.icon as icon265_, offer0_.iconName as iconName265_, offer0_.image as image265_, offer0_.longDescription as longDes10_265_, offer0_.name as name265_, offer0_.price as price265_, offer0_.serviceType as service13_265_, offer0_.shortDescription as shortDe14_265_, offer0_.state as state265_, offer0_.virtualAppliance as virtual16_265_, offer0_.virtualDatacenter as virtual17_265_, offer0_.virtualDatacenterName as virtual18_265_ from Offer offer0_ where offer0_.id=?
13:05:58,086 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
13:05:58,087 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_265_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_272_0_, nodes1_.cpu as cpu272_0_, nodes1_.description as descript3_272_0_, nodes1_.hd as hd272_0_, nodes1_.icon as icon272_0_, nodes1_.idImage as idImage272_0_, nodes1_.node_name as node7_272_0_, nodes1_.ram as ram272_0_, nodes1_1_.offer_id as offer1_273_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:05:58,326 INFO  ~  3. VM CREATED
13:05:58,327 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_272_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_270_0_, nodes_reso1_.resourceType as resource2_270_0_, nodes_reso1_.sequence as sequence270_0_, nodes_reso1_.value as value270_0_, nodes_reso1_1_.id_node as id1_271_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:05:58,411 INFO  ~  4. HARDDISKS ATTACHED 
13:05:58,412 INFO  ~  Handler created :
13:05:59,063 INFO  ~ STARTING MONITORING ......
13:05:59,340 INFO  ~  3. VM CREATED
13:05:59,341 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_272_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_270_0_, nodes_reso1_.resourceType as resource2_270_0_, nodes_reso1_.sequence as sequence270_0_, nodes_reso1_.value as value270_0_, nodes_reso1_1_.id_node as id1_271_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:05:59,422 INFO  ~  4. HARDDISKS ATTACHED 
13:05:59,422 INFO  ~  Handler created :
13:06:00,173 INFO  ~ STARTING MONITORING ......
13:06:00,173 INFO  ~ SAVING DEPLOY INFORMATION ......
13:06:39,925 DEBUG ~ /* insert models.OfferPurchased */ insert into offerPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_id, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:06:39,934 ERROR ~ Unknown column 'idVirtualDatacenterUser' in 'field list'
13:06:49,712 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:06:49,712 INFO  ~  CREATED VM : VirtualMachine [id=253, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_07c969ec-4cad-4fdc-b9b3-a0da2c41801a, password=vmpassword, ram=64, uuid=07c969ec-4cad-4fdc-b9b3-a0da2c41801a, vncAddress=null, vncPort=0]
13:06:49,757 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
13:06:49,757 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:06:49,757 INFO  ~  getVMDetais() params : vdc_id 190 vapp_id : 193 vm-id : 253
13:06:49,757 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_274_, mkt_config0_.deploy_enterprise_id as deploy2_274_, mkt_config0_.enterprise_name as enterprise3_274_, mkt_config0_.mkt_branding_css as mkt4_274_, mkt_config0_.mkt_branding_icon as mkt5_274_, mkt_config0_.mkt_deploy_pw as mkt6_274_, mkt_config0_.mkt_deploy_user as mkt7_274_, mkt_config0_.mkt_theme_css as mkt8_274_, mkt_config0_.mkt_url as mkt9_274_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:06:49,758 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:06:49,758 INFO  ~  AbiquoUtils context set to :null
13:06:49,758 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:06:55,808 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:06:55,808 INFO  ~  CREATED VM : VirtualMachine [id=254, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_4ff383ce-5e02-4211-a317-6747896311e6, password=vmpassword, ram=128, uuid=4ff383ce-5e02-4211-a317-6747896311e6, vncAddress=null, vncPort=0]
13:06:55,860 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
13:06:55,860 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:06:55,860 INFO  ~  getVMDetais() params : vdc_id 190 vapp_id : 193 vm-id : 254
13:06:55,860 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_274_, mkt_config0_.deploy_enterprise_id as deploy2_274_, mkt_config0_.enterprise_name as enterprise3_274_, mkt_config0_.mkt_branding_css as mkt4_274_, mkt_config0_.mkt_branding_icon as mkt5_274_, mkt_config0_.mkt_deploy_pw as mkt6_274_, mkt_config0_.mkt_deploy_user as mkt7_274_, mkt_config0_.mkt_theme_css as mkt8_274_, mkt_config0_.mkt_url as mkt9_274_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:06:55,861 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:06:55,861 INFO  ~  AbiquoUtils context set to :null
13:06:55,861 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:09:30,363 WARN  ~ EXCEPTION OCCURED  IN deploy()
javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not insert: [models.OfferPurchased]
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1214)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1147)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1153)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:678)
	at play.db.jpa.JPABase._save(JPABase.java:25)
	at play.db.jpa.GenericModel.save(GenericModel.java:203)
	at controllers.Consumer.Deploy(Consumer.java:476)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: org.hibernate.exception.SQLGrammarException: could not insert: [models.OfferPurchased]
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:64)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2345)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2852)
	at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
	at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:320)
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:203)
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:129)
	at org.hibernate.ejb.event.EJB3PersistEventListener.saveWithGeneratedId(EJB3PersistEventListener.java:69)
	at org.hibernate.event.def.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:179)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)
	at org.hibernate.event.def.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:61)
	at org.hibernate.impl.SessionImpl.firePersist(SessionImpl.java:808)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:782)
	at org.hibernate.impl.SessionImpl.persist(SessionImpl.java:786)
	at org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:672)
	... 9 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'idVirtualDatacenterUser' in 'field list'
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)
	at com.mysql.jdbc.Util.getInstance(Util.java:382)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3593)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3525)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1986)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2407)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2325)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2310)
	at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:94)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
	... 24 more
13:09:34,079 ERROR ~ Unsuccessful: create table Deploy_Bundle (bundle_id integer not null auto_increment, deploy_datacenter integer, deploy_hypervisorType varchar(255), deploy_network varchar(255), vapp_id integer, vapp_name varchar(30), vdc_name integer, primary key (bundle_id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:09:34,079 ERROR ~ Table 'Deploy_Bundle' already exists
13:09:34,800 ERROR ~ Unsuccessful: create table OfferPurchased (id integer not null auto_increment, expiration datetime, idVirtualApplianceUser integer, idVirtualDatacenterUser integer, leasePeriod varchar(255), serviceLevel varchar(255), start datetime, virtualApplianceState integer, offer_id integer, user_id varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:09:34,800 ERROR ~ Table 'OfferPurchased' already exists
13:09:34,884 ERROR ~ Unsuccessful: create table UserPortal (id varchar(255) not null, email varchar(255), idAbiquo varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
13:09:34,884 ERROR ~ Table 'UserPortal' already exists
13:09:36,385 ERROR ~ Unsuccessful: alter table OfferPurchased add index FK600654A77D217396 (offer_id), add constraint FK600654A77D217396 foreign key (offer_id) references Offer (id)
13:09:36,385 ERROR ~ Key column 'offer_id' doesn't exist in table
13:09:36,386 ERROR ~ Unsuccessful: alter table OfferPurchased add index FK600654A7F982D44A (user_id), add constraint FK600654A7F982D44A foreign key (user_id) references UserPortal (id)
13:09:36,386 ERROR ~ Key column 'user_id' doesn't exist in table
13:10:56,163 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
13:10:56,166 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
13:10:56,546 WARN  ~ You're running Play! in DEV mode
13:10:56,590 ERROR ~ Could not bind on port 9000
13:11:15,473 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
13:11:15,476 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
13:11:15,858 WARN  ~ You're running Play! in DEV mode
13:11:15,902 ERROR ~ Could not bind on port 9000
13:11:50,875 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
13:11:50,878 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
13:11:51,269 WARN  ~ You're running Play! in DEV mode
13:11:51,312 ERROR ~ Could not bind on port 9000
13:11:58,766 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
13:11:58,770 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
13:11:59,148 WARN  ~ You're running Play! in DEV mode
13:11:59,191 ERROR ~ Could not bind on port 9000
13:12:07,452 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
13:12:07,455 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
13:12:07,841 WARN  ~ You're running Play! in DEV mode
13:12:07,889 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
13:12:23,257 INFO  ~ Connected to jdbc:mysql://localhost/portal
13:12:25,569 INFO  ~ Application 'UserPortal' is now started !
13:12:43,110 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
13:12:43,692 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:12:44,964 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:12:45,485 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
13:12:45,652 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
13:12:46,050 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
13:12:46,148 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:12:46,148 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:12:46,150 INFO  ~ resultSet1 size :0
13:12:46,150 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:12:46,150 INFO  ~  resultSet1 size []
13:12:46,150 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:12:47,227 INFO  ~  -----INSIDE PRODUCER CONFIGURE()------
13:12:47,285 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:12:47,394 INFO  ~  virtualDC  : Bronze
13:12:47,603 INFO  ~  va  : Bronze
13:12:47,947 INFO  ~  -----EXITING PRODUCER CONFIGURE()------
13:12:53,340 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:12:53,756 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
13:12:53,862 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
13:12:54,003 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
13:12:54,094 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:12:54,094 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:12:54,095 INFO  ~ resultSet1 size :0
13:12:54,095 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:12:54,095 INFO  ~  resultSet1 size []
13:12:54,096 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:12:54,137 DEBUG ~ /* from models.Offer o where o.id = ?  */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=? limit ?
13:12:54,161 INFO  ~  -----INSIDE PRODUCER ADDTOSERVICECATALOG()------
13:12:54,161 INFO  ~ Session user in addToServiceCatalog(): admin
13:12:54,161 INFO  ~  and  vdc 3  & va_id : 1
13:12:54,161 INFO  ~  lease period 100 years
13:12:54,208 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:12:55,002 INFO  ~  description : fsd
13:12:55,078 INFO  ~  description : fsd
13:12:55,158 DEBUG ~ /* insert models.Offer */ insert into Offer (datacenter, defaultLeasePeriod, defaultNetworkType, defaultServiceLevel, hypervisorType, icon, iconName, image, longDescription, name, price, serviceType, shortDescription, state, virtualAppliance, virtualDatacenter, virtualDatacenterName) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
13:12:55,172 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
13:12:55,173 DEBUG ~ /* insert models.Nodes */ insert into Nodes (cpu, description, hd, icon, idImage, node_name, ram, id_node) values (?, ?, ?, ?, ?, ?, ?, ?)
13:12:55,175 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
13:12:55,176 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
13:12:55,176 DEBUG ~ /* insert collection row models.Offer.nodes */ insert into Offer_Node (offer_id, id_node) values (?, ?)
13:12:55,180 INFO  ~ -----------EXITING ADDTOSERVICECATALOG()------------
13:12:57,241 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:12:57,617 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
13:12:57,720 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:12:57,721 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:12:57,722 INFO  ~ resultSet1 size :0
13:12:57,722 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:12:57,722 INFO  ~  resultSet1 size []
13:12:57,722 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:12:58,774 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
13:12:59,214 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
13:12:59,223 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
13:12:59,323 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
13:12:59,420 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
13:12:59,420 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
13:12:59,422 INFO  ~ resultSet1 size :1
13:12:59,422 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
13:12:59,423 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@3aec71f8 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
13:12:59,423 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
13:12:59,452 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:12:59,452 INFO  ~  OfferID for icon 1
13:12:59,453 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
13:12:59,455 INFO  ~ ------------------------- EXITING displayIcon()---------
13:13:09,631 INFO  ~ -------------- INSIDE LOGIN.CONNECT()--------------
13:13:09,677 INFO  ~ context: {provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
13:13:10,166 INFO  ~ Role of userRole [id=2, name=USER, blocked=false]
13:13:10,189 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:13:10,189 INFO  ~ Enterprie ID for current User 3
13:13:10,189 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:13:10,191 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:13:10,793 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:13:10,793 INFO  ~ Enterprie ID for current User 3
13:13:10,793 INFO  ~ CURRENT USER EMAIL ID: userent
13:13:10,793 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:13:10,795 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:13:10,974 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:13:10,974 INFO  ~  OfferID for icon 1
13:13:10,974 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
13:13:10,975 INFO  ~ ------------------------- EXITING displayIcon()---------
13:13:13,238 INFO  ~ ---------INSIDE CONSUMER PURCHASECONFIMATION()---------------
13:13:13,239 INFO  ~ CURRENT USER EMAIL ID: userent
13:13:13,239 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
13:13:13,240 INFO  ~ ------------EXITING CONSUMER PURCHASECONFIRMATION()--------------
13:13:13,323 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_8_0_, nodes1_.cpu as cpu8_0_, nodes1_.description as descript3_8_0_, nodes1_.hd as hd8_0_, nodes1_.icon as icon8_0_, nodes1_.idImage as idImage8_0_, nodes1_.node_name as node7_8_0_, nodes1_.ram as ram8_0_, nodes1_1_.offer_id as offer1_9_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:13:19,352 INFO  ~ ---------INSIDE CONSUMER DEPLOY()---------------
13:13:19,352 INFO  ~  DEPLOY( INTEGER ID_DATACENTER:: 1, INTEGER VDC_ID_PARAM :: 3, INTEGER SC_OFFER_ID :: 1 , String va_param:: webserver)
13:13:19,394 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
13:13:19,579 INFO  ~  DEPLOY ENTERPRISE ID  + USERNAME + PASSWORD :3  userent  userent
13:13:19,680 INFO  ~ CURRENT USER EMAIL ID: david.lopez@abiquo.com
13:13:19,680 INFO  ~  vdcname : POR-userent-2012-09-12 13:13:19.679
13:13:19,789 INFO  ~  VDC to deploy: 
13:13:19,789 INFO  ~  Hypervisor to deploy: 
13:13:19,851 INFO  ~  Datacenter to deploy: 
13:13:19,852 INFO  ~  Network Built
13:13:19,852 INFO  ~ VDC built  
13:13:22,789 INFO  ~  1. VDC CREATED 
13:13:22,927 INFO  ~  2. VAPP CREATED 
13:13:22,927 DEBUG ~ /* load models.UserPortal */ select userportal0_.id as id0_0_, userportal0_.email as email0_0_, userportal0_.idAbiquo as idAbiquo0_0_ from UserPortal userportal0_ where userportal0_.id=?
13:13:22,929 INFO  ~ --------------------
13:13:22,929 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
13:13:22,930 INFO  ~  -----INSIDE PRODUCERDAO getPublishedOfferDetails()------
13:13:22,930 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
13:13:22,930 INFO  ~  -----EXITING PRODUCERDAO getPublishedOfferDetails()------
13:13:22,930 DEBUG ~ /* load collection models.Offer.nodes */ select nodes0_.offer_id as offer1_1_1_, nodes0_.id_node as id2_1_, nodes1_.id_node as id1_8_0_, nodes1_.cpu as cpu8_0_, nodes1_.description as descript3_8_0_, nodes1_.hd as hd8_0_, nodes1_.icon as icon8_0_, nodes1_.idImage as idImage8_0_, nodes1_.node_name as node7_8_0_, nodes1_.ram as ram8_0_, nodes1_1_.offer_id as offer1_9_0_ from Offer_Node nodes0_ inner join Nodes nodes1_ on nodes0_.id_node=nodes1_.id_node left outer join Offer_Node nodes1_1_ on nodes1_.id_node=nodes1_1_.id_node where nodes0_.offer_id=?
13:13:23,119 INFO  ~  3. VM CREATED
13:13:23,119 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_8_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_6_0_, nodes_reso1_.resourceType as resource2_6_0_, nodes_reso1_.sequence as sequence6_0_, nodes_reso1_.value as value6_0_, nodes_reso1_1_.id_node as id1_7_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:13:23,224 INFO  ~  4. HARDDISKS ATTACHED 
13:13:23,227 INFO  ~  Handler created :
13:13:26,334 INFO  ~ STARTING MONITORING ......
13:13:26,540 INFO  ~  3. VM CREATED
13:13:26,541 DEBUG ~ /* load collection models.Nodes.resources */ select resources0_.id_node as id1_8_1_, resources0_.id_nodes_resources as id2_1_, nodes_reso1_.id_nodes_resources as id1_6_0_, nodes_reso1_.resourceType as resource2_6_0_, nodes_reso1_.sequence as sequence6_0_, nodes_reso1_.value as value6_0_, nodes_reso1_1_.id_node as id1_7_0_ from Node_Resource resources0_ inner join Nodes_Resources nodes_reso1_ on resources0_.id_nodes_resources=nodes_reso1_.id_nodes_resources left outer join Node_Resource nodes_reso1_1_ on nodes_reso1_.id_nodes_resources=nodes_reso1_1_.id_nodes_resources where resources0_.id_node=?
13:13:26,634 INFO  ~  4. HARDDISKS ATTACHED 
13:13:26,634 INFO  ~  Handler created :
13:13:29,144 INFO  ~ STARTING MONITORING ......
13:13:29,144 INFO  ~ SAVING DEPLOY INFORMATION ......
13:13:29,145 DEBUG ~ /* insert models.OfferPurchased */ insert into OfferPurchased (expiration, idVirtualApplianceUser, idVirtualDatacenterUser, leasePeriod, offer_id, serviceLevel, start, user_id, virtualApplianceState) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:13:29,155 DEBUG ~ /* update models.Offer */ update Offer set datacenter=?, defaultLeasePeriod=?, defaultNetworkType=?, defaultServiceLevel=?, hypervisorType=?, icon=?, iconName=?, image=?, longDescription=?, name=?, price=?, serviceType=?, shortDescription=?, state=?, virtualAppliance=?, virtualDatacenter=?, virtualDatacenterName=? where id=?
13:13:29,159 INFO  ~ DEPLOY INFO SAVED ......
13:13:29,159 INFO  ~ ------------EXITING CONSUMER DEPLOY()--------------
13:14:09,998 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:14:09,998 INFO  ~  CREATED VM : VirtualMachine [id=256, state=ON, cpu=1, description=null, hdInBytes=27262976, idType=1, name=ABQ_ae0240b8-b9a9-4e43-bfe3-7f90c2751530, password=vmpassword, ram=128, uuid=ae0240b8-b9a9-4e43-bfe3-7f90c2751530, vncAddress=null, vncPort=0]
13:14:10,070 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
13:14:10,070 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:14:10,070 INFO  ~  getVMDetais() params : vdc_id 191 vapp_id : 194 vm-id : 256
13:14:10,071 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_10_, mkt_config0_.deploy_enterprise_id as deploy2_10_, mkt_config0_.enterprise_name as enterprise3_10_, mkt_config0_.mkt_branding_css as mkt4_10_, mkt_config0_.mkt_branding_icon as mkt5_10_, mkt_config0_.mkt_deploy_pw as mkt6_10_, mkt_config0_.mkt_deploy_user as mkt7_10_, mkt_config0_.mkt_theme_css as mkt8_10_, mkt_config0_.mkt_url as mkt9_10_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:14:10,072 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:14:10,072 INFO  ~  AbiquoUtils context set to :null
13:14:10,073 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:14:12,088 INFO  ~  Inside Consumer.updateDeployBundleNode() ......
13:14:12,089 INFO  ~  CREATED VM : VirtualMachine [id=255, state=ON, cpu=1, description=null, hdInBytes=104857600, idType=1, name=ABQ_7b8b8407-e84d-4969-b340-7e25ec3e073e, password=vmpassword, ram=64, uuid=7b8b8407-e84d-4969-b340-7e25ec3e073e, vncAddress=null, vncPort=0]
13:14:12,133 INFO  ~  vapp enterprise :Enterprise [id=3, isReservationRestricted=false, name=userent]
13:14:12,133 INFO  ~ ------------------------- INSIDE getVMDetais()----------
13:14:12,133 INFO  ~  getVMDetais() params : vdc_id 191 vapp_id : 194 vm-id : 255
13:14:12,133 DEBUG ~ /* named HQL query getDeployEnterprise */ select mkt_config0_.enterprise_id as enterprise1_10_, mkt_config0_.deploy_enterprise_id as deploy2_10_, mkt_config0_.enterprise_name as enterprise3_10_, mkt_config0_.mkt_branding_css as mkt4_10_, mkt_config0_.mkt_branding_icon as mkt5_10_, mkt_config0_.mkt_deploy_pw as mkt6_10_, mkt_config0_.mkt_deploy_user as mkt7_10_, mkt_config0_.mkt_theme_css as mkt8_10_, mkt_config0_.mkt_url as mkt9_10_ from MKT_Configuration mkt_config0_ where mkt_config0_.deploy_enterprise_id=?
13:14:12,133 INFO  ~  DEPLOY  USERNAME + PASSWORD :null  null
13:14:12,133 INFO  ~  AbiquoUtils context set to :null
13:14:12,134 WARN  ~ EXCEPTION OCCURED
java.lang.NullPointerException
	at controllers.Mails.updateUserConsumption_onSuccess(Mails.java:125)
	at monitor.VmEventHandler.onComplete(VmEventHandler.java:98)
	at com.google.common.eventbus.EventHandler.handleEvent(EventHandler.java:68)
	at com.google.common.eventbus.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:45)
	at com.google.common.eventbus.EventBus.dispatch(EventBus.java:313)
	at com.google.common.eventbus.EventBus.dispatchQueuedEvents(EventBus.java:296)
	at com.google.common.eventbus.EventBus.post(EventBus.java:264)
	at org.jclouds.abiquo.internal.BaseMonitoringService$AsyncMonitor.run(BaseMonitoringService.java:281)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
13:14:32,353 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:14:32,354 INFO  ~ Enterprie ID for current User 3
13:14:32,354 INFO  ~ CURRENT USER EMAIL ID: userent
13:14:32,394 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
13:14:32,394 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromUserId()------
13:14:32,394 DEBUG ~ /* named HQL query getOffersPurchasedFromUserId */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_2_, offerpurch0_.leasePeriod as leasePer5_2_, offerpurch0_.offer_id as offer9_2_, offerpurch0_.serviceLevel as serviceL6_2_, offerpurch0_.start as start2_, offerpurch0_.user_id as user10_2_, offerpurch0_.virtualApplianceState as virtualA8_2_ from OfferPurchased offerpurch0_ where offerpurch0_.user_id=?
13:14:32,397 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromUserId()------
13:14:32,685 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:14:33,047 ERROR ~ 

@6bjmbe8i6
Internal Server Error (500) for request GET /consumer/purchasedOffers?enterpriseID=3

Template execution error (In /app/views/Consumer/purchasedOffers.html around line 38)
Execution error occured in template /app/views/Consumer/purchasedOffers.html. Exception raised was MissingPropertyException : No such property: name for class: models.OfferPurchased Possible solutions: nodes.

play.exceptions.TemplateExecutionException: No such property: name for class: models.OfferPurchased
Possible solutions: nodes
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:86)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:257)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Consumer.purchasedOffers(Consumer.java:205)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: groovy.lang.MissingPropertyException: No such property: name for class: models.OfferPurchased
Possible solutions: nodes
	at /app/views/Consumer/purchasedOffers.html.(line:38)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:232)
	... 13 more
13:15:41,458 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:15:41,458 INFO  ~ Enterprie ID for current User 3
13:15:41,458 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:15:41,461 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:15:42,055 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:15:42,055 INFO  ~ Enterprie ID for current User 3
13:15:42,055 INFO  ~ CURRENT USER EMAIL ID: userent
13:15:48,193 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:17:29,608 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:17:29,630 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:17:29,630 INFO  ~ Enterprie ID for current User 3
13:17:31,048 INFO  ~ CURRENT USER EMAIL ID: userent
13:17:31,098 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
13:17:36,992 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromUserId()------
13:17:36,993 DEBUG ~ /* named HQL query getOffersPurchasedFromUserId */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_2_, offerpurch0_.leasePeriod as leasePer5_2_, offerpurch0_.offer_id as offer9_2_, offerpurch0_.serviceLevel as serviceL6_2_, offerpurch0_.start as start2_, offerpurch0_.user_id as user10_2_, offerpurch0_.virtualApplianceState as virtualA8_2_ from OfferPurchased offerpurch0_ where offerpurch0_.user_id=?
13:17:37,011 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromUserId()------
13:17:53,920 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:18:49,625 ERROR ~ 

@6bjmbe8i7
Internal Server Error (500) for request GET /consumer/purchasedOffers?enterpriseID=3

Template execution error (In /app/views/Consumer/purchasedOffers.html around line 38)
Execution error occured in template /app/views/Consumer/purchasedOffers.html. Exception raised was MissingPropertyException : No such property: name for class: models.OfferPurchased Possible solutions: nodes.

play.exceptions.TemplateExecutionException: No such property: name for class: models.OfferPurchased
Possible solutions: nodes
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:86)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:257)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Consumer.purchasedOffers(Consumer.java:205)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: groovy.lang.MissingPropertyException: No such property: name for class: models.OfferPurchased
Possible solutions: nodes
	at /app/views/Consumer/purchasedOffers.html.(line:38)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:232)
	... 13 more
13:20:33,146 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
13:20:33,147 INFO  ~ Enterprie ID for current User 3
13:20:33,147 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ group by offer0_.defaultServiceLevel
13:20:33,149 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
13:20:33,686 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
13:20:33,686 INFO  ~ Enterprie ID for current User 3
13:20:33,686 INFO  ~ CURRENT USER EMAIL ID: userent
13:20:36,919 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
13:20:36,921 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
13:20:37,009 INFO  ~ ------------------------- INSIDE displayIcon()---------
13:20:37,009 INFO  ~  OfferID for icon 1
13:20:37,009 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
13:20:37,010 INFO  ~ ------------------------- EXITING displayIcon()---------
13:20:40,842 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
13:20:40,842 INFO  ~ Enterprie ID for current User 3
13:20:40,842 INFO  ~ CURRENT USER EMAIL ID: userent
13:20:40,882 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=userent, iso3166Codes=null}
13:20:40,882 INFO  ~  -----INSIDE PRODUCERDAO getOffersPurchasedFromUserId()------
13:20:40,882 DEBUG ~ /* named HQL query getOffersPurchasedFromUserId */ select offerpurch0_.id as id2_, offerpurch0_.expiration as expiration2_, offerpurch0_.idVirtualApplianceUser as idVirtua3_2_, offerpurch0_.idVirtualDatacenterUser as idVirtua4_2_, offerpurch0_.leasePeriod as leasePer5_2_, offerpurch0_.offer_id as offer9_2_, offerpurch0_.serviceLevel as serviceL6_2_, offerpurch0_.start as start2_, offerpurch0_.user_id as user10_2_, offerpurch0_.virtualApplianceState as virtualA8_2_ from OfferPurchased offerpurch0_ where offerpurch0_.user_id=?
13:20:40,883 INFO  ~  -----EXITING PRODUCERDAO getOffersPurchasedFromUserId()------
13:20:41,119 INFO  ~ ------------EXITING CONSUMER PURCHASEDOFFERS()--------------
13:20:41,209 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
13:20:41,223 ERROR ~ 

@6bjmbe8i8
Internal Server Error (500) for request GET /consumer/purchasedOffers?enterpriseID=3

Template execution error (In /app/views/Consumer/purchasedOffers.html around line 45)
Execution error occured in template /app/views/Consumer/purchasedOffers.html. Exception raised was MissingPropertyException : No such property: state for class: models.OfferPurchased Possible solutions: start.

play.exceptions.TemplateExecutionException: No such property: state for class: models.OfferPurchased
Possible solutions: start
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:86)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:257)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:187)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:660)
	at play.mvc.Controller.renderTemplate(Controller.java:640)
	at play.mvc.Controller.render(Controller.java:695)
	at controllers.Consumer.purchasedOffers(Consumer.java:205)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:548)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:502)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:473)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: groovy.lang.MissingPropertyException: No such property: state for class: models.OfferPurchased
Possible solutions: start
	at /app/views/Consumer/purchasedOffers.html.(line:45)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:232)
	... 13 more
09:46:00,531 INFO  ~ Starting /home/dlopez/provisioning-portal/UserPortal
09:46:00,534 INFO  ~ Module crud is available (/opt/play-1.2/modules/crud)
09:46:01,081 WARN  ~ You're running Play! in DEV mode
09:46:01,149 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
09:46:12,056 INFO  ~ Connected to jdbc:mysql://localhost/portal
09:46:12,938 INFO  ~ Application 'UserPortal' is now started !
09:46:15,268 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
09:46:15,845 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:46:17,449 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:46:17,801 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:46:17,892 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:46:17,893 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:46:17,894 INFO  ~ resultSet1 size :0
09:46:17,894 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:46:17,894 INFO  ~  resultSet1 size []
09:46:17,894 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:46:29,651 INFO  ~ -----INSIDE PRODUCER LISTVDC()------ 
09:46:29,702 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:46:30,107 INFO  ~  AbiquoUtils context set to :{provider=abiquo, endpoint=http://10.60.12.12/api, apiVersion=2.0, buildVersion=7bbfe95-158721b, identity=admin, iso3166Codes=null}
09:46:30,334 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:46:30,352 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:46:30,409 DEBUG ~ /* named HQL query getOfferDetails */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.id=?
09:46:30,468 INFO  ~  -----INSIDE PRODUCERDAO getPublishedServiceLevelOffers()------
09:46:30,468 DEBUG ~ /* named HQL query getSubscribedOffers */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.defaultServiceLevel=?
09:46:30,471 INFO  ~ resultSet1 size :1
09:46:30,471 INFO  ~  -----EXITING PRODUCERDAO getPublishedServiceLevelOffers()------
09:46:30,473 INFO  ~  resultSet1 size [sc_offer [ID :1, Name : webserver, Icon: play.db.jpa.Blob@7b4ffad7 , Datacenter:1, Hypervisor Type: VMX_04, Service Type:Infinite]]
09:46:30,473 INFO  ~  -----INSIDE PRODUCER DISPLAYOFFER()------
09:46:30,506 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:46:30,506 INFO  ~  OfferID for icon 1
09:46:30,508 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
09:46:30,510 INFO  ~ ------------------------- EXITING displayIcon()---------
09:46:35,533 INFO  ~ ---------INSIDE CONSUMER SERVICECATALOG()------------
09:46:35,533 INFO  ~ Enterprie ID for current User 3
09:46:35,533 DEBUG ~ /* named HQL query groupByVDC_EnterpriseView */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ group by offer0_.defaultServiceLevel
09:46:35,535 INFO  ~ ------------EXITING CONSUMER SERVICECATALOG()--------------
09:46:36,080 INFO  ~ ---------INSIDE CONSUMER AVAILABLEOFFERS()---------------
09:46:36,080 INFO  ~ Enterprie ID for current User 3
09:46:36,080 INFO  ~ CURRENT USER EMAIL ID: userent
09:46:36,080 DEBUG ~ /* named HQL query getAllOffersByState */ select offer0_.id as id1_, offer0_.datacenter as datacenter1_, offer0_.defaultLeasePeriod as defaultL3_1_, offer0_.defaultNetworkType as defaultN4_1_, offer0_.defaultServiceLevel as defaultS5_1_, offer0_.hypervisorType as hypervis6_1_, offer0_.icon as icon1_, offer0_.iconName as iconName1_, offer0_.image as image1_, offer0_.longDescription as longDes10_1_, offer0_.name as name1_, offer0_.price as price1_, offer0_.serviceType as service13_1_, offer0_.shortDescription as shortDe14_1_, offer0_.state as state1_, offer0_.virtualAppliance as virtual16_1_, offer0_.virtualDatacenter as virtual17_1_, offer0_.virtualDatacenterName as virtual18_1_ from Offer offer0_ where offer0_.state=? order by offer0_.id asc
09:46:36,082 INFO  ~ ------------EXITING CONSUMER AVAILABLEOFFERS()--------------
09:46:36,148 INFO  ~ ------------------------- INSIDE displayIcon()---------
09:46:36,148 INFO  ~  OfferID for icon 1
09:46:36,148 DEBUG ~ /* load models.Offer */ select offer0_.id as id1_0_, offer0_.datacenter as datacenter1_0_, offer0_.defaultLeasePeriod as defaultL3_1_0_, offer0_.defaultNetworkType as defaultN4_1_0_, offer0_.defaultServiceLevel as defaultS5_1_0_, offer0_.hypervisorType as hypervis6_1_0_, offer0_.icon as icon1_0_, offer0_.iconName as iconName1_0_, offer0_.image as image1_0_, offer0_.longDescription as longDes10_1_0_, offer0_.name as name1_0_, offer0_.price as price1_0_, offer0_.serviceType as service13_1_0_, offer0_.shortDescription as shortDe14_1_0_, offer0_.state as state1_0_, offer0_.virtualAppliance as virtual16_1_0_, offer0_.virtualDatacenter as virtual17_1_0_, offer0_.virtualDatacenterName as virtual18_1_0_ from Offer offer0_ where offer0_.id=?
09:46:36,150 INFO  ~ ------------------------- EXITING displayIcon()---------
09:46:39,169 INFO  ~ ---------INSIDE CONSUMER PURCHASEDOFFERS()---------------
